import{P as e,A as t,E as l,w as n,S as o,N as r,B as a,x as i,T as s}from"./vendors-all-4ZE5R_n7.js";import{c as d,A as c,C as u,_ as p,S as f,a as b,b as h,d as g,e as y,M as m,f as v}from"./ant-design-icons-vue-C0jt0gvd.js";import{d as x,c as w,m as k,r as S,o as C,a as N,w as T,b as I,t as A,n as z,h as P,s as R,u as E,e as K,v as O,f as F,j as L,k as M,l as W,p as j,q as H,F as D,x as B,y as Y,i as $,z as V}from"./vue-all-BkT7LybC.js";import{A as G,u as U,_ as q,I as X,B as Q,a as J,D as _,b as Z,c as ee,d as te,e as le,R as ne,f as oe,g as re,C as ae,T as ie,S as se,F as de,h as ce,i as ue,j as pe,k as fe,l as be,P as he,E as ge,m as ye,n as me,M as ve}from"./antdv-all-DwqtpcNy.js";import{d as xe,i as we,a as ke,b as Se,o as Ce,c as Ne,e as Te,q as Ie,w as Ae}from"./date-all-RxM2jsNH.js";const ze=e=>Pe(e)&&e.length>0,Pe=e=>Array.isArray(e),Re=e=>"[object Map]"===Object.prototype.toString.call(e),Ee=e=>"[object Object]"===Object.prototype.toString.call(e),Ke=e=>"[object Set]"===Object.prototype.toString.call(e),Oe=e=>"[object Undefined]"===Object.prototype.toString.call(e),Fe=e=>"[object Number]"===Object.prototype.toString.call(e),Le=e=>Fe(e)&&Number.isFinite(e),Me=e=>"[object String]"===Object.prototype.toString.call(e),We=e=>"[object Date]"===Object.prototype.toString.call(e),je=e=>"[object RegExp]"===Object.prototype.toString.call(e),He=e=>(e=>"[object AsyncFunction]"===Object.prototype.toString.call(e))(e)||(e=>"[object Function]"===Object.prototype.toString.call(e))(e)||(e=>"[object GeneratorFunction]"===Object.prototype.toString.call(e))(e),De=e=>"[object Promise]"===Object.prototype.toString.call(e),Be=(e,t,l=!1)=>{if(e===t)return!0;if(Object.is(e,t))return!0;if(Le(e)&&Le(t))return Math.abs(e-t)<Number.EPSILON;if(je(e)&&je(t))return e.source===t.source&&e.flags===t.flags&&e.lastIndex===t.lastIndex;if(Ee(e)&&Ee(t)){const n=Ee(l)&&!Oe(l.deep)?l.deep:l,o=Ee(l)&&Pe(l.strict)?l.strict.filter((e=>je(e)||Le(e)||Me(e))):[],r=Ee(l)&&Pe(l.exclude)?l.exclude.filter((e=>je(e)||Le(e)||Me(e))):[],a=Ee(l)&&Pe(l.include)?l.include.filter((e=>je(e)||Le(e)||Me(e))):[/(?:)/],i=Object.keys(e).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===a.length||a.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l})),s=Object.keys(t).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===a.length||a.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l}));if(i.length!==s.length)return!1;for(const l of Object.keys(e)){const i=e[l],s=t[l],d=Fe(n)?n:!0===n?1/0:0,c=o.length>0&&o.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),u=r.length>0&&r.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),p=0===a.length||a.some((e=>je(e)?e.test(String(l)):String(e)===String(l)));if(!u&&p&&i!==s){if(c)return!1;if(!(d>=1&&Be(i,s,{strict:o,include:a,exclude:r,deep:d-1})))return!1}}return!0}if(Pe(e)&&Pe(t)){const n=Ee(l)&&!Oe(l.deep)?l.deep:l,o=Ee(l)&&Pe(l.strict)?l.strict.filter((e=>je(e)||Le(e)||Me(e))):[],r=Ee(l)&&Pe(l.exclude)?l.exclude.filter((e=>je(e)||Le(e)||Me(e))):[],a=Ee(l)&&Pe(l.include)?l.include.filter((e=>je(e)||Le(e)||Me(e))):[/(?:)/],i=Object.keys(e).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===a.length||a.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l})),s=Object.keys(t).filter((e=>{const t=r.length>0&&r.some((t=>je(t)?t.test(String(e)):String(t)===String(e))),l=0===a.length||a.some((t=>je(t)?t.test(String(e)):String(t)===String(e)));return!t&&l}));if(i.length!==s.length)return!1;for(const l of e.keys()){const i=e[l],s=t[l],d=Fe(n)?n:!0===n?1/0:0,c=o.length>0&&o.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),u=r.length>0&&r.some((e=>je(e)?e.test(String(l)):String(e)===String(l))),p=0===a.length||a.some((e=>je(e)?e.test(String(l)):String(e)===String(l)));if(!u&&p&&i!==s){if(c)return!1;if(!(d>=1&&Be(i,s,{strict:o,include:a,exclude:r,deep:d-1})))return!1}}return!0}return We(e)&&We(t)?+e==+t:Re(e)&&Re(t)?e.size===t.size&&Be([...e.entries()],[...t.entries()],l):!(!Ke(e)||!Ke(t))&&e.size===t.size&&Be([...e.values()],[...t.values()],l)},Ye=(e,t=!1)=>{const l=Ee(t)&&!Oe(t.deep)?t.deep:t,n=Ee(t)&&Pe(t.omits)?t.omits.filter((e=>je(e)||Me(e)||Le(e))):[],o=Ee(t)&&Pe(t.picks)?t.picks.filter((e=>je(e)||Me(e)||Le(e))):[],r=Ee(t)&&(e=>"[object WeakMap]"===Object.prototype.toString.call(e))(t.cache)?t.cache:new WeakMap,a=Fe(l)?l:!0===l?1/0:1,i=(e,t)=>{const l=Pe(e)?[]:{};for(const[i,s]of Ee(a=e)?Object.entries(a):a.entries()){if(o.length>0&&!o.some((e=>je(e)?e.test(String(i)):String(e)===String(i))))continue;if(n.length>0&&n.some((e=>je(e)?e.test(String(i)):String(e)===String(i))))continue;let e=s;const a=Ke(s),d=Re(s),c=We(s),u=Pe(s),p=Ee(s),f=je(s);a||d||c||u||p||f?(t>1&&!r.has(s)&&r.set(s,Ye(s,{omits:n,picks:o,cache:r,deep:t-1})),t>1&&r.has(s)&&(e=r.get(s)),Pe(l)?l.push(e):l[i]=e):Pe(l)?l.push(e):l[i]=e}var a;return l};if((e=>Number.isNaN(e))(a)||a<1)return e;if(je(e)){const t=e.flags,l=e.source,n=new RegExp(l,t);return n.lastIndex=e.lastIndex,n}if(Ee(e))return i(e,a);if(Pe(e))return i(e,a);if(We(e))return new Date(+e);if(Re(e)){const t=Array.from(e.entries());return new Map(i(t,a))}if(Ke(e)){const t=Array.from(e.values());return new Set(i(t,a))}return e},$e=(e,...t)=>{const l={},n=new WeakMap,o=t.slice(-1)[0],r=Fe(o)?o:!0===o?1/0:1,a=(e,t,o)=>{const r=Re(e)?Array.from(e.entries()):Ke(e)?Array.from(e.values()):e,i=Re(t)?Array.from(t.entries()):Ke(t)?Array.from(t.values()):t;for(const[d,c]of Ee(s=i)?Object.entries(s):s.entries()){if(o<1){r[d]=c;continue}const e=Ke(c),t=Re(c),s=We(c),u=Pe(c),p=Ee(c),f=je(c),b=l.toString.call(r[d])!==l.toString.call(c);e||t||s||u||p||f?(n.has(c)||n.set(c,Ye(c,{deep:o,cache:n})),b?r[d]=n.get(c):a(r[d],i[d],o-1)):r[d]=c}var s;if((Re(e)||Ke(e))&&e.clear(),Re(e))for(const[l,n]of r)e.set(l,n);if(Ke(e))for(const l of r)e.add(l)};if(Ee(e)||Pe(e)||Re(e)||Ke(e))for(const i of t)l.toString.call(e)===l.toString.call(i)&&a(e,i,r-1);return e},Ve=(e,t,l="value",n="children")=>{if(Pe(e)&&(Me(t)||Fe(t)))for(const o of e){if(t===o[l])return o;if(ze(o[n])){const e=Ve(o[n],t,l,n);if(e)return e}}return null};var Ge={isArray:Pe,isObject:Ee,isString:Me,isNumber:Fe,isRegExp:je,isPromise:De,isBoolean:e=>!0===e||!1===e,isFunction:He,isPrimitive:e=>Me(e)||Le(e),isReference:e=>Pe(e)||Ee(e),isEmptyArray:e=>Pe(e)&&0===e.length,isEmptyObject:e=>Ee(e)&&0===Object.keys(e).length,isEmptyString:e=>Me(e)&&!e.trim(),isNonEmptyArray:ze,isNonEmptyObject:e=>Ee(e)&&Object.keys(e).length>0,isNonEmptyString:e=>Me(e)&&!!e.trim(),isFiniteNumber:Le,takeTreeByKey:Ve,takeTextByKey:(e,t,l="label",n="value",o="children")=>{var r;return(null==(r=Ve(e,t,n,o))?void 0:r[l])||t},deepAssign:(e,...t)=>$e(e,...t,!0),deepClone:(e,t={})=>Ye(e,{...t,deep:!0}),deepEqual:(e,t,l={})=>Be(e,t,{...l,deep:!0}),toPromise:e=>De(e)?e:He(e)?Promise.resolve(e()):Le(e)?new Promise(((t,l)=>{e>=0&&setTimeout(t,e),e<0&&setTimeout(l,-e)})):Promise.resolve(e),assign:$e,clone:Ye,equal:Be};function Ue(e){return"default"!==e&&"getTwoToneColor"!==e&&"setTwoToneColor"!==e&&"createFromIconfontCN"!==e&&e&&!!c[e]}const qe=x({name:"SIcon",props:{spin:e().def(!1),type:t().isRequired,rotate:l().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),twoToneColor:n().def()},emits:{click:e=>!0},setup:(e,t)=>()=>{const l=e.type,n=function(e){return Ge.isString(e)?e.replace(/(^|-)(\w)/g,((e,t,l)=>l&&l.toUpperCase())):e}(l),o={...e,type:void 0},r=e.iconPrefix??"",a=e.iconfontUrl??"",i=Ue(n)?c[n]:null;if(i)return w(i,k(o,{onClick:e=>t.emit("click",e)}),null);if(r&&a&&l.startsWith(r)){const t=d({scriptUrl:a}),l={...e};return delete l.iconfontUrl,delete l.iconPrefix,w(t,l,null)}return null}}),Xe=x({name:"SEllipsis",props:{open:e().def(void 0),title:t().def(void 0),inspect:e().def(!0),tooltip:e().def(!0),ellipsis:e().def(!1),placement:t().def("top"),mouseEnterDelay:l().def(.3),mouseLeaveDelay:l().def(.1)},emits:{"update:open":e=>"boolean"==typeof e},setup(e,{emit:t,slots:l}){const n=S(!1),o=S(!1),r=S(null),a=e=>{if(e instanceof HTMLElement){const t=e.getBoundingClientRect().height,l=e.getBoundingClientRect().width,n=e.scrollHeight>t+1,r=e.scrollWidth>l+1;return o.value=n||r}return!1},i=new ResizeObserver((e=>{for(const t of e)a(t.target)}));return C((()=>{r.value instanceof HTMLElement&&(i.observe(r.value),a(r.value))})),()=>{var i;if(!0===e.tooltip){const i={...e,open:void 0!==e.open?e.open:n.value,"onUpdate:open":void 0,onVisibleChange:void 0};return w(G,k(i,{"onUpdate:open":l=>{return t("update:open",!0===(o=l)&&!0===e.inspect?n.value=a(r.value):n.value=o);var o}}),{default:()=>{var t;return[w("div",{ref:r,style:{width:"100%",height:"100%",display:"block",whiteSpace:!0===e.ellipsis?"nowrap":"inherit",textOverflow:o.value&&!0===e.ellipsis?"ellipsis":"initial",overflow:o.value&&!0===e.ellipsis?"hidden":"visible"}},[null==(t=l.default)?void 0:t.call(l)])]},title:l.title||l.default})}return null==(i=l.default)?void 0:i.call(l)}},slots:{}}),Qe=Object.keys(c).filter((e=>e.endsWith("Outlined"))),Je=[];for(const al of Qe){let e=Je.find((e=>e.value===al[0]));e||Je.push(e={label:`字母${al[0]}`,value:al[0],options:[]}),e&&e.options.push({label:al,value:al})}const _e=x({name:"SIconSelect",inheritAttrs:!0,props:{optionFilterProp:t().def(),optionLabelProp:t().def(),placeholder:t().def(""),showSearch:e().def(!0),allowClear:e().def(!0),showArrow:e().def(!0),multiple:e().def(!1),disabled:e().def(!1),options:o().def((()=>Je)),value:n().def(),mode:t().def(),size:t().def()},emits:{"update:value":e=>!0,change:(e,t)=>!0,search:e=>!0,click:e=>!0,blur:e=>!0},setup(e,{emit:t}){const l=e=>Ue(e.value)?w("span",null,[w(qe,{type:e.value,style:"margin: 0px 3px 0 -3px; font-size: 18px; vertical-align: middle;"},null),e.label]):w("span",null,[e.label]),n=e=>Ue(e.value)?w("span",null,[w(qe,{type:e.value,style:"margin: 0px 3px 2px 2px; font-size: 20px; vertical-align: middle;"},null),e.label]):w("span",null,[e.label]),o=S(void 0),r=S(void 0),a=!1!==e.multiple,i="tags"===e.mode||"multiple"===e.mode,s=U(),d=(e,l)=>{var n,s;const d=Array.isArray(e),c=i&&d&&!a;t("update:value",c?e.slice(-1)[0]:e),c&&(null==(n=r.value)||n.blur()),i||null==(s=r.value)||s.blur(),c&&(o.value=!1),i||(o.value=!1),t("change",c?e.slice(-1)[0]:e,l)};return()=>{var c;const u=a||i?Ge.isArray(e.value)?e.value:Ge.isNonEmptyString(e.value)?[e.value]:[]:Ge.isArray(e.value)?e.value[0]:e.value;return w(q,{ref:r,open:o.value,size:e.size||(null==(c=s.componentSize)?void 0:c.value),mode:e.mode,value:u,options:e.options,disabled:e.disabled,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onSearch:e=>{o.value=!0,t("search",e)},onClick:e=>{o.value=!0,t("click",e)},onBlur:e=>{o.value=!1,t("blur",e)},onChange:d},{option:l,tagRender:n})}}});function Ze(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===l&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const et=x({name:"SEditCellInput",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),allowClear:e().def(!1),placeholder:t().def(),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=l=>{e.opened||(d.editable=!1),t("confirm",A(d)),l.stopPropagation()},o=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,a=()=>{var l;return!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(X,{value:d.value,"onUpdate:value":e=>d.value=e,size:null==(l=s.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",A(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",A(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(Xe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",A(d)),l.stopPropagation()})(l)},[i(),w(r,null,null)])]})},i=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...A(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=U(),d=N({value:e.text,editable:!1});return T((()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(d.value=e.text))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(d.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(a,null,null)])},slots:{}});Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const tt=x({name:"SEditCellSelect",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),options:o().def((()=>[])),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!1),fieldNames:r().def((()=>({label:"label",value:"value",options:"options"}))),placeholder:t().def(),optionFilterProp:t().def(),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:l=>(l=>{e.opened||(s.editable=!1),t("confirm",A(s)),l.stopPropagation()})(l)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(q,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=i.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",A(s))),onFocus:e=>(e=>{t("focus",A(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.options||"options",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.options,r,d,c,u)||e.text:void 0;return w(Xe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",A(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.options,a="string"==typeof t||"number"==typeof t,i=(l.editableCellText?l.editableCellText({text:e.text,...A(s)}):null)??(a&&Ge.takeTextByKey(e.options,t,n,o,r)||e.text),d=e.empty;return i||0===i?i:d},i=U(),s=N({value:e.text,editable:!1});return T((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const lt=x({name:"SEditCellTextarea",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),autoSize:a([e(),r()]).def(!0),allowClear:e().def(!1),placeholder:t().def(),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=l=>{e.opened||(d.editable=!1),t("confirm",A(d)),l.stopPropagation()},o=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,a=()=>{var l;return!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(X.TextArea,{value:d.value,"onUpdate:value":e=>d.value=e,size:null==(l=s.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,autoSize:e.autoSize,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",A(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",A(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(Xe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",A(d)),l.stopPropagation()})(l)},[i(),w(r,null,null)])]})},i=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...A(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=U(),d=N({value:e.text,editable:!1});return T((()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(d.value=e.text))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(d.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(a,null,null)])},slots:{}});Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const nt=x({name:"SEditCellTreeSelect",props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),treeData:o().def((()=>[])),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!1),fieldNames:r().def((()=>({label:"title",value:"value",children:"children"}))),placeholder:t().def(),treeNodeFilterProp:t().def(),treeDefaultExpandAll:e().def(!0),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:l=>(l=>{e.opened||(s.editable=!1),t("confirm",A(s)),l.stopPropagation()})(l)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(J,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=i.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,treeData:e.treeData,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,treeNodeFilterProp:e.treeNodeFilterProp,treeDefaultExpandAll:e.treeDefaultExpandAll,dropdownStyle:{maxHeight:"400px",overflow:"auto",padding:"0 18px 0 0",...e.cellStyle.dropdown},onChange:e=>(t("update:text",s.value),void t("change",A(s))),onFocus:e=>(e=>{t("focus",A(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.children||"children",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.treeData,r,d,c,u)||e.text:void 0;return w(Xe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",A(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.children,a="string"==typeof t||"number"==typeof t,i=(l.editableCellText?l.editableCellText({text:e.text,...A(s)}):null)??(a&&Ge.takeTextByKey(e.treeData,t,n,o,r)||e.text),d=e.empty;return i||0===i?i:d},i=U(),s=N({value:e.text,editable:!1});return T((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const ot=x({name:"SEditCellDatePicker",inheritAttrs:!1,props:{mode:t().def("date"),picker:t().def("date"),format:t().def(),showTime:e().def(!1),valueFormat:t().def(),inputReadOnly:e().def(!1),empty:t().def(""),text:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),allowClear:e().def(!1),placeholder:t().def(),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},setup(e,{emit:t,slots:l}){const n=e=>e?xe(e):null,o=l=>{c.value=(t=>t?xe(t).format(e.valueFormat||e.format||(!0===e.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD")):"")(c.date),t("update:text",c.value),t("change",A(c))},r=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:l=>(l=>{e.opened||(c.editable=!1),t("confirm",A(c)),l.stopPropagation()})(l)},null):null,a=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,i=()=>{var l;return!e.disabled&&c.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(_,{value:c.date,"onUpdate:value":e=>c.date=e,size:null==(l=d.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,mode:e.mode,picker:e.picker,format:e.format,allowClear:e.allowClear,valueFormat:e.valueFormat,placeholder:e.placeholder,inputReadOnly:e.inputReadOnly,onChange:e=>o(),onFocus:e=>(e=>{t("focus",A(c)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(c)),e.stopPropagation()})(e)},null),w(r,null,null)]):w(Xe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{c.editable=!0,c.value=e.text,c.date=n(e.text),t("update:status",!0),t("edit",A(c)),l.stopPropagation()})(l)},[s(),w(a,null,null)])]})},s=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...A(c)}):null)??e.text,n=e.empty;return t||0===t?t:n},d=U(),c=N({date:n(e.text),value:e.text,editable:!1});return T((()=>{e.disabled&&(c.editable=!1),e.disabled||(c.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(c.value=e.text))),I((()=>e.text),(()=>!e.disabled&&e.synced&&(c.date=n(e.text)))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(c.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:c.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(i,null,null)])},slots:{}});Ze(".s-form-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header[border='no'] {\n  border-bottom: none;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header {\n  display: flex;\n  width: 100%;\n  padding-left: 5px;\n  margin: 12px 0;\n  line-height: 30px;\n  font-size: 13px;\n  color: #303133;\n  border-bottom: dashed 1px #e8e8e8;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header > .s-form-group-item-header-title {\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-weight: 600;\n  color: #808399;\n  padding-left: 8px;\n  line-height: 32px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content {\n  padding: 0 3px;\n  margin-bottom: 10px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template .ant-form-item-explain > * {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n"),xe.extend(we),xe.extend(ke),xe.extend(Se),xe.extend(Ce),xe.extend(Ne),xe.extend(Te),xe.extend(Ie),xe.extend(Ae);const rt={ARate:{type:"ARate",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:0,output:0},transfer:{input:(e,{helper:t})=>e&&t.isFiniteNumber(+e)?+e:0,output:(e,{helper:t})=>e&&t.isFiniteNumber(+e)?+e:0},readonly:!1,disabled:!1,render:!0,show:!0},AInput:{type:"AInput",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:"",output:""},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):"",output:(e,{helper:t})=>t.isPrimitive(e)?String(e):""},readonly:!1,disabled:!1,render:!0,show:!0},ASwitch:{type:"ASwitch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>void 0!==e.props.unCheckedValue&&e.props.unCheckedValue,output:({self:e})=>void 0!==e.props.unCheckedValue&&e.props.unCheckedValue},transfer:{input:(e,{self:t})=>e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e,output:(e,{self:t})=>e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e},readonly:!1,disabled:!1,render:!0,show:!0},ASlider:{type:"ASlider",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.range?[]:0,output:({self:e})=>!0===e.props.range?[]:0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter(((e,t)=>t<2)).map((e=>t.isFiniteNumber(e)?e:0)):[]:t.isFiniteNumber(e)?e:0,output:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter(((e,t)=>t<2)).map((e=>t.isFiniteNumber(e)?e:0)):[]:t.isFiniteNumber(e)?e:0},readonly:!1,disabled:!1,render:!0,show:!0},ASelect:{type:"ASelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0,output:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACascader:{type:"ACascader",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.map((e=>t.isPrimitive(e)?e:"")):[],output:(e,{helper:t})=>t.isArray(e)?e.map((e=>t.isPrimitive(e)?e:"")):[]},readonly:!1,disabled:!1,render:!0,show:!0},ATreeSelect:{type:"ATreeSelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.multiple?[]:void 0,output:({self:e})=>!0===e.props.multiple?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter((e=>t.isPrimitive(e))):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ARadioGroup:{type:"ARadioGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?e:void 0,output:(e,{helper:t})=>t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACheckboxGroup:{type:"ACheckboxGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[],output:(e,{helper:t})=>t.isArray(e)?e.filter((e=>t.isPrimitive(e))):[]},readonly:!1,disabled:!1,render:!0,show:!0},AAutoComplete:{type:"AAutoComplete",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:"",output:""},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):"",output:(e,{helper:t})=>t.isPrimitive(e)?String(e):""},readonly:!1,disabled:!1,render:!0,show:!0},AInputSearch:{type:"AInputSearch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:"",output:""},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):"",output:(e,{helper:t})=>t.isPrimitive(e)?String(e):""},readonly:!1,disabled:!1,render:!0,show:!0},AInputPassword:{type:"AInputPassword",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:"",output:""},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):"",output:(e,{helper:t})=>t.isPrimitive(e)?String(e):""},readonly:!1,disabled:!1,render:!0,show:!0},AInputTextarea:{type:"AInputTextarea",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:"",output:""},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):"",output:(e,{helper:t})=>t.isPrimitive(e)?String(e):""},readonly:!1,disabled:!1,render:!0,show:!0},AInputNumber:{type:"AInputNumber",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:0,output:0},transfer:{input:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:"",output:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:""},readonly:!1,disabled:!1,render:!0,show:!0},ARangePicker:{type:"ARangePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||l.props.format||(l.props.showTime?"YYYY-M-D HH:mm:ss":"YYYY-M-D");return n.map((e=>void 0!==e&&xe(e,o).isValid()?xe(e,o):void 0))},output:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||l.props.format||(l.props.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return n.map((e=>void 0!==e&&xe(e,o).isValid()?xe(e,o).format(o):""))}},readonly:!1,disabled:!1,render:!0,show:!0},ADatePicker:{type:"ADatePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{const l=t.props.valueFormat||t.props.format||(t.props.showTime?"YYYY-M-D HH:mm:ss":"YYYY-M-D");return void 0!==e&&xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{const l=t.props.valueFormat||t.props.format||(t.props.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return void 0!==e&&xe(e,l).isValid()?xe(e,l).format(l):""}},readonly:!1,disabled:!1,render:!0,show:!0},AYearPicker:{type:"AYearPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{const l="YYYY";return void 0!==e&&xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{const l="YYYY";return void 0!==e&&xe(e,l).isValid()?xe(e,l).format(l):""}},readonly:!1,disabled:!1,render:!0,show:!0},AMonthPicker:{type:"AMonthPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{const l="YYYY-M";return void 0!==e&&xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{const l="YYYY-M"===(t.props.valueFormat||t.props.format)?"YYYY-M":"YYYY-MM";return void 0!==e&&xe(e,l).isValid()?xe(e,l).format(l):""}},readonly:!1,disabled:!1,render:!0,show:!0},AQuarterPicker:{type:"AQuarterPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,t)=>{const l=/^(\d{4})-(\d{1,2})$/,n=xe("string"==typeof e?e.replace(l,"$1"):e||null);return n&&n.isValid()?"string"==typeof e?n.quarter(+e.replace(l,"$2")):n:void 0},output:(e,t)=>void 0!==e&&"string"!=typeof e&&xe(e).isValid()?xe(e).format("YYYY-Q"):"string"==typeof e?e:""},readonly:!1,disabled:!1,render:!0,show:!0},AWeekPicker:{type:"AWeekPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,t)=>{const l=/^(\d{4})-(\d{1,2})$/,n=xe("string"==typeof e?e.replace(l,"$1"):e||null);return n&&n.isValid()?"string"==typeof e?n.week(+e.replace(l,"$2")):n:void 0},output:(e,{self:t})=>{const l="YYYY-w"===(t.props.valueFormat||t.props.format)?"YYYY-w":"YYYY-ww";return void 0!==e&&"string"!=typeof e&&xe(e).isValid()?xe(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},ATimePicker:{type:"ATimePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{const l=t.props.valueFormat||t.props.format||(t.props.use12Hours?"h:mm:ss a":"HH:mm:ss");return void 0!==e&&xe(e,l).isValid()?xe(e,l):void 0},output:(e,{self:t})=>{const l=t.props.valueFormat||t.props.format||(t.props.use12Hours?"h:mm:ss a":"HH:mm:ss");return void 0!==e&&xe(e,l).isValid()?xe(e,l).format(l):""}},readonly:!1,disabled:!1,render:!0,show:!0}};Ze(".s-form-container .ant-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix {\n  display: none;\n}\n.s-form-container .ant-input,\n.s-form-container .ant-select,\n.s-form-container .ant-picker,\n.s-form-container .ant-input-number,\n.s-form-container .ant-input-number-affix-wrapper {\n  width: 100%;\n}\n.s-form-container [off-disabled],\n.s-form-container [off-disabled] * {\n  cursor: default !important;\n  pointer-events: none;\n}\n");const at={ARate:Z,AInput:X,ASwitch:ee,ASelect:q,ASlider:te,ACascader:le,ATreeSelect:J,ARadioGroup:ne.Group,AAutoComplete:oe,AInputNumber:re,AInputSearch:X.Search,ACheckboxGroup:ae.Group,AInputPassword:X.Password,AInputTextarea:X.TextArea,ARangePicker:_.RangePicker,AYearPicker:_.YearPicker,AMonthPicker:_.MonthPicker,AQuarterPicker:_.QuarterPicker,AWeekPicker:_.WeekPicker,ADatePicker:_,ATimePicker:ie},it=x({name:"SFormComponent",inheritAttrs:!1,props:{type:t().isRequired,disabled:e().isRequired,readonly:e().isRequired,source:r().isRequired,field:t().isRequired,attrs:r().isRequired},setup:(e,t)=>()=>{const l=e.type,n=e.field,o=e.source,r=e.disabled,a=e.readonly,i=at[l],s=S(null);let d={};return"ASwitch"===l&&(d={checked:o[n],"onUpdate:checked":e=>{o[n]=e},...e.attrs},d.size="small"!==d.size?"default":"small"),"ARadioGroup"!==l&&"ACheckboxGroup"!==l||(d={value:o[n],"onUpdate:value":e=>{o[n]=e},...e.attrs},d.size="middle"!==d.size?d.size:"default"),"ASwitch"!==l&&"ARadioGroup"!==l&&"ACheckboxGroup"!==l&&(d={value:o[n],"onUpdate:value":e=>{o[n]=e},...e.attrs}),"AQuarterPicker"===l&&(d.valueFormat="YYYY-Q",d.format="YYYY-Q"),"AMonthPicker"===l&&(d.valueFormat="YYYY-MM",d.format="YYYY-MM"),"AYearPicker"===l&&(d.valueFormat="YYYY",d.format="YYYY"),"AWeekPicker"===l&&(d.valueFormat="YYYY-ww",d.format="YYYY-ww"),a&&!r&&z((()=>{var e;const t=null==(e=s.value)?void 0:e.querySelectorAll('[disabled],[class*="-disabled"]');null==t||t.forEach((e=>{if(e instanceof HTMLElement){for(const t of Array.from(e.classList))/-disabled(\b|$)/.test(t)&&e.classList.remove(t);e.hasAttribute("disabled")&&e.removeAttribute("disabled")}}))})),w("div",{ref:s,style:"display: inherit; display: contents;"},[i?P(i,d,t.slots):null])}}),st=e=>e,dt=e=>S(e),ct=e=>S(e),ut={password(e){const t=e.message,l=e.pattern,n=e.validator;return Ge.isString(n)&&(Ge.isRegExp(l)||Object.assign(e,{pattern:/.{6,}/iu}),e.validator=(e,l)=>{var o;return l||0===l||!0===e.required?l||0===l||!0!==e.required?(null==(o=e.pattern)?void 0:o.test(l))?Promise.resolve():Promise.reject(new Error(n||t||"密码过短")):Promise.reject(new Error(t||"密码为必填项")):Promise.resolve()},Object.assign(e,{message:void 0})),e},number(e){const t=e.message,l=e.pattern,n=e.validator;return Ge.isString(n)&&(Ge.isRegExp(l)||Object.assign(e,{pattern:/^[+-]?\d+\.?\d*$/i}),e.validator=(e,l)=>{var o;return l||0===l||!0===e.required?l||0===l||!0!==e.required?(null==(o=e.pattern)?void 0:o.test(l))?Promise.resolve():Promise.reject(new Error(n||t||"格式有误")):Promise.reject(new Error(t||"该项为必填项")):Promise.resolve()},Object.assign(e,{message:void 0})),e}};const pt=x({name:"SForm",props:{rules:{type:Object,default:()=>({})},grid:r().def((()=>({}))),border:n().def(!1),groups:o().def((()=>[])),modelValue:r().def((()=>{})),model:r().def((()=>{})),disabled:e().def(!1),readonly:e().def(!1),spinning:e().def(!1)},setup(e,t){const l=(e,t)=>{const l=t.oldModel,n=t.newModel,o=t.refModel,r=Ge.isFunction(e.default.input)?e.default.input({helper:Ge,self:L(e)}):e.default.input;let a=t.first,i=l,s=n,d=o.value;for(const[c,u]of e.field.entries())i=c===e.field.length-1||Ge.isObject(null==i?void 0:i[u])?null==i?void 0:i[u]:void 0,s=c===e.field.length-1||Ge.isObject(null==s?void 0:s[u])?null==s?void 0:s[u]:void 0,a||(a=c<e.field.length-1?!Ge.isObject(i)||!Ge.isObject(s):!Ge.deepEqual(i,s)),c<e.field.length-1&&(d=d[u]=Ge.isObject(d[u])?d[u]:{}),c===e.field.length-1&&(d[u]=a?void 0!==s?s:r:d[u],d[u]=a?e.transfer.input(d[u],{helper:Ge,self:L(e)}):d[u])},n=(e,t)=>{const l=t.refModel,n=t.syncModel,o=Ge.isFunction(e.default.output)?e.default.output({helper:Ge,self:L(e)}):e.default.output;let r=E(l),a=n;for(const[i,s]of e.field.entries())if(i<e.field.length-1&&(a=Ge.isObject(null==a?void 0:a[s])?a[s]:a[s]={},r=Ge.isObject(null==r?void 0:r[s])?r[s]:r[s]={}),i===e.field.length-1){const t=A(a[s]),l=A(void 0!==(null==r?void 0:r[s])?r[s]:o),n=e.transfer.output(l,{helper:Ge,self:L(e)});Ge.deepEqual(t,n)||(a[s]=n),void 0===a[s]&&(a[s]=void 0)}},o=S(null),r=S(!0),a=R([]),i=R({}),s=S({}),d=S([]),c=(e,t)=>{const l=e.group,n=E(l.border)??e.border,o=[E(e.disabled),E(l.disabled)].includes(!0),r=[E(e.readonly),E(l.readonly)].includes(!0),a=t.slots[`s-header-${l.slot.replace(/^s-header-/,"")}`],i={border:!1!==n&&"no"!==n?void 0:"no"};return l.label||l.slot?w("div",k({class:"s-form-group-item-header"},i),[a?a({className:"s-form-group-item-header-title",group:l,disabled:o,readonly:r}):w("div",{class:"s-form-group-item-header-title"},[l.label])]):w("div",null,null)},u=(e,t)=>{const l=(t,l,n)=>{const o=[E(e.disabled),E(n.disabled),E(l.disabled),Ge.isBoolean(E(t.props.disabled))?E(t.props.disabled):E(t.disabled)].includes(!0),r=[E(e.readonly),E(n.readonly),E(l.readonly),Ge.isBoolean(E(t.props.readonly))?E(t.props.readonly):E(t.readonly)].includes(!0);return{...t.layer,disabled:r||o,"off-disabled":r&&!o||void 0}};return w("div",{class:"s-form-group-item-content"},[e.group.items.filter((e=>e.items.some((e=>E(e.render))))).map((n=>{let o;return K(w(ce,((t,l)=>({type:t.grid.type||l.grid.type||e.grid.type,align:t.grid.align||l.grid.align||e.grid.align,gutter:t.grid.gutter||l.grid.gutter||e.grid.gutter,justify:t.grid.justify||l.grid.justify||e.grid.justify}))(n,e.group),"function"==typeof(r=o=n.items.filter((e=>E(e.render))).map((o=>{var r;const a=e.group,i=[E(e.disabled),E(a.disabled),E(n.disabled),Ge.isBoolean(E(o.props.disabled))?E(o.props.disabled):E(o.disabled)].includes(!0),s=[E(e.readonly),E(a.readonly),E(n.readonly),Ge.isBoolean(E(o.props.readonly))?E(o.props.readonly):E(o.readonly)].includes(!0),d=t.slots[`s-component-${o.slot.replace(/^s-component-/,"")}`],c=U(),u=o.type,p=o.slots,f=((t,l,n)=>{const o=[E(e.disabled),E(n.disabled),E(l.disabled),Ge.isBoolean(E(t.props.disabled))?E(t.props.disabled):E(t.disabled)].includes(!0);return{disabled:[E(e.readonly),E(n.readonly),E(l.readonly),Ge.isBoolean(E(t.props.readonly))?E(t.props.readonly):E(t.readonly)].includes(!0)||o}})(o,n,a),b=Object.fromEntries(Object.entries({size:null==(r=c.componentSize)?void 0:r.value,...o.props,...f}).map((([e,t])=>[e,E(t)]))),h=o.field.slice(0,-1).reduce(((e,t)=>e[t]),e.model),g=o.field[o.field.length-1];return K(w(ue,((t,l,n)=>({span:t.grid.span||l.grid.span||n.grid.span||e.grid.span,pull:t.grid.pull||l.grid.pull||n.grid.pull||e.grid.pull,push:t.grid.push||l.grid.push||n.grid.push||e.grid.push,flex:t.grid.flex||l.grid.flex||n.grid.flex||e.grid.flex,order:t.grid.order||l.grid.order||n.grid.order||e.grid.order,offset:t.grid.offset||l.grid.offset||n.grid.offset||e.grid.offset,xxxl:t.grid.xxxl||l.grid.xxxl||n.grid.xxxl||e.grid.xxxl,xxl:t.grid.xxl||l.grid.xxl||n.grid.xxl||e.grid.xxl,xl:t.grid.xl||l.grid.xl||n.grid.xl||e.grid.xl,lg:t.grid.lg||l.grid.lg||n.grid.lg||e.grid.lg,md:t.grid.md||l.grid.md||n.grid.md||e.grid.md,sm:t.grid.sm||l.grid.sm||n.grid.sm||e.grid.sm,xs:t.grid.xs||l.grid.xs||n.grid.xs||e.grid.xs}))(o,n,a),{default:()=>[w(pe,k(l(o,n,a),{class:"s-form-group-item-template",rules:o.layer.rules||o.rules,label:o.layer.label||o.label,name:o.layer.name||o.field}),{default:()=>[d?d({col:o,row:n,group:a,attrs:b,slots:p,disabled:i,readonly:s,source:h,field:g}):w(it,{type:u,attrs:b,disabled:i,readonly:s,source:h,field:g},p)]})]}),[[O,E(o.show)]])})))||"[object Object]"===Object.prototype.toString.call(r)&&!F(r)?o:{default:()=>[o]}),[[O,n.items.some((e=>E(e.show)))]]);var r}))])},p=(e,t)=>w("div",null,[e.groups.filter((e=>E(e.render))).map((l=>K(w("div",{class:"s-form-group-container"},[w(c,{group:l,grid:e.grid,model:e.model,border:e.border,readonly:e.readonly,disabled:e.disabled},t.slots),w(u,{group:l,grid:e.grid,model:e.model,readonly:e.readonly,disabled:e.disabled},t.slots)]),[[O,E(l.show)]])))]);return I(s,(()=>{const t=e.modelValue,l=E(t);if(l)for(const e of a.value)Ge.isNonEmptyArray(e.field)&&n(e,{syncModel:l,refModel:s})}),{deep:!0}),T((()=>{const t=e.modelValue||e.model||{},n=e.groups,o=i.value;i.value=Ge.deepClone(t),d.value=(e=>{var t,l,n,o;const r=[];let a={type:"AGroup",grid:{},slot:"",label:"",items:[],readonly:!1,disabled:!1,render:!0,show:!0},i={type:"ARow",grid:{},items:[],readonly:!1,disabled:!1};for(const s of e)if("AGroup"===s.type&&(a={type:"AGroup",grid:s.grid||a.grid||{},slot:s.slot||"",label:s.label||"",items:[],border:s.border,disabled:void 0!==s.disabled&&s.disabled,readonly:void 0!==s.disabled&&s.disabled,render:void 0===s.render||s.render,show:void 0===s.show||s.show},i={type:"ARow",grid:s.grid||i.grid||a.grid||{},items:[],readonly:!1,disabled:!1}),"ARow"===s.type&&(i={type:"ARow",grid:s.grid||i.grid||{},items:[],disabled:void 0!==s.disabled&&s.disabled,readonly:void 0!==s.disabled&&s.disabled}),"AGroup"!==s.type&&"ARow"!==s.type){const e={type:s.type,slot:s.slot||rt[s.type].slot,label:s.label||rt[s.type].label,field:Ge.isArray(s.field)?s.field:s.field.trim()?s.field.split(".").filter((e=>!!e.trim())):[],grid:s.grid||Ge.deepClone(rt[s.type].grid),rules:s.rules||Ge.deepClone(rt[s.type].rules),layer:s.layer||Ge.deepClone(rt[s.type].layer),props:s.props||Ge.deepClone(rt[s.type].props),slots:s.slots||Ge.deepClone(rt[s.type].slots),default:{input:(null==(t=null==s?void 0:s.default)?void 0:t.input)||rt[s.type].default.input,output:(null==(l=null==s?void 0:s.default)?void 0:l.output)||rt[s.type].default.output},transfer:{input:(null==(n=null==s?void 0:s.transfer)?void 0:n.input)||rt[s.type].transfer.input,output:(null==(o=null==s?void 0:s.transfer)?void 0:o.output)||rt[s.type].transfer.output},readonly:void 0!==s.readonly?s.readonly:rt[s.type].readonly,disabled:void 0!==s.disabled?s.disabled:rt[s.type].disabled,render:void 0!==s.render?s.render:rt[s.type].render,show:void 0!==s.show?s.show:rt[s.type].show};i.items.includes(e)||i.items.push(e),a.items.includes(i)||a.items.push(i),r.includes(a)||r.push(a)}return r})(n),a.value=n.filter((e=>"AGroup"!==e.type&&"ARow"!==e.type)).map((e=>{var t,l,n,o;return{type:e.type,slot:e.slot||rt[e.type].slot,label:e.label||rt[e.type].label,field:Ge.isArray(e.field)?e.field:e.field.trim()?e.field.split(".").filter((e=>!!e.trim())):[],grid:e.grid||Ge.deepClone(rt[e.type].grid),rules:e.rules||Ge.deepClone(rt[e.type].rules),layer:e.layer||Ge.deepClone(rt[e.type].layer),props:e.props||Ge.deepClone(rt[e.type].props),slots:e.slots||Ge.deepClone(rt[e.type].slots),default:{input:(null==(t=null==e?void 0:e.default)?void 0:t.input)||Ge.isFunction(rt[e.type].default.input)?rt[e.type].default.input:Ge.deepClone(rt[e.type].default.input),output:(null==(l=null==e?void 0:e.default)?void 0:l.output)||Ge.isFunction(rt[e.type].default.output)?rt[e.type].default.output:Ge.deepClone(rt[e.type].default.output)},transfer:{input:(null==(n=null==e?void 0:e.transfer)?void 0:n.input)||rt[e.type].transfer.input,output:(null==(o=null==e?void 0:e.transfer)?void 0:o.output)||rt[e.type].transfer.output},readonly:void 0!==e.readonly?e.readonly:rt[e.type].readonly,disabled:void 0!==e.disabled?e.disabled:rt[e.type].disabled,render:void 0!==e.render?e.render:rt[e.type].render,show:void 0!==e.show?e.show:rt[e.type].show}}));for(const e of a.value)Ge.isNonEmptyArray(e.field)&&l(e,{first:r.value,oldModel:o,newModel:i.value,refModel:s});r.value=!1})),t.expose({resetFields:e=>o.value.resetFields(e),clearValidate:e=>o.value.clearValidate(e),getFieldsValue:e=>o.value.getFieldsValue(e),scrollToField:(e,t)=>o.value.scrollToField(e,t),validateFields:(e,t)=>o.value.validateFields(e,t),validate:(e,t)=>o.value.validate(e,t)}),()=>{const l=S(e.grid||{}),n=S(e.border||!1),r=S(e.disabled||!1),a=S(e.readonly||!1),i=S(e.spinning||!1);return w("div",{class:"s-form-container"},[w(se,{spinning:i.value},{default:()=>[w(de,k(t.attrs,{model:s.value,rules:e.rules,ref:o}),{default:()=>{var e,o,i,c;return[null==(o=(e=t.slots).before)?void 0:o.call(e),w(p,{grid:l.value,border:n.value,model:s.value,groups:d.value,disabled:r.value,readonly:a.value},t.slots),null==(c=(i=t.slots).after)?void 0:c.call(i)]},...t.slots})]})])}},slots:{},methods:{}});function ft(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}Ze(".s-tree-container {\n  --tree-background-color: 'transparent';\n}\n.s-tree-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading {\n  width: 100%;\n  height: 100%;\n}\n.s-tree-container .ant-tree,\n.s-tree-container .ant-tree-treenode,\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading,\n.s-tree-container .ant-tree-node-content-wrapper {\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-tree-switcher {\n  background-color: transparent;\n}\n.s-tree-container .ant-tree-switcher > .anticon,\n.s-tree-container .ant-tree-switcher > .ant-tree-switcher-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree-checkbox {\n  margin: 4px 6px 0 0;\n}\n.s-tree-container .ant-tree .ant-tree-title,\n.s-tree-container .ant-tree .s-tree-title-node {\n  width: 100%;\n  height: 24px;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-label {\n  width: 100%;\n  height: 24px;\n  font-size: 14px;\n  line-height: 24px;\n  vertical-align: middle;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button {\n  flex: 0 0 auto;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  font-size: 15px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn {\n  vertical-align: top;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.always-show-title-button),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.always-show-title-button) {\n  display: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .ant-btn:not(.ant-btn-background-ghost):not(:hover) {\n  border: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree.ant-tree-block-node .ant-tree-list-holder-inner .s-tree-title-node .s-tree-title-label {\n  width: 0;\n}\n.s-tree-container .ant-tree .ant-tree-treenode:has(.s-tree-title-root-node.s-tree-title-sticky-node) {\n  position: sticky;\n  z-index: 10;\n  top: 0;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner .ant-tree-node-content-wrapper {\n  width: 100%;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner {\n  padding-right: 5px;\n  box-sizing: border-box;\n}\n");const bt=x({name:"STree",inheritAttrs:!0,props:{bgColor:t().def("transparent"),treeData:o().def((()=>[])),loadData:i().def(void 0),dropHandler:i().def(void 0),checkedKeys:o().def((()=>[])),selectedKeys:o().def((()=>[])),expandedKeys:o().def((()=>[])),selectedMode:t().def("default"),checkedMode:t().def("default"),filterField:t().def("title"),filterValue:n().def(""),replaceFields:r().def((()=>({}))),allowCheckedLevel:n().def(1),allowSelectedLevel:n().def(1),forceCleanWhenNotInTreeNodes:e().def(!1),forceCleanWhenRemoveTreeNode:e().def(!0),forceApplyDisableCheckbox:e().def(!1),forceApplyDisabled:e().def(!1),alwaysShowTitleButton:e().def(!1),allowSelectToCheck:e().def(!1),allowAutoCollapsed:e().def(!0),allowMultiExpanded:e().def(!0),allowAutoExpandLoad:e().def(!1),allowAutoExpanded:e().def(!0),defaultExpandAll:e().def(!1),allowUnExpanded:e().def(!1),allowUnSelected:e().def(!1),allowUnChecked:e().def(!0),selectable:e().def(!0),checkable:e().def(!1),blockNode:e().def(!1),draggable:e().def(!1),disabled:e().def(!1),showIcon:e().def(!1),showLine:e().def(!1),loading:e().def(!1),virtual:e().def(!0),tooltip:e().def(!0),sticky:e().def(!1)},emits:{check:e=>!0,select:e=>!0,expand:e=>!0,change:e=>!0,"update:treeData":e=>!0,"update:filterField":e=>!0,"update:filterValue":e=>!0,"update:expandedKeys":e=>!0,"update:selectedKeys":e=>!0,"update:checkedKeys":e=>!0},setup(e,t){const l={treeData:M([]),checkedKeys:M([]),selectedKeys:M([]),expandedKeys:M([]),treeContainer:R(null)},n={loadKeys:M([]),loadedKeys:M([]),checkedKeys:M([]),selectedKeys:M([]),expandedKeys:M([]),outCheckedKeys:M([]),halfCheckedKeys:M([]),parentTreeNodes:R({}),childTreeNodes:R({}),flatTreeNodes:M([]),linkTreeNodes:M([]),propTreeNodes:M([]),filterField:R("title"),filterValue:R("")},o={selectedNode:R(null),selectedLinkNode:R(null),checkedLinkNode:R(null),checkedHalfNode:R(null),checkedNode:R(null),selectedNodes:M([]),selectedLinkNodes:M([]),checkedLinkNodes:M([]),checkedHalfNodes:M([]),checkedNodes:M([])},r={selectedNode:R(null),selectedLinkNode:R(null),checkedLinkNode:R(null),checkedHalfNode:R(null),checkedNode:R(null),selectedNodes:M([]),selectedLinkNodes:M([]),checkedLinkNodes:M([]),checkedHalfNodes:M([]),checkedNodes:M([])},a={renderSwitcher(t){const l=n.loadKeys,o=n.expandedKeys,r=!(!0===t.isLeaf)&&Ge.isFunction(e.loadData),a=l.includes(t.key);return r&&a?"LoadingOutlined":e.showLine?Ge.isNonEmptyArray(t.children)||r&&!a?o.includes(t.key)?"MinusSquareOutlined":"PlusSquareOutlined":"FileOutlined":Ge.isNonEmptyArray(t.children)||r&&!a?"CaretDownOutlined":""},triggerSwitcher(e){const t=n.expandedKeys;n.flatTreeNodes.some((t=>t.key===e.key))&&(t.includes(e.key)?a.doTreePopExpanded([e.key]):a.doTreePushExpanded([e.key]))},cleanTreeStater(t,l){!0===t&&(n.loadKeys.splice(0,n.loadKeys.length),n.loadedKeys.splice(0,n.loadedKeys.length),n.checkedKeys.splice(0,n.checkedKeys.length),n.selectedKeys.splice(0,n.selectedKeys.length),n.expandedKeys.splice(0,n.expandedKeys.length),n.outCheckedKeys.splice(0,n.outCheckedKeys.length),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length),r.selectedNodes.splice(0,r.selectedNodes.length),r.selectedLinkNodes.splice(0,r.selectedLinkNodes.length),r.checkedLinkNodes.splice(0,r.checkedLinkNodes.length),r.checkedHalfNodes.splice(0,r.checkedHalfNodes.length),r.checkedNodes.splice(0,r.checkedNodes.length),r.selectedNode.value=null,r.selectedLinkNode.value=null,r.checkedLinkNode.value=null,r.checkedHalfNode.value=null,r.checkedNode.value=null,o.selectedNodes.splice(0,o.selectedNodes.length),o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length),o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length),o.checkedNodes.splice(0,o.checkedNodes.length),o.selectedNode.value=null,o.selectedLinkNode.value=null,o.checkedLinkNode.value=null,o.checkedHalfNode.value=null,o.checkedNode.value=null);const a=n.checkedKeys,i=n.selectedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.outCheckedKeys,u=n.halfCheckedKeys,p=e.forceCleanWhenRemoveTreeNode,f=e.forceCleanWhenNotInTreeNodes;if(!1!==p&&(l&&!l.includes("checked")||(a.splice(0,n.checkedKeys.length,...a.filter((e=>d.some((t=>t.key===e))))),u.splice(0,n.halfCheckedKeys.length,...u.filter((e=>d.some((t=>t.key===e)))))),l&&!l.includes("selected")||i.splice(0,n.selectedKeys.length,...i.filter((e=>d.some((t=>t.key===e))))),l&&!l.includes("expanded")||s.splice(0,n.expandedKeys.length,...s.filter((e=>d.some((t=>t.key===e)))))),!l||l.includes("checked")){const e=Array.from(new Set([...a,...u,...c])),t=Array.from(new Set([...a,...c]));u.splice(0,u.length),c.splice(0,c.length,...e.filter((e=>!f&&!d.some((t=>t.key===e))))),a.splice(0,a.length,...t.filter((e=>d.some((t=>t.key===e&&(t.disabled||t.disableCheckbox||t.checkable)))))),a.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),c.splice(0,c.length,...Array.from(new Set(c))),a.splice(0,a.length,...Array.from(new Set(a)))}l&&!l.includes("selected")||(i.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),i.splice(0,i.length,...i.filter((e=>d.some((t=>t.key===e&&!t.disabled&&t.isSelectable))))),i.splice(0,i.length,...Array.from(new Set(i)))),l&&!l.includes("expanded")||(s.splice(0,s.length,...s.filter((e=>d.some((t=>t.key===e&&Ge.isNonEmptyArray(t.children)))))),s.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),s.splice(0,s.length,...Array.from(new Set(s))))},checkTreeStater(e,t){t&&!t.includes("checked")||a.doTreeOnlyChecked([...n.checkedKeys,...n.outCheckedKeys]),t&&!t.includes("selected")||a.doTreeSelected([...n.selectedKeys]),t&&!t.includes("expanded")||a.doTreeOnlyExpanded([...n.expandedKeys])},resetTreeStater(t,l){const i=n.checkedKeys,s=n.selectedKeys,d=n.expandedKeys,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.childTreeNodes,f=n.parentTreeNodes,b=n.halfCheckedKeys,h=r.selectedNodes,g=r.selectedLinkNodes,y=r.checkedLinkNodes,m=r.checkedHalfNodes,v=r.checkedNodes;if(!l||l.includes("checked")){if(v.splice(0,v.length),b.splice(0,b.length),y.splice(0,y.length),m.splice(0,m.length),i.splice(0,i.length,...i.filter((e=>u.some((t=>t.key===e))))),v.push(...i.map((e=>u.find((t=>t.key===e))))),Ge.isNonEmptyArray(v)){let e=[...v],t=[...v];if(Ge.isNonEmptyArray(t))for(;t.length>0;){const l=t.shift(),n=p.value[l.key]||[];!l.disabled&&!l.disableCheckbox&&e.push(...n.filter((t=>!t.disabled&&!t.disableCheckbox&&t.checkable&&!e.some((e=>e===t))))),t=t.filter((e=>!n.some((t=>e===t))))}if(Ge.isNonEmptyArray(e)){let t,l=[];for(v.splice(0,v.length,...e),e.sort(((e,t)=>e.level-t.level)),t=e.pop(),l=e.filter((e=>e.level===t.level)),e=e.filter((e=>e.level!==t.level));t;){if(t.parentNode){const n=t.parentNode,o=t.parentNode.children||[],r=(p.value[n.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),a=(f.value[t.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),i=a.map((e=>e.key))||[];r.every((e=>v.some((t=>t===e))))?n.disabled||n.disableCheckbox||!n.checkable||v.some((e=>e===n))||v.push(n):(r.some((e=>v.some((t=>t===e))))&&m.push(...a.filter((e=>!m.some((t=>e===t))))),v.splice(0,v.length,...v.filter((e=>e.disabled||e.disableCheckbox||e.checkable&&!i.includes(e.key))))),e.some((e=>e===n))||e.push(n),l=l.filter((e=>!o.some((t=>t===e))))}Ge.isNonEmptyArray(l)?t=l.pop():Ge.isNonEmptyArray(e)?(t=e.pop(),l=e.filter((e=>e.level===t.level)),e=e.filter((e=>e.level!==t.level))):t=void 0}}}Ge.isArray(v)&&v.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(m)&&m.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(y)&&(y.push(...v,...m),y.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t))))),n.checkedKeys.splice(0,n.checkedKeys.length,...v.map((e=>e.key))),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length,...m.map((e=>e.key))),r.checkedLinkNode.value=y[0]||null,r.checkedHalfNode.value=m[0]||null,r.checkedNode.value=v[0]||null,o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length,...y.map((e=>e.referenceSourceNode))),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length,...m.map((e=>e.referenceSourceNode))),o.checkedNodes.splice(0,o.checkedNodes.length,...v.map((e=>e.referenceSourceNode))),o.checkedLinkNode.value=y[0]&&y[0].referenceSourceNode||null,o.checkedHalfNode.value=m[0]&&m[0].referenceSourceNode||null,o.checkedNode.value=v[0]&&v[0].referenceSourceNode||null}if(!l||l.includes("selected")){if(h.splice(0,h.length),g.splice(0,g.length),s.splice(0,s.length,...s.filter((e=>u.some((t=>t.key===e))))),h.push(...s.map((e=>u.find((t=>t.key===e))))),Ge.isEmptyArray(h)&&(!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||1!==c.length||h.push(...u.filter((e=>1===e.level||2===e.level)).filter((e=>e.isSelectable&&!e.disabled)).slice(0,1)),!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||!(c.length>1)||h.push(...u.filter((e=>1===e.level)).filter((e=>e.isSelectable&&!e.disabled)).slice(0,1))),Ge.isNonEmptyArray(h)&&(e.checkable&&e.allowSelectToCheck&&h.splice(0,h.length),!e.checkable||!e.allowSelectToCheck)){const e=u.find((e=>!e.disabled&&e.isSelectable&&h.some((t=>t===e)))),t=e&&(f.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable));e&&!Ge.isNonEmptyArray(t)&&g.push(e),e&&Ge.isNonEmptyArray(t)&&g.push(...t,e)}Ge.isArray(h)&&h.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),Ge.isArray(g)&&g.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))),n.selectedKeys.splice(0,n.selectedKeys.length,...h.map((e=>e.key))),r.selectedNode.value=h[0]||null,r.selectedLinkNode.value=g[0]||null,o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length,...g.map((e=>e.referenceSourceNode))),o.selectedNodes.splice(0,o.selectedNodes.length,...h.map((e=>e.referenceSourceNode))),o.selectedLinkNode.value=g[0]&&g[0].referenceSourceNode||null,o.selectedNode.value=h[0]&&h[0].referenceSourceNode||null}l&&!l.includes("expanded")||(d.splice(0,d.length,...d.filter((e=>u.some((t=>t.key===e))))),Ge.isEmptyArray(d)&&(e.allowUnExpanded||1!==c.length||a.expandTreeNodes(c.map((e=>e.key)).slice(0,1))),Ge.isArray(d)&&d.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),Ge.isArray(g)&&g.sort(((e,t)=>u.findIndex((t=>t===e))-u.findIndex((e=>e===t)))))},resetTreeNodes(e,t){Ge.isArray(e)||(e=n.propTreeNodes),e=e.map((e=>A(e)));const o=n.filterField,r=n.filterValue,i=n.linkTreeNodes,s=n.flatTreeNodes,d=n.childTreeNodes,c=n.parentTreeNodes,u=a.createTreeNodes(e,null),p=a.spreadTreeNodes(u,1/0);i.splice(0,i.length),s.splice(0,s.length),l.treeData.splice(0,l.treeData.length,...e),n.propTreeNodes.splice(0,n.propTreeNodes.length,...e),s.splice(0,s.length,...p),i.splice(0,i.length,...s.filter((e=>1===e.level))),d.value={},c.value={};for(const l of s){let e=l.parentNode;for(c.value[l.key]||(c.value[l.key]=[]),d.value[l.key]||(d.value[l.key]=[]);e;)c.value[l.key].unshift(e),d.value[e.key].push(l),e=e.parentNode}a.cleanTreeStater(t),a.checkTreeStater(t),a.filterTreeNodes({filterField:o.value,filterValue:r.value})},filterTreeNodes(e,t){var l;const o=[],r=n.flatTreeNodes,i=n.parentTreeNodes,s=!1!==t,d=e.filterField!==n.filterField.value||e.filterValue!==n.filterValue.value,c=n.filterValue.value=Ge.isString(e.filterValue)?e.filterValue.trim():e.filterValue,u=n.filterField.value="key"===e.filterField?e.filterField:"title";for(const n of r)n.titles.splice(0,n.titles.length);if(Ge.isNonEmptyString(c)||Ge.isFiniteNumber(c)){for(const e of r){const t=e.key,n=e.title.trim(),r=new RegExp(`(.*?)(${c})(.*)`);if("key"===u){const e=c===t||+c===t,l=i.value[t]?i.value[t].map((e=>e.key)):null;s&&d&&e&&l&&o.push(...l)}if("title"===u&&r.test(n)){const a=n.replace(r,"$1"),c=n.replace(r,"$2"),u=n.replace(r,"$3"),p=null==(l=i.value[t])?void 0:l.map((e=>e.key));s&&d&&p&&o.push(...p),e.titles.push(a,c,u)}}s||a.forceUpdate()}s&&d&&(a.doTreeAllCollapsed(),a.doTreePushExpanded(Array.from(new Set(o))))},reloadTreeNodes(o,r,i){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.childTreeNodes,f=n.parentTreeNodes,b=Ge.isPrimitive(r)?u.find((e=>e.key===r)):void 0,h=b?[...b.children]:[...c],g=Ge.isPrimitive(r)&&!b,y=e.replaceFields.children||"children",m=e.replaceFields.key||"key";if(g)return;o=(o=(o=(o=o.filter((e=>!b||!f.value[b.key]||!f.value[b.key].some((t=>t.key===e[m]))))).filter((e=>!b||b.key!==e[m]))).filter((e=>!!e[m]||0===e[m]))).map((e=>A(e)));const v=n.loadKeys,x=n.loadedKeys,w=a.createTreeNodes(o,b),k=a.spreadTreeNodes(w,1/0),S=a.spreadTreeNodes(o,1/0),C=a.spreadTreeNodes(h,1/0),N=S.length!==C.length||!S.every(((e,t)=>e===C[t].referenceSourceNode));if(Ge.isNonEmptyObject(b)||(v.splice(0,v.length),x.splice(0,x.length),c.splice(0,c.length),u.splice(0,u.length),l.treeData.splice(0,l.treeData.length,...o),n.propTreeNodes.splice(0,n.propTreeNodes.length,...o)),Ge.isNonEmptyObject(b)){const e=p.value[b.key];b.isLeaf=0===w.length,b.referenceSourceNode[y]=o,b.children=w,b.scopedSlots={icon:1===b.level?"iconRoot":Ge.isNonEmptyArray(b.children)?"iconParent":"iconLeaf",title:1===b.level?"titleRoot":Ge.isNonEmptyArray(b.children)?"titleParent":"titleLeaf"},Ge.isNonEmptyArray(b.referenceSourceNode[y])||Object.hasOwn(b.referenceSourceNode,y)&&delete b.referenceSourceNode[y],v.splice(0,v.length,...v.filter((e=>e!==b.key))),v.splice(0,v.length,...v.filter((t=>!(null==e?void 0:e.map((e=>e.key)).includes(t))))),x.splice(0,x.length,...x.filter((t=>!(null==e?void 0:e.map((e=>e.key)).includes(t))))),v.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),x.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t))))}if(Ge.isNonEmptyObject(b)){const e=(p.value[b.key]||[]).filter((e=>u.some((t=>t===e))));u.splice(0,u.length,...u.filter((t=>!e.some((e=>e===t))))),u.splice(u.findIndex((e=>e===b))+1,0,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))}if(Ge.isNonEmptyObject(b)||(u.splice(0,u.length,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))),N){p.value={},f.value={};for(const e of u){let t=e.parentNode;for(f.value[e.key]||(f.value[e.key]=[]),p.value[e.key]||(p.value[e.key]=[]);t;)f.value[e.key].unshift(t),p.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...A(E(l.treeData))]),t.emit("change",{type:"reload",loadKeys:[...v],loadedKeys:[...x],reloadNodes:[{parentNode:(null==b?void 0:b.referenceSourceNode)||null,oldChildNodes:h.map((e=>e.referenceSourceNode)),newChildNodes:(b?b.children:c).map((e=>e.referenceSourceNode)),rootChildNodes:c.map((e=>e.referenceSourceNode))}],appendNodes:[],removeNodes:[]})}},appendTreeNodes(o,r,i){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,u=n.flatTreeNodes,p=n.parentTreeNodes,f=Ge.isPrimitive(r)?u.find((e=>e.key===r)):void 0,b=f?[...f.children]:[...c],h=Ge.isPrimitive(r)&&!f,g=e.replaceFields.children||"children",y=e.replaceFields.key||"key";if(h)return;o=(o=(o=(o=(o=o.filter((e=>!f||!p.value[f.key]||!p.value[f.key].some((t=>t.key===e[y]))))).filter((e=>!b.some((t=>t.key===e[y]))))).filter((e=>!f||f.key!==e[y]))).filter((e=>!!e[y]||0===e[y]))).map((e=>A(e)));const m=n.loadKeys,v=n.loadedKeys,x=n.childTreeNodes,w=a.createTreeNodes(o,f),k=a.spreadTreeNodes(w,1/0),S=Ge.isNonEmptyArray(o);if(Ge.isNonEmptyObject(f)||(l.treeData.push(...o),n.propTreeNodes.push(...o)),Ge.isNonEmptyObject(f)&&(f.isLeaf=0===f.children.length&&0===w.length,f.referenceSourceNode[g]=f.referenceSourceNode[g]||[],f.referenceSourceNode[g].push(...o),f.children.push(...w),f.scopedSlots={icon:1===f.level?"iconRoot":Ge.isNonEmptyArray(f.children)?"iconParent":"iconLeaf",title:1===f.level?"titleRoot":Ge.isNonEmptyArray(f.children)?"titleParent":"titleLeaf"},m.splice(0,m.length,...m.filter((e=>e!==f.key))),m.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t)))),v.sort(((e,t)=>u.findIndex((t=>t.key===e))-u.findIndex((e=>e.key===t))))),Ge.isNonEmptyObject(f)){const e=(x.value[f.key]||[]).filter((e=>u.some((t=>t===e))));u.splice(0,u.length,...u.filter((t=>!e.some((e=>e===t))))),u.splice(u.findIndex((e=>e===f))+1,0,...e,...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))}if(Ge.isNonEmptyObject(f)||(u.push(...k),c.splice(0,c.length,...u.filter((e=>1===e.level)))),S){x.value={},p.value={};for(const e of u){let t=e.parentNode;for(p.value[e.key]||(p.value[e.key]=[]),x.value[e.key]||(x.value[e.key]=[]);t;)p.value[e.key].unshift(t),x.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...A(E(l.treeData))]),t.emit("change",{type:"append",loadKeys:[...m],loadedKeys:[...v],appendNodes:[{parentNode:(null==f?void 0:f.referenceSourceNode)||null,rootChildNodes:c.map((e=>e.referenceSourceNode)),appendChildNodes:[...o]}],removeNodes:[],reloadNodes:[]})}},removeTreeNodes(o,r,i){const s=n.linkTreeNodes,d=n.flatTreeNodes,c=n.childTreeNodes,u=n.parentTreeNodes,p=Ge.isPrimitive(r)?d.find((e=>e.key===r)):void 0,f=p?[...p.children]:[...s],b=Ge.isPrimitive(r)&&!p,h=e.replaceFields.children||"children",g=e.replaceFields.key||"key";if(b)return;o=(o=(o=(o=o.filter((e=>!p||p.key!==e[g]))).filter((e=>f.some((t=>t.key===e[g]))))).map((e=>d.find((t=>t.key===e[g])).referenceSourceNode))).map((e=>A(e)));const y=n.loadKeys,m=n.loadedKeys,v=o.map((e=>d.find((t=>t.key===e[g])))),x=a.spreadTreeNodes(v,1/0),w=Ge.isNonEmptyArray(x);if(Ge.isNonEmptyArray(x)){if(Ge.isNonEmptyArray(x)){for(const e of v){const t=e.key,l=c.value[t]||[];m.splice(0,m.length,...m.filter((e=>e!==t&&!l.some((t=>t.key===e))))),y.splice(0,y.length,...y.filter((e=>e!==t&&!l.some((t=>t.key===e)))))}y.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),m.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))))}if(Ge.isNonEmptyObject(p)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter((e=>!v.some((t=>t.key===e[g]))))),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter((e=>!v.some((t=>t.key===e[g])))))),Ge.isNonEmptyObject(p)&&(Ge.isNonEmptyArray(p.referenceSourceNode[h])&&(p.referenceSourceNode[h]=p.referenceSourceNode[h].filter((e=>!v.some((t=>t.key===e[g]))))),Ge.isNonEmptyArray(p.referenceSourceNode[h])||Object.hasOwn(p.referenceSourceNode,h)&&delete p.referenceSourceNode[h],p.children.splice(0,p.children.length,...p.children.filter((e=>!v.some((t=>t===e))))),p.isLeaf=0===p.children.length,p.scopedSlots={icon:1===p.level?"iconRoot":Ge.isNonEmptyArray(p.children)?"iconParent":"iconLeaf",title:1===p.level?"titleRoot":Ge.isNonEmptyArray(p.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(p)&&(d.splice(0,d.length,...d.filter((e=>!x.some((t=>t===e))))),s.splice(0,s.length,...d.filter((e=>1===e.level)))),Ge.isNonEmptyObject(p)||(d.splice(0,d.length,...d.filter((e=>!x.some((t=>t===e))))),s.splice(0,s.length,...d.filter((e=>1===e.level)))),w){c.value={},u.value={};for(const e of d){let t=e.parentNode;for(u.value[e.key]||(u.value[e.key]=[]),c.value[e.key]||(c.value[e.key]=[]);t;)u.value[e.key].unshift(t),c.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),t.emit("update:treeData",[...A(E(l.treeData))]),t.emit("change",{type:"remove",loadKeys:[...y],loadedKeys:[...m],removeNodes:[{parentNode:(null==p?void 0:p.referenceSourceNode)||null,rootChildNodes:s.map((e=>e.referenceSourceNode)),removeChildNodes:[...o]}],appendNodes:[],reloadNodes:[]})}}},changeTreeNodes(o,r,i){var s;const d=n.filterField,c=n.filterValue,u=n.linkTreeNodes,p=n.flatTreeNodes,f=n.childTreeNodes,b=n.parentTreeNodes,h=Ge.isPrimitive(r)?p.find((e=>e.key===r)):void 0,g=h?[...h.children]:[...u],y=Ge.isPrimitive(r)&&!h,m=e.replaceFields.children||"children",v=e.replaceFields.key||"key";if(y)return;o=(o=(o=(o=o.map((e=>{var t;return(null==(t=p.find((t=>t.key===e[v])))?void 0:t.referenceSourceNode)||e}))).filter((e=>!h||!b.value[h.key]||!b.value[h.key].some((t=>t.key===e[v]))))).filter((e=>!h||h.key!==e[v]))).map((e=>A(E(e))));const x=n.loadKeys,w=n.loadedKeys,k=[],S=[],C=Array.from(new Set([...o.filter((e=>!!e[v]||0===e[v]))])),N=Array.from(new Set([...o.filter((e=>p.some((t=>t.referenceSourceNode===e)))),...g.map((e=>e.referenceSourceNode))])),T=Array.from(new Set(o.filter((e=>g.some((t=>t.referenceSourceNode===e)))).map((e=>p.find((t=>t.referenceSourceNode===e))))));if(Ge.isNonEmptyArray(N)){N.sort(((e,t)=>p.findIndex((t=>t.key===e[v]))-p.findIndex((e=>e.key===t[v]))));for(const e of N.reverse()){const t=p.find((t=>t.key===e[v])),o=t&&(null==(s=t.parentNode)?void 0:s.referenceSourceNode)||null,r=t&&t.parentNode||null,i=a.spreadTreeNodes([t],1/0);if(Ge.isNonEmptyObject(r)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter((t=>e!==t))),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter((t=>e!==t)))),Ge.isNonEmptyObject(r)&&(Ge.isNonEmptyArray(r.referenceSourceNode[m])&&(r.referenceSourceNode[m]=r.referenceSourceNode[m].filter((t=>e!==t))),Ge.isNonEmptyArray(r.referenceSourceNode[m])||Object.hasOwn(r.referenceSourceNode,m)&&delete r.referenceSourceNode[m],r.children.splice(0,r.children.length,...r.children.filter((e=>t!==e))),r.isLeaf=0===r.children.length,r.scopedSlots={icon:1===r.level?"iconRoot":Ge.isNonEmptyArray(r.children)?"iconParent":"iconLeaf",title:1===r.level?"titleRoot":Ge.isNonEmptyArray(r.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(r)&&(p.splice(0,p.length,...p.filter((e=>!i.some((t=>t===e))))),u.splice(0,u.length,...p.filter((e=>1===e.level)))),Ge.isNonEmptyObject(r)||(p.splice(0,p.length,...p.filter((e=>!i.some((t=>t===e))))),u.splice(0,u.length,...p.filter((e=>1===e.level)))),(C.every((t=>t!==e))||!g.some((t=>t.referenceSourceNode===e)))&&(S.some((e=>e.parentNode===o))||S.push({parentNode:o,removeChildNodes:[]}),S.some((e=>e.parentNode===o)))){const t=S.find((e=>e.parentNode===o));!t.removeChildNodes.includes(e)&&t.removeChildNodes.push(e)}}}if(Ge.isNonEmptyArray(C)){C.sort(((e,t)=>p.findIndex((t=>t.key===e[v]))-p.findIndex((e=>e.key===t[v]))));const e=C.map((e=>T.find((t=>t.referenceSourceNode===e))||a.createTreeNodes([e],h)[0])),t=C.filter((e=>g.every((t=>t.referenceSourceNode!==e)))),r=a.spreadTreeNodes(e,1/0);if(Ge.isNonEmptyObject(h)||(l.treeData.push(...C),n.propTreeNodes.push(...C)),Ge.isNonEmptyObject(h)&&(h.isLeaf=0===h.children.length&&0===e.length,h.referenceSourceNode[m]=h.referenceSourceNode[m]||[],h.referenceSourceNode[m].push(...o),h.children.push(...e),h.scopedSlots={icon:1===h.level?"iconRoot":Ge.isNonEmptyArray(h.children)?"iconParent":"iconLeaf",title:1===h.level?"titleRoot":Ge.isNonEmptyArray(h.children)?"titleParent":"titleLeaf"}),Ge.isNonEmptyObject(h)){const e=(f.value[h.key]||[]).filter((e=>p.some((t=>t===e))));p.splice(0,p.length,...p.filter((t=>!e.some((e=>e===t))))),p.splice(p.findIndex((e=>e===h))+1,0,...e,...r),u.splice(0,u.length,...p.filter((e=>1===e.level)))}Ge.isNonEmptyObject(h)||(p.push(...r),u.splice(0,u.length,...p.filter((e=>1===e.level)))),Ge.isNonEmptyArray(t)&&k.push({parentNode:(null==h?void 0:h.referenceSourceNode)||null,appendChildNodes:[...t]})}if(Ge.isNonEmptyArray(N)||Ge.isNonEmptyArray(C)){f.value={},b.value={};for(const e of p){let t=e.parentNode;for(b.value[e.key]||(b.value[e.key]=[]),f.value[e.key]||(f.value[e.key]=[]);t;)b.value[e.key].unshift(t),f.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:d.value,filterValue:c.value}),x.sort(((e,t)=>p.findIndex((t=>t.key===e))-p.findIndex((e=>e.key===t)))),w.sort(((e,t)=>p.findIndex((t=>t.key===e))-p.findIndex((e=>e.key===t)))),t.emit("update:treeData",[...A(E(l.treeData))]),t.emit("change",{type:"change",loadKeys:[...x],loadedKeys:[...w],appendNodes:[...k.map((e=>({...e,rootChildNodes:u.map((e=>e.referenceSourceNode))})))],removeNodes:[...S.map((e=>({...e,rootChildNodes:u.map((e=>e.referenceSourceNode))})))],reloadNodes:[{parentNode:(null==h?void 0:h.referenceSourceNode)||null,oldChildNodes:g.map((e=>e.referenceSourceNode)),newChildNodes:(h?h.children:u).map((e=>e.referenceSourceNode)),rootChildNodes:u.map((e=>e.referenceSourceNode))}]})}},createTreeNodes(t,l){const n=Ge.isNonEmptyObject(l)&&l.level+1||1,o=Ge.isNonEmptyObject(l)?l:null,r=[];if(!Ge.isNonEmptyArray(t))return r;for(const i of t){const t=i[e.replaceFields.key||"key"],l=i[e.replaceFields.icon||"icon"],s=i[e.replaceFields.title||"title"],d=i[e.replaceFields.children||"children"],c=!0===i[e.replaceFields.alwaysShowTitleButton||"alwaysShowTitleButton"],u=!0===i[e.replaceFields.forceApplyDisableCheckbox||"forceApplyDisableCheckbox"],p=!0===i[e.replaceFields.forceApplyDisabled||"forceApplyDisabled"],f=!0===i[e.replaceFields.disableCheckbox||"disableCheckbox"],b=!0===i[e.replaceFields.disabled||"disabled"],h=!Ge.isNonEmptyArray(d)&&!1!==i.isLeaf,g={scopedSlots:{icon:1===n?"iconRoot":h?"iconLeaf":"iconParent",title:1===n?"titleRoot":h?"titleLeaf":"titleParent"},key:t,icon:Ge.isString(l)&&Ue(l)?w(qe,{type:l},null):null,level:n,title:s,titles:[],isLeaf:h,parentNode:o,alwaysShowTitleButton:c,forceApplyDisabled:p||!0===e.forceApplyDisabled||!0===(null==o?void 0:o.forceApplyDisabled),forceApplyDisableCheckbox:p||u||!0===e.forceApplyDisabled||!0===(null==o?void 0:o.forceApplyDisableCheckbox),checkable:Ge.isBoolean(i.checkable)?i.checkable:Ge.isFunction(e.allowCheckedLevel)?!1!==e.allowCheckedLevel(n,i):n>=e.allowCheckedLevel,isSelectable:Ge.isBoolean(i.selectable)?i.selectable:Ge.isFunction(e.allowSelectedLevel)?!1!==e.allowSelectedLevel(n,i):n>=e.allowSelectedLevel,disableCheckbox:b||f||p||u||!!(e.forceApplyDisabled||e.forceApplyDisableCheckbox||(null==o?void 0:o.forceApplyDisabled)||(null==o?void 0:o.forceApplyDisableCheckbox))&&!0===(null==o?void 0:o.disableCheckbox),disabled:b||p||!(!e.forceApplyDisabled&&!(null==o?void 0:o.forceApplyDisabled))&&!0===(null==o?void 0:o.disabled),referenceSourceNode:i,selectable:!0,children:[]};Ge.isNonEmptyArray(d)&&(g.children=a.createTreeNodes(d,g)),r.push(g)}return r},spreadTreeNodes(t,l){const n=[],o=t.map((e=>A(e)));for(const r of o){const t=Object.hasOwn(r,"referenceSourceNode")?"children":e.replaceFields.children||"children";Ge.isFiniteNumber(l)?l-=1:l=1/0,Ge.isNonEmptyArray(r[t])?n.push(r,...a.spreadTreeNodes(r[t],l)):n.push(r)}return n},pickUpperTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.parentTreeNodes,a=o.find((t=>t.key===e)),i=r.value[e];return a&&i&&(t=Ge.isFiniteNumber(t)?a.level-t:0,l.push(...i.filter((e=>e.level>=t)).map((e=>e.referenceSourceNode)))),l},pickLowerTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.childTreeNodes,a=o.find((t=>t.key===e)),i=r.value[e];return a&&i&&(t=Ge.isFiniteNumber(t)?a.level+t:1/0,l.push(...i.filter((e=>e.level<=t)).map((e=>e.referenceSourceNode)))),l},pickMatchTreeNode(e,t){const l=n.flatTreeNodes.find((t=>t.key===e));return!l||Ge.isNumber(t)&&l.level!==t?null:l.referenceSourceNode},expandTreeNodes(t){const l=n.loadKeys,o=n.expandedKeys,r=n.flatTreeNodes,i=n.childTreeNodes;if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>r.some((t=>t.key===e)))),t=Array.from(new Set(t))),Ge.isNonEmptyArray(t)){if(Ge.isNonEmptyArray(t))for(const n of t){const t=r.find((e=>n===e.key)),a=!1===t.isLeaf&&Ge.isFunction(e.loadData),i=l.includes(n);(Ge.isNonEmptyArray(t.children)||a&&!i)&&(o.includes(t.key)||o.push(t.key))}if(Ge.isNonEmptyArray(o)&&(o.sort(((e,t)=>r.findIndex((t=>t.key===e))-r.findIndex((e=>e.key===t)))),Ge.isFunction(e.loadData))){const e=o.filter((e=>{var t,n;return!l.includes(e)&&!Ge.isNonEmptyArray(null==(t=r.find((t=>t.key===e)))?void 0:t.children)&&!1===(null==(n=r.find((t=>t.key===e)))?void 0:n.isLeaf)}));for(const t of[...e])e.splice(0,e.length,...e.filter((e=>!i.value[t]||!i.value[t].some((t=>e===t.key)))));Ge.isNonEmptyArray(e)&&a.doTreeLoad(e)}o.splice(0,o.length,...o.filter((e=>r.some((t=>t.key===e&&Ge.isNonEmptyArray(t.children)))))),o.sort(((e,t)=>r.findIndex((t=>t.key===e))-r.findIndex((e=>e.key===t))))}},collapseTreeNodes(e){const t=n.expandedKeys,l=n.flatTreeNodes;Ge.isNonEmptyArray(t)&&(Ge.isNonEmptyArray(e)&&(e=e.filter((e=>l.some((t=>t.key===e)))),e=Array.from(new Set(e))),Ge.isNonEmptyArray(e)&&(t.splice(0,t.length,...t.filter((t=>!e.includes(t)&&l.some((e=>e.key===t&&Ge.isNonEmptyArray(e.children)))))),t.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))))))},doTreeAllExpanded(){n.expandedKeys.length===n.flatTreeNodes.length&&n.flatTreeNodes.every((e=>n.expandedKeys.includes(e.key)))||(a.expandTreeNodes(n.flatTreeNodes.filter((t=>Ge.isNonEmptyArray(t.children)||e.allowAutoExpanded&&e.allowAutoExpandLoad&&!1===t.isLeaf)).map((e=>e.key))),a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"]))},doTreeAllCollapsed(){n.expandedKeys.length>0&&(a.collapseTreeNodes(n.expandedKeys),a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"]))},doTreeToggleExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>l.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const d=l.filter((e=>t.some((t=>e.key===t))&&i.some((t=>e.key===t)))),c=l.filter((e=>t.some((t=>e.key===t))&&!i.some((t=>e.key===t)))),u=d.map((e=>e.key)),p=c.map((e=>e.key));if(Ge.isNonEmptyArray(d))for(const n of u)e.allowAutoCollapsed?i.splice(0,i.length,...i.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):i.splice(0,i.length,...i.filter((e=>e!==n)));if(Ge.isNonEmptyArray(p))for(const n of p){const t=(r.value[n]||[]).map((e=>e.key));if(s.push(n,...t),e.allowAutoExpanded){let t=!0,o=!0,r=l.find((e=>e.key===n));for(;r&&(o||t);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!Ge.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&Ge.isFunction(e.loadData),t=!!r&&Ge.isNonEmptyArray(r.children)}}s.push(...Array.from(new Set(i))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreeOnlyExpanded(t){const l=n.loadKeys,o=n.expandedKeys,r=n.linkTreeNodes,i=n.flatTreeNodes,s=n.childTreeNodes,d=n.parentTreeNodes;if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>i.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const c=i.filter((e=>o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),u=i.filter((e=>!o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),p=i.filter((e=>o.some((t=>e.key===t))&&!t.some((t=>e.key===t)))),f=c.map((e=>e.key)),b=u.map((e=>e.key)),h=p.map((e=>e.key)),g=[...b,...f],y=[],m=[];if(o.splice(0,o.length),b.sort(((e,t)=>i.findIndex((t=>t.key===e))-i.findIndex((e=>e.key===t)))),h.sort(((e,t)=>i.findIndex((t=>t.key===e))-i.findIndex((e=>e.key===t)))),g.sort(((e,t)=>i.findIndex((t=>t.key===e))-i.findIndex((e=>e.key===t)))),e.allowUnExpanded||1!==r.length||(y.push(r.map((e=>e.key))[0]),m.push(r.map((e=>e.key))[0])),Ge.isNonEmptyArray(g)){if(g.splice(0,g.length,...Array.from(new Set(g))),g.sort(((e,t)=>i.findIndex((t=>t.key===e))-i.findIndex((e=>e.key===t)))),!e.allowMultiExpanded){const t=g.find((t=>{const n=i.find((e=>e.key===t)),o=Ge.isNonEmptyArray(n.children),r=!1===n.isLeaf&&Ge.isFunction(e.loadData),a=!0===l.includes(t);return o||r&&!a}));if(t){m.push(t);for(const e of g){const l=s.value[t]||[];if((d.value[t]||[]).some((t=>t.key===e)))m.push(e);else if(l.some((t=>t.key===e))){const t=(d.value[e]||[]).map((e=>e.key));m.every((e=>t.includes(e)))&&m.push(e)}}}}if(e.allowMultiExpanded)for(const t of g){const n=!1===i.find((e=>e.key===t)).isLeaf&&Ge.isFunction(e.loadData),o=!0===l.includes(t),r=s.value[t]||[];(Ge.isNonEmptyArray(r)||n&&!o)&&((Ge.isNonEmptyArray(r)||n&&!o)&&m.push(t))}y.splice(0,y.length,...Array.from(new Set(m))),m.splice(0,m.length,...Array.from(new Set(m)))}if(Ge.isNonEmptyArray(m)){if(m.sort(((e,t)=>i.findIndex((t=>t.key===e))-i.findIndex((e=>e.key===t)))),e.allowAutoCollapsed)for(;y.length>0;){const e=y.pop(),t=d.value[e];t&&!t.every((e=>m.includes(e.key)))&&m.splice(m.indexOf(e),1)}a.expandTreeNodes(m)}a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"])},doTreePushExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>n.flatTreeNodes.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const d=l.filter((e=>t.includes(e.key))).map((e=>e.key));if(Ge.isNonEmptyArray(d)){d.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));for(const t of d){const n=(r.value[t]||[]).map((e=>e.key));if(s.push(t,...n),e.allowAutoExpanded){let n=!0,o=!0,r=l.find((e=>e.key===t));for(;r&&(o||n);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!Ge.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&Ge.isFunction(e.loadData),n=!!r&&Ge.isNonEmptyArray(r.children)}}if(!e.allowMultiExpanded){const e=[];for(;d.length>0;){const t=d.shift(),l=(r.value[t]||[]).map((e=>e.key));(0===e.length||l.every((t=>e.includes(t))))&&e.push(...[t,...l].filter((t=>!e.includes(t))))}e.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));const t=e.pop(),n=(o.value[t]||[]).map((e=>e.key)),a=(r.value[t]||[]).map((e=>e.key));s.splice(0,s.length,...s.filter((e=>e===t||n.includes(e)||a.includes(e)))),i.splice(0,i.length,...i.filter((e=>e===t||n.includes(e)||a.includes(e))))}}s.push(...Array.from(new Set(i))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreePopExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.expandedKeys];if(Ge.isNonEmptyArray(t)&&(t=t.filter((e=>l.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const i=l.filter((e=>t.includes(e.key))).map((e=>e.key));for(const n of i)e.allowAutoCollapsed?r.splice(0,r.length,...r.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):r.splice(0,r.length,...r.filter((e=>e!==n)));a.doTreeOnlyExpanded(Array.from(new Set(r)))},doTreeAllChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable));n.checkedKeys.push(...t.map((e=>e.key))),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreeAllUnChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter((e=>!e.disabled&&!e.disableCheckbox));n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter((e=>n.outCheckedKeys.includes(e)||!t.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreeToggleChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter((e=>l.some((t=>t.key===e))&&r.includes(e))),s=t.filter((e=>l.some((t=>t.key===e))&&!r.includes(e))),d=t.filter((e=>!l.some((t=>t.key===e))&&r.includes(e))),c=t.filter((e=>!l.some((t=>t.key===e))&&!r.includes(e)));for(const e of s)r.push(e,...(o.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of c)r.push(e);for(const e of d)r.splice(0,r.length,...r.filter((t=>t!==e)));for(const e of i)r.splice(0,r.length,...r.filter((t=>t!==e&&!(o.value[e]||[]).some((e=>e.key===t)))));a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeOnlyChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.checkedKeys],s=[...n.outCheckedKeys],d=[...i,...s],c=l.filter((e=>d.some((t=>e.key===t))&&(e.disabled||e.disableCheckbox))),u=l.filter((e=>t.some((t=>e.key===t))&&!e.disabled&&!e.disableCheckbox&&e.checkable)),p=[...Array.from(new Set(u)).map((e=>e.key)),...t.filter((e=>!l.some((t=>t.key===e))))],f=[...Array.from(new Set(c)).map((e=>e.key))],b=Array.from(new Set([...f,...p]));if(Ge.isNonEmptyArray(b)||n.checkedKeys.splice(0,n.checkedKeys.length),Ge.isNonEmptyArray(b)){for(b.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));p.length>0;){const e=p.pop();(e&&o.value[e]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)).map((e=>e.key)).every((e=>b.includes(e)))||b.splice(0,b.length,...b.filter((t=>t!==e)))}n.checkedKeys.splice(0,n.checkedKeys.length,...b)}if(Ge.isNonEmptyArray(b)&&(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...n.checkedKeys.filter((e=>!l.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter((e=>l.some((t=>t.key===e)))))),Ge.isEmptyArray(n.checkedKeys)&&!e.allowUnChecked){i.sort(((e,t)=>l.findIndex((t=>t.key===e))-l.findIndex((e=>e.key===t))));const e=i.filter((e=>l.some((t=>t.key===e)))).pop(),t=e&&r.value[e]&&r.value[e].map((e=>e.key))||[];e&&n.checkedKeys.push(e,...i.filter((e=>t.includes(e))))}a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreePushChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter((e=>l.some((t=>t.key===e))&&!r.includes(e))),s=t.filter((e=>!l.some((t=>t.key===e))&&!r.includes(e)));for(const e of i)r.push(e,...(o.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of s)r.push(e);a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreePopChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter((e=>l.some((t=>t.key===e))&&r.includes(e))),s=t.filter((e=>!l.some((t=>t.key===e))&&r.includes(e)));for(const e of i)r.splice(0,r.length,...r.filter((t=>t!==e&&!(o.value[e]||[]).some((e=>e.key===t)))));for(const e of s)r.splice(0,r.length,...r.filter((t=>t!==e)));a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeSelected(t){if(!0===e.disabled)return;if(Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.checkedKeys,o=n.selectedKeys,r=n.expandedKeys,i=n.flatTreeNodes,s=i.filter((e=>o.some((t=>e.key===t))&&!t.some((t=>e.key===t)))),d=i.filter((e=>!o.some((t=>e.key===t))&&t.some((t=>e.key===t)))),c=s.map((e=>e.key)),u=d.map((e=>e.key)),p=s[0],f=d[0],b=c[0],h=u[0];if(e.checkable&&e.allowSelectToCheck)return h&&f&&(f.disabled||f.disableCheckbox||!f.checkable)&&(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h])),void(h&&f&&!f.disabled&&!f.disableCheckbox&&f.checkable&&(l.includes(h)?a.doTreePopChecked([h]):a.doTreePushChecked([h])));if(!e.selectable&&!h)return void(b&&(r.includes(b)?e.allowAutoCollapsed&&a.doTreePopExpanded([b]):e.allowAutoExpanded&&a.doTreePushExpanded([b])));if(!e.selectable&&h)return void(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h]));if(h&&(!1===f.isSelectable||!0===f.disabled))return void(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h]));if(!h&&b&&(!1===p.isSelectable||!0===p.disabled))return void(r.includes(b)?e.allowAutoCollapsed&&a.doTreePopExpanded([b]):e.allowAutoExpanded&&a.doTreePushExpanded([b]));h&&(e.allowUnSelected&&b===h?o.splice(0,o.length):o.splice(0,o.length,h)),h||(!e.allowUnSelected&&b?o.splice(0,o.length,b):o.splice(0,o.length));const g=o[0],y=b===g;g&&(r.includes(g)?e.allowAutoCollapsed&&y&&a.doTreePopExpanded([g]):e.allowAutoExpanded&&a.doTreePushExpanded([g])),g||b&&r.includes(b)&&e.allowAutoCollapsed&&a.doTreePopExpanded([g]),a.cleanTreeStater(!1,["selected"]),a.resetTreeStater(!1,["selected"])},doEventDragstart(e){e.event.dataTransfer&&(e.event.dataTransfer.effectAllowed="move")},doEventExpand(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(Ge.isNonEmptyObject(t)&&(t=t.expanded),Ge.isNonEmptyArray(t)&&(t=t.filter((e=>n.flatTreeNodes.some((t=>t.key===e)))),t=Array.from(new Set(t))),!Ge.isArray(t))return;const d=t,c=l.filter((e=>i.some((t=>e.key===t))&&d.some((t=>e.key===t)))),u=l.filter((e=>i.some((t=>e.key===t))&&!d.some((t=>e.key===t)))),p=l.filter((e=>!i.some((t=>e.key===t))&&d.some((t=>e.key===t)))),f=c.map((e=>e.key)),b=u.map((e=>e.key)),h=p.map((e=>e.key));if(Ge.isNonEmptyArray(u))for(const n of b)e.allowAutoCollapsed?f.splice(0,f.length,...f.filter((e=>e!==n&&!(o.value[n]||[]).some((t=>t.key===e))))):f.splice(0,f.length,...f.filter((e=>e!==n)));if(Ge.isNonEmptyArray(h)){for(const t of h){const n=l.find((e=>e.key===t)),a=r.value[t]||[],i=o.value[t]||[];if(s.push(t,...a.map((e=>e.key))),Ge.isNonEmptyArray(i)&&1===n.children.length&&e.allowAutoExpanded){let e=n.children[0],t=null==e?void 0:e.children.length,l=null==e?void 0:e.key;for(;e&&1===t&&l;)s.push(l),e=e.children[0],t=null==e?void 0:e.children.length,l=null==e?void 0:e.key}}if(!e.allowMultiExpanded){const e=h[0],t=(o.value[e]||[]).map((e=>e.key)),l=(r.value[e]||[]).map((e=>e.key));s.splice(0,s.length,...s.filter((n=>n===e||t.includes(n)||l.includes(n)))),f.splice(0,f.length,...f.filter((n=>n===e||t.includes(n)||l.includes(n))))}}s.push(...Array.from(new Set(f))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doEventSelect(t){!0!==e.disabled&&(Ge.isNonEmptyObject(t)&&(t=t.selected),a.doTreeSelected(t))},doEventCheck(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(Ge.isNonEmptyObject(t)&&(t=t.checked),Ge.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!Ge.isArray(t))return;const l=n.childTreeNodes,o=[...t,...n.outCheckedKeys],r=[...n.checkedKeys,...n.outCheckedKeys],i=r.filter((e=>!o.includes(e))),s=o.filter((e=>!r.includes(e)));for(const e of s)r.push(e,...(l.value[e]||[]).map((e=>e.key)).filter((e=>!r.includes(e))));for(const e of i)r.splice(0,r.length,...r.filter((t=>t!==e&&!(l.value[e]||[]).some((e=>e.key===t)))));a.doTreeOnlyChecked(Array.from(new Set(r)))},doEventDrop(t){var l,o;const r=t.node.key,i=t.dragNode.key,s=t.node.pos?t.node.pos.split("-"):[],d=t.dropPosition-Number(s[s.length-1]),c=n.flatTreeNodes.find((e=>e.key===r)),u=n.flatTreeNodes.find((e=>e.key===i));if(c&&u&&[-1,0,1].includes(d)){if(-1===d||1===d){const t=c&&c.parentNode||null,o=t?t.children:n.linkTreeNodes,r=t?[...t.children]:[...n.linkTreeNodes];if(r.includes(u)&&r.splice(r.findIndex((e=>e===u)),1),!r.includes(u)){const e=r.findIndex((e=>e===c)),t=1===d?e+d:e;r.splice(t,0,u)}if(r.length!==o.length||!r.every(((e,t)=>o[t]===e))){const i=[{parentNode:null==t?void 0:t.referenceSourceNode,oldChildNodes:o.map((e=>e.referenceSourceNode)),rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),newChildNodes:r.map((e=>e.referenceSourceNode))}],s=o.includes(u)?[]:[{parentNode:null==(l=u.parentNode)?void 0:l.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),removeChildNodes:[u.referenceSourceNode]}],d=o.includes(u)?[]:[{parentNode:null==t?void 0:t.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),appendChildNodes:[u.referenceSourceNode]}];!1!==(Ge.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:i,appendNodes:d,removeNodes:s})&&a.changeTreeNodes(r.map((e=>e.referenceSourceNode)),null==t?void 0:t.key)}}if(0===d){const t=c,l=t.children,r=[...t.children];if(r.includes(u)&&r.splice(r.findIndex((e=>e===u)),1),r.includes(u)||r.unshift(u),r.length!==l.length||!r.every(((e,t)=>l[t]===e))){const i=[{parentNode:null==t?void 0:t.referenceSourceNode,oldChildNodes:l.map((e=>e.referenceSourceNode)),rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),newChildNodes:r.map((e=>e.referenceSourceNode))}],s=l.includes(u)?[]:[{parentNode:null==(o=u.parentNode)?void 0:o.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),removeChildNodes:[u.referenceSourceNode]}],d=l.includes(u)?[]:[{parentNode:null==t?void 0:t.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map((e=>e.referenceSourceNode)),appendChildNodes:[u.referenceSourceNode]}];!1!==(Ge.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:i,appendNodes:d,removeNodes:s})&&a.changeTreeNodes(r.map((e=>e.referenceSourceNode)),null==t?void 0:t.key)}}}},doTreeLoad(t){const l=[],o=n.loadKeys,i=n.loadedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.childTreeNodes,u=n.parentTreeNodes,p=Ge.isFunction(e.loadData)?e.loadData:null,f=t.filter((e=>d.some((t=>t.key===e))));if(!Ge.isFunction(p))return Promise.resolve([]);if(Ge.isNonEmptyArray(f))for(f.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))));f.length>0;){const e=f.shift();t.includes(e)&&(t.splice(0,t.length,...t.filter((t=>!c.value[e].some((e=>e.key===t))))),f.splice(0,f.length,...f.filter((t=>!c.value[e].some((e=>e.key===t))))))}if(Ge.isNonEmptyArray(t))for(const b of t){const t=e=>e!==b,c=e=>e.key===b,f=d.find(c);if(!f){s.splice(0,s.length,...s.filter(t)),i.splice(0,i.length,...i.filter(t)),o.splice(0,o.length,...o.filter(t));continue}if(o.includes(b))continue;o.includes(b)||o.push(b),i.includes(b)&&i.splice(0,i.length,...i.filter(t));const h=e=>{i.includes(b)||i.push(b),o.includes(b)&&o.splice(0,o.length,...o.filter(t)),o.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),i.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),a.appendTreeNodes(e,b),u.value[b]&&!u.value[b].every((e=>s.includes(e.key)))||a.doTreePushExpanded([b])},g=e=>{o.splice(0,o.length,...o.filter(t)),i.splice(0,i.length,...i.filter(t)),s.splice(0,s.length,...s.filter(t)),o.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t)))),i.sort(((e,t)=>d.findIndex((t=>t.key===e))-d.findIndex((e=>e.key===t))))},y={expandedKeys:n.expandedKeys,outCheckedKeys:n.outCheckedKeys,selectedKeys:"link"===e.selectedMode?r.selectedLinkNodes.map((e=>e.key)):r.selectedNodes.map((e=>e.key)),checkedKeys:"link"===e.checkedMode?r.checkedLinkNodes.map((e=>e.key)):r.checkedNodes.map((e=>e.key)),loadedKeys:n.loadedKeys,loadKeys:n.loadKeys};l.push(Promise.resolve(p(f.referenceSourceNode,y)).then((e=>h(e))).catch((e=>g())))}return Promise.all(l)},forceUpdate(t){const o=A(e.treeData),r=A(l.treeData),i=a.spreadTreeNodes(o,1/0),s=a.spreadTreeNodes(r,1/0);i.length===s.length&&i.every(((e,t)=>e===s[t]))||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o)),a.resetTreeNodes([...n.propTreeNodes],t)}},i=()=>{n.filterField.value===e.filterField&&n.filterValue.value===e.filterValue||(t.emit("update:filterField",n.filterField.value),t.emit("update:filterValue",n.filterValue.value))},s=()=>{var o;const a=e.checkedKeys,i="link"===e.checkedMode?[...r.checkedLinkNodes.map((e=>e.key))]:[...r.checkedNodes.map((e=>e.key))],s=Array.from(new Set([...i,...n.outCheckedKeys]));s.every(((e,t)=>a[t]===e))&&a.every(((e,t)=>s[t]===e))||(l.checkedKeys.splice(0,l.checkedKeys.length,...s),t.emit("update:checkedKeys",[...s]),t.emit("check",{checkedKeys:s,delCheckedKeys:a.filter((e=>!s.includes(e))),addCheckedKeys:s.filter((e=>!a.includes(e))),checkedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===s[0])))?void 0:o.referenceSourceNode)||null}))},d=()=>{var o;const a=e.selectedKeys,i="link"===e.selectedMode?[...r.selectedLinkNodes.map((e=>e.key))]:[...r.selectedNodes.map((e=>e.key))];i.every(((e,t)=>a[t]===e))&&a.every(((e,t)=>i[t]===e))||(l.selectedKeys.splice(0,l.selectedKeys.length,...i),t.emit("update:selectedKeys",[...i]),t.emit("select",{selectedKeys:i,delSelectedKeys:a.filter((e=>!i.includes(e))),addSelectedKeys:i.filter((e=>!a.includes(e))),selectedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===i[0])))?void 0:o.referenceSourceNode)||null}))},c=()=>{var o;const r=e.expandedKeys,a=n.expandedKeys;a.every(((e,t)=>r[t]===e))&&r.every(((e,t)=>a[t]===e))||(l.expandedKeys.splice(0,l.expandedKeys.length,...a),t.emit("update:expandedKeys",[...a]),t.emit("expand",{expandedKeys:a,delExpandedKeys:r.filter((e=>!a.includes(e))),addExpandedKeys:a.filter((e=>!r.includes(e))),expandedNode:(null==(o=n.flatTreeNodes.find((e=>e.key===a[0])))?void 0:o.referenceSourceNode)||null}))},u=()=>{e.filterField===n.filterField.value&&e.filterValue===n.filterValue.value||a.filterTreeNodes({filterField:e.filterField,filterValue:e.filterValue})},p=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=e.checkedKeys.filter((e=>t.some((t=>t.key===e)))),i=l.checkedKeys.filter((e=>t.some((t=>t.key===e)))),s=a.map((e=>t.find((t=>t.key===e)))),d=a.map((e=>t.find((t=>t.key===e)))),c=a.map((e=>t.find((t=>t.key===e))));for(i.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),s.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),d.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),c.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l))));c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)),l=(r.value[e.key]||[]).filter((e=>!e.disabled&&!e.disableCheckbox&&e.checkable)).map((e=>e.key));Ge.isNonEmptyArray(t)&&!t.every((e=>s.some((t=>e===t))))&&(s.splice(0,s.length,...s.filter((t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key)))),c.splice(0,c.length,...c.filter((t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key)))))}e.checkedKeys.every(((e,t)=>l.checkedKeys[t]===e))&&l.checkedKeys.every(((t,l)=>e.checkedKeys[l]===t))||(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...e.checkedKeys.filter((e=>!t.some((t=>t.key===e))))),n.checkedKeys.splice(0,n.checkedKeys.length,...s.map((e=>e.key))),l.checkedKeys.splice(0,l.checkedKeys.length,...e.checkedKeys))},f=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=l.selectedKeys.filter((e=>t.some((t=>t.key===e)))),i=e.selectedKeys.filter((e=>t.some((t=>t.key===e)))),s=e.selectedKeys.filter((e=>t.some((t=>t.key===e)))),d=i.map((e=>t.find((t=>t.key===e)))),c=s.map((e=>t.find((t=>t.key===e))));if(a.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),d.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),c.sort(((e,l)=>t.findIndex((t=>t===e))-t.findIndex((e=>e===l)))),"link"===e.selectedMode)for(;c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable)),l=(r.value[e.key]||[]).filter((e=>!e.disabled&&e.isSelectable)).map((e=>e.key));Ge.isNonEmptyArray(t)&&t.some((e=>d.some((t=>e===t))))&&(d.splice(0,d.length,...d.filter((t=>t.disabled||t.key!==e.key))),c.splice(0,c.length,...c.filter((t=>t.disabled||t.key!==e.key)))),d.splice(0,d.length,...d.filter((e=>e.disabled||!l.includes(e.key)))),c.splice(0,c.length,...c.filter((e=>e.disabled||!l.includes(e.key))))}d.every(((e,t)=>a[t]===e.key))&&a.every(((e,t)=>{var l;return(null==(l=d[t])?void 0:l.key)===e}))||(l.selectedKeys.splice(0,l.selectedKeys.length,...d.map((e=>e.key))),n.selectedKeys.splice(0,n.selectedKeys.length,...d.map((e=>e.key))))},b=()=>{const t=n.flatTreeNodes,o=e.expandedKeys.filter((e=>t.some((t=>t.key===e)))),r=l.expandedKeys.filter((e=>t.some((t=>t.key===e))));o.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),r.sort(((e,l)=>t.findIndex((t=>t.key===e))-t.findIndex((e=>e.key===l)))),o.every(((e,t)=>r[t]===e))&&r.every(((e,t)=>o[t]===e))||(l.expandedKeys.splice(0,l.expandedKeys.length,...o),n.expandedKeys.splice(0,n.expandedKeys.length,...o))},h=t=>{const o=A(e.treeData),r=A(l.treeData),i=a.spreadTreeNodes(o,1/0),s=a.spreadTreeNodes(r,1/0);i.length===s.length&&i.every(((e,t)=>e===s[t]))||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o),a.resetTreeNodes(n.propTreeNodes,t))},g=(t,n)=>w("section",{ref:l.treeContainer,class:"s-tree-container"},[w(se,{spinning:e.loading},{default:()=>[w(y,null,n.slots)]})]),y=(t,l)=>{const o={...l.slots,switcherIcon:Ge.isFunction(l.slots.switcherIcon)?e=>l.slots.switcherIcon({...e.referenceSourceNode,switcherCls:e.switcherCls}):e=>m(e),title:Ge.isFunction(l.slots.title)?e=>l.slots.title({...e.referenceSourceNode}):e=>x(e,l),icon:Ge.isFunction(l.slots.icon)?e=>l.slots.icon({...e.referenceSourceNode}):e=>v(e,l)};return w(fe,{treeData:[...n.linkTreeNodes],expandedKeys:[...n.expandedKeys],selectedKeys:[...n.selectedKeys],checkedKeys:{checked:n.checkedKeys,halfChecked:n.halfCheckedKeys},onDragstart:a.doEventDragstart,onExpand:a.doEventExpand,onSelect:a.doEventSelect,onCheck:a.doEventCheck,onDrop:a.doEventDrop,selectable:e.selectable,checkable:e.checkable,blockNode:e.blockNode,draggable:e.draggable,disabled:e.disabled,showIcon:e.showIcon,showLine:e.showLine,virtual:e.virtual,checkStrictly:!0,multiple:!1},o)},m=(e,t)=>{const l=a.renderSwitcher(e);return Ue(l)?w(qe,{type:l,style:"cursor: pointer;",class:{[e.switcherCls]:"CaretDownOutlined"===l},onClick:t=>{"LoadingOutlined"!==l&&a.triggerSwitcher(e),t.stopPropagation()}},null):null},v=(e,t)=>"iconRoot"===e.scopedSlots.icon?Ge.isFunction(t.slots.iconRoot)?t.slots.iconRoot({...e.referenceSourceNode}):w(qe,{type:Ue(e.icon)?e.icon:"AppstoreOutlined"},null):"iconParent"===e.scopedSlots.icon?Ge.isFunction(t.slots.iconParent)?t.slots.iconParent({...e.referenceSourceNode}):w(qe,{type:Ue(e.icon)?e.icon:"ApartmentOutlined"},null):"iconLeaf"===e.scopedSlots.icon?Ge.isFunction(t.slots.iconLeaf)?t.slots.iconLeaf({...e.referenceSourceNode}):w(qe,{type:Ue(e.icon)?e.icon:"ApartmentOutlined"},null):void 0,x=(t,l)=>{const n=(t,l)=>{if(Ge.isFunction(l.slots.titleRootLabel)){let n;return w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},ft(n=l.slots.titleRootLabel({...t.referenceSourceNode}))?n:{default:()=>[n]})])}if(Ge.isNonEmptyArray(t.titles)){const l=be.useToken().token.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{style:{color:n}},[t.titles[0]]),w("span",{style:{color:l}},[t.titles[1]]),w("span",{style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[t.title]})])},o=(t,l)=>Ge.isFunction(l.slots.titleRootButton)?w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[l.slots.titleRootButton({...t.referenceSourceNode})]):w("span",{class:"s-tree-title-button"},null),r=(t,l)=>{if(Ge.isFunction(l.slots.titleParentLabel)){let n;return w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},ft(n=l.slots.titleParentLabel({...t.referenceSourceNode}))?n:{default:()=>[n]})])}return Ge.isNonEmptyArray(t.titles)?w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal"},[t.titles[0]]),w("span",{class:"primary"},[t.titles[1]]),w("span",{class:"normal"},[t.titles[2]])]})]):w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[Ge.isString(t.title)?t.title:""]})])},a=(t,l)=>Ge.isFunction(l.slots.titleParentButton)?w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[l.slots.titleParentButton({...t.referenceSourceNode})]):w("span",{class:"s-tree-title-button"},null),i=(t,l)=>{if(Ge.isFunction(l.slots.titleLeafLabel)){let n;return w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},ft(n=l.slots.titleLeafLabel({...t.referenceSourceNode}))?n:{default:()=>[n]})])}return Ge.isNonEmptyArray(t.titles)?w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal"},[t.titles[0]]),w("span",{class:"primary"},[t.titles[1]]),w("span",{class:"normal"},[t.titles[2]])]})]):w("span",{class:"s-tree-title-label"},[w(Xe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[Ge.isString(t.title)?t.title:""]})])},s=(t,l)=>Ge.isFunction(l.slots.titleLeafButton)?w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[l.slots.titleLeafButton({...t.referenceSourceNode})]):w("span",{class:"s-tree-title-button"},null);if("titleRoot"===t.scopedSlots.title){const r={...t,key:void 0};return Ge.isFunction(l.slots.titleRoot)?l.slots.titleRoot({...t.referenceSourceNode}):w("span",{class:["s-tree-title-node","s-tree-title-root-node",{"s-tree-title-sticky-node":!0===e.sticky}]},[w(n,r,l.slots),w(o,r,l.slots)])}if("titleParent"===t.scopedSlots.title){const e={...t,key:void 0};return Ge.isFunction(l.slots.titleParent)?l.slots.titleParent({...t.referenceSourceNode}):w("span",{class:"s-tree-title-node s-tree-title-parent-node"},[w(r,e,l.slots),w(a,e,l.slots)])}if("titleLeaf"===t.scopedSlots.title){const e={...t,key:void 0};return Ge.isFunction(l.slots.titleLeaf)?l.slots.titleLeaf({...t.referenceSourceNode}):w("span",{class:"s-tree-title-node s-tree-title-leaf-node"},[w(i,e,l.slots),w(s,e,l.slots)])}};if(I([()=>e.checkable,()=>e.filterField,()=>e.filterValue,()=>e.checkedMode,()=>e.selectedMode,()=>[...e.treeData],()=>[...e.checkedKeys],()=>[...e.selectedKeys],()=>[...e.expandedKeys]],(([e,t,l,n,o,r,i,s,d],[c,g,y,m,v,x,w,k,S])=>{let C=!1,N=!1,T=!1,I=!1,z=!1,P=!1,R=!1,K=!1,O=!1,F=!1;if(C||(C=t!==g||l!==y),!N&&r!==x){const e=A(E(r))||[],t=A(E(x))||[],l=a.spreadTreeNodes(e,1/0),n=a.spreadTreeNodes(t,1/0);N=!l.every(((e,t)=>e===n[t]))||!n.every(((e,t)=>e===l[t]))}if(T||(i!==w&&(K=!Ge.isArray(i)||!Ge.isArray(w)||i.length!==w.length||i.some((e=>!w.includes(e)))),s!==k&&(O=!Ge.isArray(s)||!Ge.isArray(k)||s.length!==k.length||s.some((e=>!k.includes(e)))),d!==S&&(F=!Ge.isArray(d)||!Ge.isArray(S)||d.length!==S.length||d.some((e=>!S.includes(e)))),z=e!==c,P=n!==m,R=o!==v,T=z||P||R||K||O||F,I=z),C&&u(),N&&h(I),T){const e=[];K&&e.push("checked"),O&&e.push("selected"),F&&e.push("expanded"),K&&p(),O&&f(),F&&b(),a.cleanTreeStater(I,e),a.resetTreeStater(I,e)}})),I((()=>[n.filterField.value,n.filterValue.value]),(()=>i())),I((()=>[...n.checkedKeys,...n.outCheckedKeys]),(()=>s())),I((()=>[...n.selectedKeys]),(()=>d())),I((()=>[...n.expandedKeys]),(()=>c())),I((()=>e.bgColor),(()=>{const t=e.bgColor,n=l.treeContainer.value;null==n||n.style.setProperty("--tree-background-color",t)})),C((()=>{const t=e.bgColor,n=l.treeContainer.value;null==n||n.style.setProperty("--tree-background-color",t)})),t.expose({filterTreeNodes:a.filterTreeNodes,reloadTreeNodes:a.reloadTreeNodes,appendTreeNodes:a.appendTreeNodes,removeTreeNodes:a.removeTreeNodes,changeTreeNodes:a.changeTreeNodes,pickUpperTreeNodes:a.pickUpperTreeNodes,pickLowerTreeNodes:a.pickLowerTreeNodes,pickMatchTreeNode:a.pickMatchTreeNode,doTreeAllExpanded:a.doTreeAllExpanded,doTreeAllCollapsed:a.doTreeAllCollapsed,doTreeToggleExpanded:a.doTreeToggleExpanded,doTreeOnlyExpanded:a.doTreeOnlyExpanded,doTreePushExpanded:a.doTreePushExpanded,doTreePopExpanded:a.doTreePopExpanded,doTreeAllChecked:a.doTreeAllChecked,doTreeAllUnChecked:a.doTreeAllUnChecked,doTreeToggleChecked:a.doTreeToggleChecked,doTreeOnlyChecked:a.doTreeOnlyChecked,doTreePushChecked:a.doTreePushChecked,doTreePopChecked:a.doTreePopChecked,doTreeSelected:a.doTreeSelected,forceUpdate:a.forceUpdate}),h(),b(),f(),p(),u(),a.cleanTreeStater(),a.resetTreeStater(),!0===e.defaultExpandAll){const t=Ge.isFiniteNumber(e.filterValue),l=Ge.isNonEmptyString(e.filterValue);!t&&!l&&a.doTreeAllExpanded()}return()=>w(g,null,t.slots)},slots:{},methods:{}}),ht=e=>e,gt=e=>e,yt=e=>e,mt=e=>e;Ze("body.cursor-column-resizable,\nbody.cursor-column-resizable .s-table-container {\n  cursor: col-resize !important;\n}\nbody.user-select-none,\nbody.user-select-none .s-table-container {\n  user-select: none !important;\n}\n.s-table-container {\n  --table-thead-color: #fafafa;\n  --table-border-color: #f0f0f0;\n  --table-primary-color: #1890ff;\n  --table-background-color: #ffffff;\n  --table-padding-vertical: 16px;\n  --table-padding-vertical-small: 8px;\n  --table-padding-vertical-middle: 12px;\n  --table-padding-horizontal: 16px;\n  --table-padding-horizontal-small: 8px;\n  --table-padding-horizontal-middle: 8px;\n}\n.s-table-container {\n  width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container {\n  width: fit-content;\n  min-width: 100%;\n  min-height: 130px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper {\n  width: fit-content;\n  min-width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  /* overflow: auto; -- support sticky header in document */\n  border-radius: 2px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table {\n  width: fit-content;\n  min-width: 100%;\n  font-family: PingFang SC,\n          Microsoft YaHei,\n          Arial;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #303133;\n  text-align: left;\n  list-style: none;\n  background-color: var(--table-background-color);\n  font-variant: tabular-nums;\n  font-feature-settings: 'tnum';\n  border-collapse: separate;\n  box-sizing: border-box;\n  border-spacing: 0;\n  border-radius: 4px;\n  table-layout: fixed;\n  position: relative;\n  z-index: 999;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > colgroup > col {\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr.s-table-tbody-click-tr {\n  cursor: pointer;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: #303133;\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 600;\n  text-align: left;\n  background-color: var(--table-thead-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th.s-table-thead-sortable-th {\n  padding-right: 22px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional {\n  display: inline-block;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional > .s-table-thead-functional-resizable {\n  width: 5px;\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  cursor: col-resize;\n  background-color: rgba(255, 255, 255, 0.03);\n  z-index: 10;\n  opacity: 0.5;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 26px;\n  text-align: inherit;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 26px;\n  height: 100%;\n  margin: auto 0;\n  position: absolute;\n  bottom: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 3px;\n  background-color: #ffffff;\n  border: solid 1px #ebebeb;\n  vertical-align: -1px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button:not(.s-table-tbody-expand-disabled):hover {\n  color: var(--table-primary-color);\n  border-color: var(--table-primary-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button.s-table-tbody-expand-disabled {\n  cursor: default;\n  color: #00000040;\n  background-color: #f5f5f5;\n  border: solid 1px #d9d9d9;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 54px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table {\n  width: 100%;\n  min-width: 100%;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 18px;\n  right: 1px;\n  bottom: 14px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-expand-td {\n  border-top: none;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot:not(.s-border-table) > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 22px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 46px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 14px;\n  right: 1px;\n  bottom: 10px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 22px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 38px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 10px;\n  right: 1px;\n  bottom: 6px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container .s-table-empty-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 168px;\n}\n.s-table-container .s-table-sorter-container {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  width: 12px;\n  height: 100%;\n  margin-right: 5px;\n  padding: 17px 12px 15px;\n  cursor: pointer;\n}\n.s-table-container .s-table-cursor-container {\n  background-color: var(--table-primary-color);\n  position: absolute;\n  z-index: 999990;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  min-width: 100px;\n  margin: -5px 0 0 -6px;\n  padding: 7px 15px;\n  overflow: hidden;\n  background-color: var(--table-thead-color);\n  box-shadow: 0.5px 0.5px 2px 2px rgba(0, 0, 0, 0.25);\n  border-radius: 6px;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-right: 5px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-value {\n  flex: 0 0 auto;\n  display: inline-block;\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  float: right;\n  height: 28px;\n  margin: -1px 0 -28px -64px;\n  padding: 1px 0;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999998;\n  right: 0 !important;\n  top: 0 !important;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  font-size: 17px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-title {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-left: 2px;\n  color: rgba(0, 0, 0, 0.65);\n  font-size: 15px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-overlay {\n  display: inline-block;\n  position: absolute;\n  max-width: 150px;\n  right: 0;\n  top: 30px;\n  box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\n  background-color: var(--table-background-color);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.s-table-container .s-table-paginate-container {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 56px;\n  padding: 12px 8px;\n  background-color: var(--table-background-color);\n  border-top: solid 1px #f0f0f0;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1000;\n}\n.s-table-container .s-table-paginate-container > .s-table-paginate-content {\n  flex: 0 1 auto;\n  width: auto;\n  height: 32px;\n  position: sticky;\n  right: 8px;\n}\n.s-table-container .s-table-loading-container {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999999;\n  background-color: rgba(252, 252, 252, 0.65);\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -45px -12px;\n  transform: rotate(45deg);\n  animation: vueRotate 1.2s linear infinite;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  position: absolute;\n  display: block;\n  width: 11px;\n  height: 11px;\n  opacity: 0.3;\n  border-radius: 100%;\n  transform: scale(0.75);\n  transform-origin: 50% 50%;\n  background-color: var(--table-primary-color);\n  animation: vueSpinMove 1s linear infinite alternate;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(1) {\n  top: 0;\n  left: 0;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(2) {\n  top: 0;\n  right: 0;\n  animation-delay: 0.4s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(3) {\n  right: 0;\n  bottom: 0;\n  animation-delay: 0.8s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(4) {\n  left: 0;\n  bottom: 0;\n  animation-delay: 1.2s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-text {\n  display: block;\n  width: 100px;\n  margin: -18px -50px;\n  padding: 5px 0 0 0;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  color: var(--table-primary-color);\n  text-shadow: 0 1px 2px #fff;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n@keyframes vueRotate {\n  to {\n    transform: rotate(405deg);\n  }\n}\n@keyframes vueSpinMove {\n  to {\n    opacity: 1;\n  }\n}\n.s-table-container .s-table-selection-container {\n  display: inline-block;\n  font-size: 0px;\n}\n.s-table-container .s-table-selection-container .ant-checkbox-wrapper,\n.s-table-container .s-table-selection-container .ant-radio-wrapper {\n  padding: 0;\n  margin: 0;\n}\n.s-table-container.s-middle-table-container .s-table-sorter-container {\n  padding: 12px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container {\n  height: 24px;\n  padding: 1px 0;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 16px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 14px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 20px;\n  height: 20px;\n  font-size: 20px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 9px;\n  height: 9px;\n  transform: scale(0.75);\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 13px;\n  margin: -22px -50px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n.s-table-container.s-small-table-container .s-table-sorter-container {\n  padding: 8px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container {\n  height: 22px;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 15px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 13px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 18px;\n  height: 18px;\n  font-size: 18px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 8px;\n  height: 8px;\n  transform: scale(0.75);\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 12px;\n  margin: -24px -50px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n");const vt=e=>{if(Ge.isObject(e)){if(Ge.isObject(e.result)){return{data:Ge.isArray(e.result.data)?e.result.data:[],pageNo:e.result.pageNo||1,totalPage:e.result.totalPage||0,totalSize:e.result.totalSize||0}}if(Ge.isArray(e.result)){const t=e.result;return{data:t,pageNo:1,pageSize:t.length,totalPage:0,totalSize:t.length}}}if(Ge.isArray(e)){const t=e;return{data:t,pageNo:1,pageSize:t.length,totalPage:0,totalSize:t.length}}return{data:[],pageNo:1,pageSize:0,totalPage:0,totalSize:0}},xt=x({name:"STableSelection",props:{size:t().isRequired,type:t().isRequired,indeterminate:e().def(!1),disabled:e().def(!1),checked:e().def(!1)},emits:{check:e=>!0},setup(e,t){const l=l=>{t.emit("check",!e.checked)},n=e=>{e.stopPropagation()},o=W((()=>"default"===e.size?"large":"middle"===e.size?"default":"small"));return()=>"Checkbox"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(ae,{size:o.value,checked:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,onChange:l},null)]):"Radio"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(ne,{size:o.value,checked:e.checked,disabled:e.disabled,onChange:l},null)]):void 0}}),wt=x({name:"STablePaginate",inheritAttrs:!1,props:{size:t().def("default"),disabled:e().def(!1),showTotal:i().def(void 0),hideOnSinglePage:e().def(!1),defaultPageSize:l().def(20),pageSizeOptions:o().def(["10","15","20","25","30","50","100","200","300","500"]),showSizeChanger:e().def(void 0),showQuickJumper:e().def(!1),showLessItems:e().def(!1),totalSize:l().def(0),pageSize:l().def(20),pageNo:l().def(1),simple:e().def(!1)},emits:{pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0},setup(e,t){const l=(e,l)=>{t.emit("pageSizeChange",e,l)},n=(e,l)=>{t.emit("pageChange",e,l)},o=S(null),r=t.attrs.style;return()=>w("div",{ref:o,class:"s-table-paginate-container",style:r},[w("div",{class:"s-table-paginate-content"},[w(he,{size:e.size,simple:e.simple,current:e.pageNo,total:e.totalSize,pageSize:e.pageSize,disabled:e.disabled,showTotal:e.showTotal,hideOnSinglePage:e.hideOnSinglePage,defaultPageSize:e.defaultPageSize,pageSizeOptions:e.pageSizeOptions,showSizeChanger:e.showSizeChanger,showQuickJumper:e.showQuickJumper,showLessItems:e.showLessItems,onShowSizeChange:l,onChange:n},null)])])}}),kt=x({name:"STableScrollbar",inheritAttrs:!1,props:{overflow:t().isRequired,optionser:r().isRequired,direction:t().isRequired},setup(e){const t=N({visible:!1,activate:!1,mousedownX:0,mousedownY:0,scrollbarX:0,scrollbarY:0}),l=S(8),n=S(!1),o=S(null),r=S(null),a=W((()=>"auto"===e.overflow?{scroller:e.optionser.refTableWrapper.value,scrollTop:e.optionser.wrapperScrollTop.value,scrollLeft:e.optionser.wrapperScrollLeft.value,scrollWidth:e.optionser.wrapperScrollLeft.value+e.optionser.wrapperScrollClientWidth.value+e.optionser.wrapperScrollRight.value,scrollHeight:e.optionser.wrapperScrollTop.value+e.optionser.wrapperScrollClientHeight.value+e.optionser.wrapperScrollBottom.value,clientHeight:e.optionser.wrapperScrollClientHeight.value,clientWidth:e.optionser.wrapperScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value}:{scroller:e.optionser.resizerContainer.value,scrollTop:e.optionser.resizerScrollTop.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollWidth:e.optionser.resizerScrollLeft.value+e.optionser.resizerScrollClientWidth.value+e.optionser.resizerScrollRight.value,scrollHeight:e.optionser.resizerScrollTop.value+e.optionser.resizerScrollClientHeight.value+e.optionser.resizerScrollBottom.value,clientHeight:e.optionser.resizerScrollClientHeight.value,clientWidth:e.optionser.resizerScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value})),i=t=>{"horizontal"===e.direction&&(a.value.scroller.scrollLeft=t/a.value.clientWidth*a.value.scrollWidth,a.value.scroller.scrollLeft=a.value.scroller.scrollLeft>0?a.value.scroller.scrollLeft:0),"vertical"===e.direction&&(a.value.scroller.scrollTop=t/a.value.clientHeight*a.value.scrollHeight,a.value.scroller.scrollTop=a.value.scroller.scrollTop>0?a.value.scroller.scrollTop:0)},s=e=>{t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0,document.body.classList.remove("user-select-none")},d=l=>{a.value.scroller instanceof HTMLElement&&("horizontal"===e.direction&&(t.activate=!0,t.scrollbarX=a.value.scrollLeft/a.value.scrollWidth*a.value.clientWidth,t.scrollbarY=0,t.mousedownX=l.clientX,t.mousedownY=0,document.body.classList.add("user-select-none")),"vertical"===e.direction&&(t.activate=!0,t.scrollbarX=0,t.scrollbarY=a.value.scrollTop/a.value.scrollHeight*a.value.clientHeight,t.mousedownX=0,t.mousedownY=l.clientY,document.body.classList.add("user-select-none")),l.stopPropagation())},c=l=>{a.value.scroller instanceof HTMLElement||(t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0),t.activate&&("horizontal"===e.direction&&i(t.scrollbarX+l.clientX-t.mousedownX),"vertical"===e.direction&&i(t.scrollbarY+l.clientY-t.mousedownY),l.stopPropagation())},u=t=>{if("horizontal"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();i(t.clientX-e.left-l.width/2)}if("vertical"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();i(t.clientY-e.top-l.height/2)}},p=e=>{t.visible=!1},f=e=>{t.visible=!0};return()=>{if("horizontal"!==e.direction&&"vertical"!==e.direction)return;if("horizontal"===e.direction&&a.value.scrollWidth<=a.value.clientWidth+10)return;if("vertical"===e.direction&&a.value.scrollHeight<=a.value.clientHeight+10)return;if(a.value.windowHeight<=100||a.value.windowWidth<=100)return;if(a.value.clientHeight<=100||a.value.clientWidth<=100)return;if(a.value.scrollHeight<=100||a.value.scrollWidth<=100)return;if(!(a.value.container instanceof HTMLElement))return;if(!(a.value.scroller instanceof HTMLElement))return;if(!(a.value.table instanceof HTMLElement))return;const i="vertical"===e.direction&&parseInt(window.getComputedStyle(a.value.scroller).paddingLeft)||0,b=a.value.scroller.getBoundingClientRect(),h=b.top>=a.value.windowHeight-20,g=b.left>=a.value.windowWidth-20,y=b.right<=a.value.windowWidth+20,m=b.bottom<=a.value.windowHeight+20,v=t.visible||t.activate,x={},k={};return"horizontal"===e.direction&&(Object.assign(x,{width:`${a.value.clientWidth}px`,height:`${l.value}px`,display:""+(h||m||!v?"none":"block"),transform:`translate(0, ${a.value.windowHeight-b.bottom-3}px)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(k,{height:`${l.value}px`,width:`${(a.value.clientWidth/a.value.scrollWidth*a.value.clientWidth).toFixed(3)}px`,transform:`translate(${(a.value.scrollLeft/a.value.scrollWidth*a.value.clientWidth).toFixed(3)}px, 0)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),"vertical"===e.direction&&(Object.assign(x,{width:`${l.value}px`,height:`${a.value.clientHeight}px`,marginTop:-a.value.clientHeight+"px",display:""+(g||y||!v?"none":"block"),transform:`translate(${a.value.clientWidth+(a.value.windowWidth-b.right)-i-l.value-3}px, 0)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(k,{width:`${l.value}px`,height:`${(a.value.clientHeight/a.value.scrollHeight*a.value.clientHeight).toFixed(3)}px`,transform:`translate(0, ${(a.value.scrollTop/a.value.scrollHeight*a.value.clientHeight).toFixed(3)}px)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),n.value||(a.value.container.removeEventListener("mouseleave",p),a.value.container.removeEventListener("mouseenter",f),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",s),a.value.container.addEventListener("mouseleave",p),a.value.container.addEventListener("mouseenter",f),document.addEventListener("mousemove",c),document.addEventListener("mouseup",s),n.value=!0),w("div",{onMousedown:u,onMouseenter:()=>{l.value=12},onMouseleave:()=>{l.value=8},class:"s-table-scrollbar-container",style:x,ref:o},[w("div",{onMousedown:d,class:"s-table-scrollbar",style:k,ref:r},null)])}}}),St=x({name:"STableSettings",inheritAttrs:!1,props:{title:t().def(""),style:r().def((()=>({}))),multiline:e().def(!1),treeData:o().def((()=>[])),dropHandler:i().def((()=>!1)),expandedKeys:o().def((()=>[])),checkedKeys:o().def((()=>[])),allTreeKeys:o().def((()=>[])),draggable:e().def(!1)},emits:{"update:checkedKeys":e=>!0},setup(e,t){const l=S(!1),n=S(null),o=S(e.checkedKeys),r=S(e.expandedKeys),a=()=>{l.value=!1},i=e=>{e.stopPropagation()},s=e=>{l.value=!l.value,e.stopPropagation()};return C((()=>{document.body.addEventListener("click",a)})),j((()=>{document.body.removeEventListener("click",a)})),I((()=>o.value),(l=>{t.emit("update:checkedKeys",l.length>0?l:[...e.allTreeKeys])})),I((()=>l.value),(t=>{!t&&(r.value=[...e.allTreeKeys])})),I((()=>e.checkedKeys),(e=>{o.value=e})),()=>w("div",{class:"s-table-settings-container",style:e.style,onClick:s},[w("div",{class:"s-table-settings-icon"},[w(f,{style:{color:be.useToken().token.value.colorPrimary}},null)]),w("div",{class:"s-table-settings-title"},[e.title]),w((()=>l.value?(z((()=>{n.value&&(n.value.style.width=n.value.getBoundingClientRect().width+"px")})),w("div",{ref:n,class:"s-table-settings-overlay",onMouseleave:a,onClick:i},[w(bt,{style:{margin:!0===e.multiline?"7px 10px 3px 5px":"7px 10px 3px -8px"},checkedKeys:o.value,"onUpdate:checkedKeys":e=>o.value=e,expandedKeys:r.value,"onUpdate:expandedKeys":e=>r.value=e,dropHandler:e.dropHandler,draggable:e.draggable,treeData:e.treeData,allowSelectToCheck:!0,checkedMode:"link",selectable:!1,checkable:!0},null)])):w(D,null,null)),null,null)])}}),Ct=x({name:"STableLoading",inheritAttrs:!1,props:{optionser:r().isRequired},setup(e){let t="50%",l="50%",n="auto",o="auto";const r=W((()=>({scroller:e.optionser.resizerContainer.value,container:e.optionser.refTableContainer.value,windowWidth:e.optionser.windowInnerWidth.value,windowHeight:e.optionser.windowInnerHeight.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollTop:e.optionser.resizerScrollTop.value})));return()=>{if(r.value.container instanceof HTMLElement&&r.value.scroller instanceof HTMLElement){const e=r.value.container.getBoundingClientRect(),a=r.value.scroller.getBoundingClientRect();t=Math.max(e.top,a.top),l=Math.max(e.left,a.left),n=Math.min(e.right,a.right,r.value.windowWidth),o=Math.min(e.bottom,a.bottom,r.value.windowHeight),t=t-e.top+(o-t)/2,l=l-e.left+(n-l)/2,t=t>100?t:100,l=l>100?l:100}return w("div",{class:"s-table-loading-container"},[w("span",{class:"s-table-loading-dot-group",style:{top:t+"px",left:l+"px"}},[w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null)]),w("div",{class:"s-table-loading-text",style:{top:t+"px",left:l+"px"}},[w("span",null,[H("正在加载中...")])])])}}}),Nt=x({name:"STableDragger",inheritAttrs:!1,props:{top:l().def(0),left:l().def(0),value:n().isRequired,allow:e().isRequired,rowIndex:l().isRequired,colIndex:l().isRequired,container:r().isRequired},setup:(e,t)=>()=>w("div",{style:{top:e.top+"px",left:e.left+"px"},class:"s-table-dragger-container"},[w("div",{class:"s-table-dragger-icon"},[e.allow?w(b,{style:"font-size: 14px; color: #606266;"},null):w(h,{style:"font-size: 14px; color: #606266;"},null)]),w("div",{class:"s-table-dragger-value"},[e.value])])}),Tt=x({name:"STableCursor",inheritAttrs:!1,props:{top:l().def(0),left:l().def(0),width:l().def(0),height:l().def(0)},setup:e=>()=>w("div",{class:"s-table-cursor-container",style:{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"}},null)}),It=x({name:"STableSorter",inheritAttrs:!1,props:{field:t().isRequired,value:t().isRequired},emits:{change:e=>!0},setup(e,t){const l=l=>{e.field&&!e.value&&t.emit("change",{field:e.field,value:"ascend"}),e.field&&"ascend"===e.value&&t.emit("change",{field:e.field,value:"descend"}),e.field&&"descend"===e.value&&t.emit("change",{field:e.field,value:""}),l.stopPropagation(),l.preventDefault()};return()=>w("div",{class:"s-table-sorter-container",onClick:l},[w(g,{style:{fontSize:"11px",color:"ascend"===e.value?be.useToken().token.value.colorPrimary:"rgba(0, 0, 0, 0.45)"}},null),w(y,{style:{fontSize:"11px",color:"descend"===e.value?be.useToken().token.value.colorPrimary:"rgba(0, 0, 0, 0.45)",marginTop:"-0.3em"}},null)])}}),At=x({name:"STableEmpty",inheritAttrs:!1,setup:()=>()=>w("div",{class:"s-table-empty-container"},[w(ge,{image:ge.PRESENTED_IMAGE_SIMPLE},null)])});function zt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}const Pt=x({name:"STable",props:{size:t().def(void 0),rowKey:n().def(""),treeKey:n().def("children"),border:n().def(!1),sticky:r().def((()=>({}))),scroll:r().def((()=>({}))),columns:o().def((()=>[])),sources:o().def((()=>[])),summarys:o().def((()=>[])),paginate:n().def((()=>({}))),loadData:i().def(void 0),tableLayout:t().def(void 0),persistSourceRanges:n().def(!1),customHeaderRowAttrs:i().def(void 0),customBodyerRowAttrs:i().def(void 0),customFooterRowAttrs:i().def(void 0),customBodyerRowStates:i().def(void 0),customHeaderCellRender:i().def(void 0),customBodyerCellRender:i().def(void 0),customFooterCellRender:i().def(void 0),preserveSelectedRowKeys:e().def(!1),preserveExpandedRowKeys:e().def(!1),columnPresetResizable:e().def(!1),columnPresetDraggable:e().def(!1),columnSorterMultiple:e().def(!1),columnPresetSettings:e().def(!1),defaultSelectAllRows:e().def(!1),defaultExpandAllRows:e().def(!1),rowSelectedStrictly:e().def(!0),rowExpandedByClick:e().def(!1),cellMegreNormalize:e().def(!0),expandIndentSize:l().def(void 0),selectIndentSize:l().def(void 0),selectedRowMode:t().def("None"),selectedRowKeys:o().def((()=>[])),expandedRowKeys:o().def((()=>[])),tHeaderThStyle:r().def((()=>({}))),tBodyerTdStyle:r().def((()=>({}))),tFooterTdStyle:r().def((()=>({}))),expandTdStyle:r().def((()=>({}))),paginateStyle:r().def((()=>({}))),loadOnScroll:e().def(!1),bodyMinRows:n().def(!1),showHeader:e().def(!0),showBodyer:e().def(!0),showFooter:e().def(!0),immediate:e().def(!0),loadinger:e().def(!0),loading:e().def(!1),virtual:e().def(!0)},emits:{"update:loading":e=>!0,"update:sources":e=>!0,"update:summarys":e=>!0,"update:paginate":e=>!0,"update:columns":e=>!0,"update:selectedRowKeys":e=>!0,"update:expandedRowKeys":e=>!0,pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0,expand:(e,t)=>!0,select:(e,t)=>!0,sorter:e=>!0},setup(e,t){const l={immediate:!0},n={immediate:!0,deep:!0},o=N({minBuffer:5,maxBuffer:10,minHeight:32}),r=N({renderOffset:[0,~~(window.innerHeight/o.minHeight)],renderBuffer:[0,10]}),a=U(),i=S([...e.columns]),d=S([...e.sources]),c=S([...e.summarys]),u=S([]),p=S([]),f=S([]),b=S([]),h=S([]),g=S([]),y=S([]),x=S([]),T=S([]),P=S([]),R=S([]),K=S([]),O=S([]),L=S([]),M=S([]),j=S([]),H=S([]),Y=S([]),$=S([]),V=S([]),G=S([]),q=S([]),X=S([]),Q=S([...e.selectedRowKeys]),J=S([...e.expandedRowKeys]),_=S([]),Z=S(e.loading),ee=be.useToken().token,te={refTableNoder:S(null),refTableTheader:S(null),refTableWrapper:S(null),refTableContainer:S(null),tableTheadSizes:S([]),windowInnerWidth:S(window.innerWidth),windowInnerHeight:S(window.innerHeight),getResizerContainer:void 0,resizerContainer:S(null),resizerScrollTop:S(0),resizerScrollLeft:S(0),resizerScrollRight:S(0),resizerScrollBottom:S(0),resizerScrollClientWidth:S(0),resizerScrollClientHeight:S(0),wrapperScrollTop:S(0),wrapperScrollLeft:S(0),wrapperScrollRight:S(0),wrapperScrollBottom:S(0),wrapperScrollClientHeight:S(0),wrapperScrollClientWidth:S(0),cursor:N({visible:!1,top:0,left:0,width:0,height:0,rowIndex:0,colIndex:0}),dragger:N({activate:!1,visible:!1,rowIndex:0,colIndex:0,allow:!1,value:"",left:0,top:0,element:null}),resizer:{point:0,queues:[],activate:!1}},le={paginate:N({hideOnSinglePage:!!Ge.isBoolean(e.paginate.hideOnSinglePage)&&e.paginate.hideOnSinglePage,defaultPageSize:Ge.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageSizeOptions:Ge.isNonEmptyArray(e.paginate.pageSizeOptions)?e.paginate.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"],showSizeChanger:Ge.isBoolean(e.paginate.showSizeChanger)?e.paginate.showSizeChanger:void 0,showQuickJumper:!!Ge.isBoolean(e.paginate.showQuickJumper)&&e.paginate.showQuickJumper,showLessItems:!!Ge.isBoolean(e.paginate.showLessItems)&&e.paginate.showLessItems,loadTotalSize:Ge.isFiniteNumber(e.paginate.loadTotalSize)&&e.paginate.loadTotalSize>0?~~e.paginate.loadTotalSize:void 0,loadTotalPage:Ge.isFiniteNumber(e.paginate.loadTotalPage)&&e.paginate.loadTotalPage>0?~~e.paginate.loadTotalPage:void 0,loadPageSize:Ge.isFiniteNumber(e.paginate.loadPageSize)&&e.paginate.loadPageSize>0?~~e.paginate.loadPageSize:void 0,loadPageNo:Ge.isFiniteNumber(e.paginate.loadPageNo)&&e.paginate.loadPageNo>0?~~e.paginate.loadPageNo:void 0,totalSize:Ge.isFiniteNumber(e.paginate.totalSize)&&e.paginate.totalSize>0?~~e.paginate.totalSize:0,totalPage:Ge.isFiniteNumber(e.paginate.totalPage)&&e.paginate.totalPage>0?~~e.paginate.totalPage:0,pageSize:Ge.isFiniteNumber(e.paginate.pageSize)&&e.paginate.pageSize>0?~~e.paginate.pageSize:Ge.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageNo:Ge.isFiniteNumber(e.paginate.pageNo)&&e.paginate.pageNo>0?~~e.paginate.pageNo:1,showTotal:Ge.isFunction(e.paginate.showTotal)?e.paginate.showTotal:!0===e.paginate.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0,disabled:!!Ge.isBoolean(e.paginate.disabled)&&e.paginate.disabled,visible:!!Ge.isBoolean(e.paginate.visible)&&e.paginate.visible,simple:!!Ge.isBoolean(e.paginate.simple)&&e.paginate.simple,fixed:Ge.isBoolean(e.paginate.fixed)?e.paginate.fixed:void 0,mode:"local"===e.paginate.mode?"local":"remote",size:e.size||""}),update:t=>{le.paginate.size=ae.isOwnProperty(t,["size"])?"":le.paginate.size,le.paginate.mode=ae.isOwnProperty(t,["mode"])?"local"===t.mode?"local":"remote":le.paginate.mode,le.paginate.fixed=Ge.isBoolean(e.paginate.fixed)?e.paginate.fixed:Ge.isFiniteNumber(oe.sticky.value.bottomFooter)||!0===oe.sticky.value.bottomFooter,le.paginate.simple=ae.isOwnProperty(t,["simple"])?!0===t.simple:le.paginate.simple,le.paginate.visible=ae.isOwnProperty(t,["visible"])?!0===t.visible:le.paginate.visible,le.paginate.disabled=ae.isOwnProperty(t,["disabled"])?!0===t.disabled:le.paginate.disabled,le.paginate.showTotal=ae.isOwnProperty(t,["showTotal"])?Ge.isFunction(t.showTotal)?t.showTotal:!0===t.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0:le.paginate.showTotal,le.paginate.showLessItems=ae.isOwnProperty(t,["showLessItems"])?!0===t.showLessItems:le.paginate.showLessItems,le.paginate.defaultPageSize=ae.isOwnProperty(t,["defaultPageSize"])?Ge.isFiniteNumber(t.defaultPageSize)&&t.defaultPageSize>0?t.defaultPageSize:20:le.paginate.defaultPageSize,le.paginate.pageSizeOptions=ae.isOwnProperty(t,["pageSizeOptions"])?Ge.isNonEmptyArray(t.pageSizeOptions)?t.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"]:le.paginate.pageSizeOptions,le.paginate.showSizeChanger=ae.isOwnProperty(t,["showSizeChanger"])?Ge.isBoolean(t.showSizeChanger)?t.showSizeChanger:void 0:le.paginate.showSizeChanger,le.paginate.showQuickJumper=ae.isOwnProperty(t,["showQuickJumper"])?!0===t.showQuickJumper:le.paginate.showQuickJumper,le.paginate.hideOnSinglePage=ae.isOwnProperty(t,["hideOnSinglePage"])?!0===t.hideOnSinglePage:le.paginate.hideOnSinglePage,le.paginate.pageNo=ae.isOwnProperty(t,["pageNo"])?Ge.isFiniteNumber(t.pageNo)&&t.pageNo>0?~~t.pageNo:1:le.paginate.pageNo,le.paginate.pageSize=ae.isOwnProperty(t,["pageSize"])?Ge.isFiniteNumber(t.pageSize)&&t.pageSize>0?~~t.pageSize:20:le.paginate.pageSize,le.paginate.totalSize=ae.isOwnProperty(t,["totalSize"])?Ge.isFiniteNumber(t.totalSize)&&t.totalSize>0?~~t.totalSize:0:le.paginate.totalSize,le.paginate.totalPage=ae.isOwnProperty(t,["totalPage"])?Ge.isFiniteNumber(t.totalPage)&&t.totalPage>0?~~t.totalPage:0:~~(le.paginate.totalSize/le.paginate.pageSize)+(le.paginate.totalSize%le.paginate.pageSize?1:0),le.paginate.pageNo=le.paginate.pageNo<=le.paginate.totalPage?le.paginate.pageNo:le.paginate.totalPage,le.paginate.pageNo=le.paginate.pageNo>0?le.paginate.pageNo:1,le.paginate.loadPageNo=ae.isOwnProperty(t,["loadPageNo"])?Ge.isFiniteNumber(t.loadPageNo)&&t.loadPageNo>0?~~t.loadPageNo:1:le.paginate.loadPageNo,le.paginate.loadPageSize=ae.isOwnProperty(t,["loadPageSize"])?Ge.isFiniteNumber(t.loadPageSize)&&t.loadPageSize>0?~~t.loadPageSize:500:le.paginate.loadPageSize,le.paginate.loadTotalSize=ae.isOwnProperty(t,["loadTotalSize"])?Ge.isFiniteNumber(t.loadTotalSize)&&t.loadTotalSize>0?~~t.loadTotalSize:0:le.paginate.loadTotalSize,le.paginate.loadTotalPage=ae.isOwnProperty(t,["loadTotalPage"])?Ge.isFiniteNumber(t.loadTotalPage)&&t.loadTotalPage>0?~~t.loadTotalPage:0:~~(le.paginate.loadTotalSize/le.paginate.loadPageSize)+(le.paginate.loadTotalSize%le.paginate.loadPageSize?1:0),le.paginate.loadPageNo=le.paginate.loadPageNo<=le.paginate.loadTotalPage?le.paginate.loadPageNo:le.paginate.loadTotalPage,le.paginate.loadPageNo=le.paginate.loadPageNo>0?le.paginate.loadPageNo:1}},ne={core:e=>"local"!==le.paginate.mode?ne.send(e):"local"===le.paginate.mode?ne.parse(e):void 0,send:t=>{if(!Ge.isFunction(e.loadData))return void se.updateScrollToFirstRange();Z.value||(Z.value=!0);const l={sorter:ae.getValue(u),paginate:{pageNo:t.pageNo,pageSize:t.pageSize,totalPage:t.totalPage,totalSize:t.totalSize,mode:t.mode}};return Promise.resolve(e.loadData(l)).then((e=>Promise.resolve(vt(e)).then((e=>{if(le.update({pageNo:e.pageNo,totalSize:e.totalSize}),le.paginate.pageNo>le.paginate.totalPage&&le.paginate.pageNo>1)return le.update({pageNo:le.paginate.pageNo-1}),ne.refresh();ae.isSourcesChanged(e.data.slice(0,K.value.length),K.value)&&(L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[]),se.updateScrollToFirstRange(),_.value=[],K.value=ae.normalizeTreeSources(e.data,[]),O.value=ae.normalizeListSources(K.value,[]),ae.normalizeInitSources(O.value),ae.cleanSelectedRowKeys(),ae.cleanExpandedRowKeys(),Z.value=!1})))).catch((()=>{se.updateScrollToFirstRange(),le.update(l.paginate),Z.value=!1}))},parse:e=>{},reload:async(e,t)=>{t=Ge.isBoolean(e)?e:!0===t,e=Ge.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ae.forceUpdate()};return Ge.toPromise(e).then((()=>ne.core({...le.paginate}))).finally((()=>l))},refresh:async(e,t)=>{t=Ge.isBoolean(e)?e:!0===t,e=Ge.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ae.forceUpdate()};return Ge.toPromise(e).then((()=>ne.core({...le.paginate,pageNo:1}))).finally((()=>l))}},oe={size:W((()=>{var t,l;return e.size||("large"===(null==(t=a.componentSize)?void 0:t.value)?"default":null==(l=a.componentSize)?void 0:l.value)||"default"})),sticky:W((()=>({topHeader:e.sticky.topHeader??!1,leftFooter:e.sticky.leftFooter??!0,rightFooter:e.sticky.rightFooter??!0,bottomFooter:e.sticky.bottomFooter??!0,bottomScrollbar:e.sticky.bottomScrollbar??!0}))),scroll:W((()=>({x:e.scroll.x??!1,y:e.scroll.y??!1,overflow:["hidden","visible","scroll","auto","unset"].includes(e.scroll.overflow)?e.scroll.overflow:null,getScrollResizeContainer:()=>{var t,l,n;return(null==(l=(t=e.scroll).getScrollResizeContainer)?void 0:l.call(t))||(null==(n=te.getResizerContainer)?void 0:n.call(te))},scrollToFirstXOnChange:!1!==e.scroll.scrollToFirstXOnChange,scrollToFirstYOnChange:!1!==e.scroll.scrollToFirstYOnChange,scrollToFirstOffsetX:e.scroll.scrollToFirstOffsetX,scrollToFirstOffsetY:e.scroll.scrollToFirstOffsetY,scrollToFirstTargetX:e.scroll.scrollToFirstTargetX,scrollToFirstTargetY:e.scroll.scrollToFirstTargetY}))),virtual:W((()=>!1!==e.virtual)),bodyMinRows:W((()=>!0===e.bodyMinRows?Math.max(le.paginate.pageSize,0):!1===e.bodyMinRows?0:Math.max(e.bodyMinRows,0))),loadOnScroll:W((()=>"local"===le.paginate.mode&&!1!==e.loadOnScroll)),persistSourceRanges:W((()=>{if(Ge.isNonEmptyArray(e.persistSourceRanges)){const t=e.persistSourceRanges.filter((e=>Ge.isArray(e)&&+e[0]>=0&&+e[1]>=0&&+e[0]!=+e[1])).map((e=>[Math.min(+e[0],+e[1]),Math.max(+e[0],+e[1])]));t.sort(((e,t)=>e[0]-t[0]));let l=[0,0],n=[];for(const e of t)e[0]<l[1]?l[1]=Math.max(l[1],e[1]):(n=[...n,e],l=e);return n}return!0===e.persistSourceRanges}))},re={scrollbar:W((()=>{let e="visible";return e="100%"!==re.tableBodyWidth.value?"auto":e,e="auto"!==re.tableBodyHeight.value?"auto":e,e=re.tableBodyOverflow.value??e,{overflow:e,optionser:te,direction:"horizontal"}})),hasBorder:W((()=>!0===e.border||f.value.length>1)),hasHeader:W((()=>!1!==e.showHeader&&b.value.length>0)),hasBodyer:W((()=>!1!==e.showBodyer&&O.value.length>0)),hasFooter:W((()=>!1!==e.showFooter&&$.value.length>0)),hasSelection:W((()=>"Checkbox"===e.selectedRowMode||"Radio"===e.selectedRowMode)),isFixedTop:W((()=>!0===oe.sticky.value.topHeader||Ge.isFiniteNumber(oe.sticky.value.topHeader)||/^[+-]?\d+\.?\d*(px)?$/.test(`${oe.scroll.value.y}`))),fixedLeftIndex:W((()=>{const e=[];for(const t of re.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"left"===l.fixed&&e.push(l.colOffset+l.colSpan-1);return e.length>0?Math.max(...e):-1})),fixedRightIndex:W((()=>{const e=[];for(const t of re.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"right"===l.fixed&&e.push(l.colOffset);return e.splice(0,e.length,...e.filter((e=>e>re.fixedLeftIndex.value))),e.length>0?Math.min(...e):-1})),tableBodyWidth:W((()=>{const e=oe.scroll.value.x,t=te.resizerScrollClientWidth.value,l=te.windowInnerWidth.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?(t||l)+parseInt(`${e}`)+"px":/^\+?\d+\.?\d*(px)?$/.test(`${e}`)?parseInt(`${e}`)+"px":"string"==typeof e&&e||"100%"})),tableBodyHeight:W((()=>{const e=oe.scroll.value.y,t=le.paginate,l=!0!==t.visible||t.totalPage<=1&&t.hideOnSinglePage,n="small"===t.size||t.simple?36:44,o=te.resizerScrollClientHeight.value,r=te.windowInnerHeight.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?l?(o||r)+parseInt(`${e}`)+"px":(o||r)+parseInt(`${e}`)-n+"px":/^\d+\.?\d*(px)?$/.test(`${e}`)?l?parseInt(`${e}`)+"px":parseInt(`${e}`)-n+"px":"auto"})),tableBodyOverflow:W((()=>void 0===oe.scroll.value.overflow||null===oe.scroll.value.overflow||["auto","hidden","visible"].includes(oe.scroll.value.overflow)?oe.scroll.value.overflow:"visible")),filterListColumns:W((()=>{const e=[],t=(l,n=[],o)=>{var r;let a=0,i=0,s=0;o&&(a=o.referColumn.rowSpan,i=o.referColumn.colOffset,s=o.referColumn.rowOffset,s=a>0?s+a:s);for(const d of l){const l=d.referColumn.rowIndex,a=d.referColumn.colIndex,c=null==(r=e.find((e=>e.rowIndex===l&&e.colIndex===a)))?void 0:r.cacher,u=c?Ge.isFiniteNumber(null==c?void 0:c.rowSpan)&&c.rowSpan>0?c.rowSpan:0:1,p=c?Ge.isFiniteNumber(null==c?void 0:c.colSpan)&&c.colSpan>0?c.colSpan:0:1,f=c?!Ge.isBoolean(c.resizable)||c.resizable:d.referColumn.resizable,b=ae.getValue(P.value[l][a]);if(!y.value.includes(d.key))continue;const h={...d,parentColumn:o||null,treeChildren:[],referColumn:{...d.referColumn,colSpan:p,rowSpan:u,resizable:!1!==f,colOffset:i,rowOffset:s,colMaxSpan:p,rowMaxSpan:u>0?s+u:s,align:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"align")?b.align??d.referColumn.align:d.referColumn.align,fixed:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"fixed")?b.fixed??d.referColumn.fixed:d.referColumn.fixed,width:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"width")?b.width??d.referColumn.width:d.referColumn.width,minWidth:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"minWidth")?b.minWidth??d.referColumn.minWidth:d.referColumn.minWidth,maxWidth:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"maxWidth")?b.maxWidth??d.referColumn.maxWidth:d.referColumn.maxWidth,ellipsis:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"ellipsis")?b.ellipsis??d.referColumn.ellipsis:d.referColumn.ellipsis,tooltip:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"tooltip")?b.tooltip??d.referColumn.tooltip:d.referColumn.tooltip,sorter:Ge.isNonEmptyObject(b)&&Object.hasOwn(b,"sorter")?b.sorter??d.referColumn.sorter:d.referColumn.sorter}};if(Ge.isNonEmptyArray(d.treeChildren)){const e=t(d.treeChildren,[],h),l=e.filter((e=>e.referColumn.rowSpan>0&&e.referColumn.colSpan>0)),o=Math.max(...l.map((e=>e.referColumn.rowMaxSpan)),h.referColumn.rowMaxSpan),r=l.reduce(((e,t)=>e+t.referColumn.colMaxSpan),0),a=e.some((e=>!1!==e.referColumn.resizable));h.referColumn.rowMaxSpan=o,h.referColumn.colMaxSpan=r,h.referColumn.resizable=a,h.referColumn.colSpan=r,h.treeChildren=e,Ge.isNonEmptyArray(e)&&n.push(h)}Ge.isNonEmptyArray(d.treeChildren)||n.push(h),i+=u>0&&p>0?p:0}return n},l=(e,t=[],n=!0)=>{for(const o of e){const e=o.referColumn.colIndex,n=o.referColumn.rowIndex;t[n]=t[n]||[],t[n][e]=t[n][e]||N(o.referColumn),Ge.isNonEmptyArray(o.treeChildren)&&l(o.treeChildren,t,!1)}return t};return((e,t)=>{const l=t.mergers,n=t.cachers,o=t.spikers,r=t.empters,a=e=>{const t=e.map((e=>y.value.includes(e.key)?e.rowMaxSpan:0));return Math.max(0,...t)},i=e=>Ge.isNonEmptyArray(e.children)?e.children.reduce(((e,t)=>e+i(t)),0):y.value.includes(e.key)?e.colMaxSpan:0,s=e=>{if(Ge.isNonEmptyArray(e.children))return e.children.reduce(((e,t)=>e+s(t)),0);const t=ae.getValue(P.value[e.rowIndex][e.colIndex]),l=Ge.isFiniteNumber(null==t?void 0:t.colSpan)?t.colSpan:Ge.isFiniteNumber(e.colSpan)?e.colSpan:1;return y.value.includes(e.key)?l:0};for(const[d,c]of e.entries()){const e=n[d]||new Map,t=o[d]||new Set,l=r[d]||new Set;n[d]=e,o[d]=t,r[d]=l;for(const[n,o]of c.entries()){if(!o){e.set(n,{index:n,colSpan:1,rowSpan:1,colCount:0,rowCount:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});continue}let t=0,l=0,r=0,d=0,c=!0;const u=i(o),p=a(b.value),f=ae.getValue(T.value[o.rowIndex][o.colIndex]),h=ae.getValue(P.value[o.rowIndex][o.colIndex]),g=ae.getValue(R.value[o.rowIndex][o.colIndex]);l=Ge.isFiniteNumber(null==h?void 0:h.rowSpan)?h.rowSpan:Ge.isFiniteNumber(o.rowSpan)?o.rowSpan:o.rowIndex===o.rowMaxSpan-1?Math.max(p-o.rowIndex,1):1,t=Ge.isFiniteNumber(null==h?void 0:h.colSpan)?h.colSpan:Ge.isFiniteNumber(o.colSpan)?o.colSpan:s(o),c=!1!==(null==h?void 0:h.cellSpan)&&y.value.includes(o.key),r=t-u,d=l-1,e.set(n,{index:n,colSpan:t,rowSpan:l,colCount:r,rowCount:d,cellAttrs:f,cellProps:h,cellValue:g,cellRender:c})}}for(const[d,c]of e.entries())for(const[t]of c.entries()){const l=n[d],o=l.get(t),r=ae.findParentColumn(e,d,t);let a=o.rowCount,i=o.colCount;if(a>0){for(let e=1;e<=a;e++){const l=n[d+e],r=l.get(t);l&&r&&l.set(t,{index:t,colSpan:o.colSpan,colCount:o.colCount,rowSpan:0,rowCount:-1,cellAttrs:r.cellAttrs,cellProps:r.cellProps,cellValue:r.cellValue,cellRender:!0})}o.rowCount=a=0}if(i>0){for(let e=t+1;e<c.length;e++){const n=t+e,o=null==l?void 0:l.get(n);o&&o.colCount<0&&(i+=o.colCount)}for(let n=1;n<=i;n++){const a=t+n,s=l.get(a),u=ae.findParentColumn(e,d,a),p=c[a];if(r!==u||!p||p.children.length>0){o.colCount=0,o.colSpan=o.colSpan-(i-n+1);break}s.colCount>=0&&l.set(a,{index:a,rowCount:s.rowCount,rowSpan:s.rowSpan,colCount:s.colCount-1,colSpan:s.colSpan-1,cellAttrs:s.cellAttrs,cellProps:s.cellProps,cellValue:s.cellValue,cellRender:!0})}}}for(const[d,c]of e.entries())for(const[e,t]of c.entries()){const a=n[d],i=o[d],s=r[d],u=ae.takeCellMegre({index:e,colIndex:e,rowIndex:d,cachers:a,spikers:i,empters:s});if(t){const t=c.filter(((t,l)=>l===e||l>e&&l<e+u.cacher.colSpan)).some((e=>!1!==e.resizable));Object.assign(u.cacher,{resizable:t})}l.push(u)}})(f.value,{mergers:e,cachers:[],spikers:[],empters:[]}),l(t(p.value))})),filterDataColumns:W((()=>{const e=[],t=[];for(const l of re.filterListColumns.value)for(const t of l)t&&t.rowOffset+t.rowSpan===t.rowMaxSpan&&(e[t.colIndex]=t);for(const l of e)l&&t.push(l);return t})),filterPageSources:W((()=>O.value.filter((e=>{const t=e.parentKeys,l=J.value;return!t.some((e=>!l.includes(e)))&&(!0===oe.loadOnScroll.value||e.rowGroupIndex>=le.paginate.pageSize*(le.paginate.pageNo-1)||e.rowGroupIndex<le.paginate.pageSize*le.paginate.pageNo)})).map(((e,t)=>({...e,rowIndex:t+1}))))),filterRangeSources:W((()=>{var e,t;let l=1/0,n=-1/0;const o=r.renderBuffer[0],a=r.renderBuffer[1],i=r.renderOffset[0],s=r.renderOffset[1],d=re.filterPageSources.value,c=i-o>0?i-o:0,u=s+a<O.value.length?s+a:O.value.length,p=(null==(e=d.find(((e,t)=>t>=c)))?void 0:e.rowGroupIndex)||0,f=(null==(t=d.findLast(((e,t)=>t<=u)))?void 0:t.rowGroupIndex)||0;if(Ge.isArray(oe.persistSourceRanges.value))for(const r of oe.persistSourceRanges.value)(p>=r[0]||f<=r[1])&&(l=Math.min(r[0],l),n=Math.max(r[0],n));return d.filter(((e,t)=>!0!==oe.virtual.value||(!0===oe.persistSourceRanges.value||(d.length<=oe.bodyMinRows.value||(e.rowGlobalIndex>=l&&e.rowGlobalIndex<=n||t>=c&&t<=u)))))})),filterPageSummarys:W((()=>$.value.filter((e=>e)))),overflowScrollBottom:W((()=>te.wrapperScrollBottom.value>1||te.resizerScrollBottom.value>1)),overflowScrollRight:W((()=>te.wrapperScrollRight.value>1||te.resizerScrollRight.value>1)),overflowScrollLeft:W((()=>te.wrapperScrollLeft.value>1||te.resizerScrollLeft.value>1)),overflowScrollTop:W((()=>te.wrapperScrollTop.value>1||te.resizerScrollTop.value>1))},ae={getValue:e=>A(E(e)),getVNodes:e=>Ge.isNonEmptyObject(e)&&e.type===D?Ge.isNonEmptyArray(e.children)?e:null:e,isVueNode:e=>Ge.isNonEmptyObject(e)&&F(e),isOwnProperty(e,t){for(const l of t){if(!Ge.isNonEmptyArray(e)&&!Ge.isNonEmptyObject(e))return!1;if(!Ge.isString(l)&&!Ge.isFiniteNumber(l))return!1;if(!Object.hasOwn(e,l))return!1;e=e[l]}return!0},takeCellMegre(e){const t=e.index,l=e.colIndex,n=e.rowIndex,o=e.cachers,r=e.spikers,a=e.empters,i=o.get(t),s=r.has(t),d=i.cellRender,c=i.colCount;if(!s&&0!==c&&d){const e=i.colCount>0,l=i.colCount<0,n=Array.from(o.values());n.sort(((e,t)=>e.index-t.index));const s=n.filter((e=>!r.has(e.index)&&e.index>t)),d=s.filter((e=>e.colCount<0)),c=s.filter((e=>e.colCount>0));if(l){const e={taskers:[],refers:[i],counts:1};for(const t of s){if(!t.cellRender||t.rowSpan>0&&t.colSpan>0)break;e.refers.push(t),e.counts++}for(const t of c){if(e.counts<1)break;const l=e.counts,n=t.colCount,o=t.cellRender,a=e.taskers.slice(-1)[0];a&&a.render===o||e.taskers.push({count:n>l?l:n,render:o}),a&&a.render===o&&(a.count+=n>l?l:n),l>=n&&r.add(t.index),e.counts=l>=n?l-n:0,t.colCount=n>=l?n-l:0}for(const t of e.taskers){let l=0;for(;l<t.count;){const n=e.refers.shift(),o=0==l++;n.colCount=0,n.colSpan=o&&!t.render?t.count:0,a.add(n.index),r.add(n.index)}}for(const[t,l]of e.refers.entries())l.colCount=0,l.colSpan=0===t?e.refers.length:0,a.add(l.index),r.add(l.index)}if(e){for(const e of d){if(i.colCount<1)break;a.add(e.index),r.add(e.index),i.colSpan=e.cellRender?i.colSpan:i.colSpan-1,i.colCount=i.colCount+e.colCount}i.colSpan=i.colSpan-(i.colCount>0?i.colCount:0),i.colSpan=i.colSpan>0?i.colSpan:0,i.colCount=0}r.add(i.index)}if(!s&&0!==c&&!d){const e=i.colCount>0,l=i.colCount<0,n=Array.from(o.values());n.sort(((e,t)=>e.index-t.index));const s=n.filter((e=>!r.has(e.index)&&e.index>t)),d=s.filter((e=>e.colCount<0)),c=s.filter((e=>e.colCount>0));if(l)for(const t of c){t.colSpan--,t.colCount--,0===t.colCount&&r.add(t.index);break}if(e){const e={taskers:[]};for(const t of d){if(i.colCount<1)break;const l=t.cellRender,n=e.taskers.slice(-1)[0];n&&n.render===l||e.taskers.push({render:t.cellRender,refers:[t]}),n&&n.render===l&&n.refers.push(t),i.colCount--}for(const t of e.taskers){const e=t.render,l=t.refers;for(const[t,n]of l.entries())n.colCount=0,n.colSpan=e&&0===t?l.length:0,a.add(n.index),r.add(n.index)}i.colSpan=i.colSpan-(i.colCount>0?i.colCount:0),i.colSpan=i.colSpan>0?i.colSpan:0,i.colCount=0}r.add(i.index)}return{index:t,colIndex:l,rowIndex:n,cacher:o.get(t),spiker:r.has(t),empter:a.has(t)}},restoreColumns:e=>e.map((e=>{const t={...e.cacheColumn,children:Ge.isNonEmptyArray(e.treeChildren)?ae.restoreColumns(e.treeChildren):Ge.isArray(e.cacheColumn.children)?[]:e.cacheColumn.children};return void 0===t.children&&delete t.children,t})),restoreSources:e=>e.map((e=>e.referRecord)),recloneColumns:(e,t=null)=>e.map((e=>{const l={...e,parentColumn:t},n=ae.recloneColumns(e.treeChildren,l);return Object.assign(l,{treeChildren:n})})),dragerColumns(e,t,l){const n=ae.findTreeColumns(e,t.rowIndex,t.colIndex),o=ae.findTreeColumns(e,l.rowIndex,l.colIndex),r=n?n.parentColumn:null,a=r?r.treeChildren:e,i=a.findIndex((e=>e===n)),s=a.findIndex((e=>e===o));return n&&o?n.parentColumn!==o.parentColumn?e:a.includes(n)&&a.includes(o)?(a.splice(i,1),a.splice(s,0,n),e):e:e},findTreeColumns(e,t,l){for(const n of e){if(n.referColumn.rowIndex!==t){const e=ae.findTreeColumns(n.treeChildren,t,l);if(e)return e}if(n.referColumn.rowIndex===t&&n.referColumn.colIndex===l)return n}return null},findParentColumn(e,t,l){var n;if(t>0){const o=null==(n=e[t-1])?void 0:n.filter(((e,t)=>t<=l));return(null==o?void 0:o.findLast((e=>!!e)))||null}return null},findListColumns(e,t,l){for(const n of e)for(const e of n)if((null==e?void 0:e.rowIndex)===t&&(null==e?void 0:e.colIndex)===l)return e;return null},isColumnsChanged(e,t){if(e.length!==t.length)return!0;for(const l of e.keys()){let n=!1;const o=ae.getValue(e[l]),r=ae.getValue(t[l]),a=r.cacheColumn;if(n=!Ge.equal(o,a,{include:["key","title","dataIndex","align","fixed","width","minWidth","maxWidth","settings","resizable","ellipsis","tooltip","colSpan","rowSpan","sorter","sorterField","sorterValueChange","customHeaderCellRender","customBodyerCellRender","customFooterCellRender"]}),n||(Ge.isArray(o.children)||(n=void 0!==o.children&&null!==o.children||!Ge.isEmptyArray(r.treeChildren)),Ge.isArray(o.children)&&(n=ae.isColumnsChanged(o.children,r.treeChildren))),n)return!0}return!1},isSourcesChanged(t,l){if(t.length!==l.length)return!0;for(const n of t.keys()){let o=!1,r="",a="";const i=ae.getValue(t[n]),s=ae.getValue(l[n]),d=ae.getValue(s.referRecord);if(r=Ge.isFunction(e.treeKey)?e.treeKey(i):r,r=Ge.isNonEmptyString(e.treeKey)?e.treeKey:r,r=Ge.isNonEmptyString(r)?r.trim():"",a=Ge.isFunction(e.rowKey)?e.rowKey(i):a,a=Ge.isNonEmptyString(e.rowKey)?e.rowKey:a,a=Ge.isNonEmptyString(a)?a.trim():"",i!==d)return!0;if(Ge.isNonEmptyString(r)&&!Ge.isArray(i[r])&&(o=void 0!==i[r]&&null!==i[r]||!Ge.isEmptyArray(s.treeChildren)),Ge.isNonEmptyString(r)&&Ge.isArray(i[r])&&(o=ae.isSourcesChanged(i[r],s.treeChildren)),o)return!0}return!1},isSummaryChanged(e,t){if(e.length!==t.length)return!0;if(e===t)return!1;for(const l of e.keys()){if(ae.getValue(e[l])!==ae.getValue(t[l]))return!0}return!1},normalizeTreeColumns(t,l=[],n){let o=n?n.referColumn.colOffset:0;for(const[r,a]of t.entries()){const t=Ge.isFiniteNumber(a.minWidth)&&a.minWidth>0?a.minWidth:0,i=Ge.isFiniteNumber(a.maxWidth)&&a.maxWidth<1/0?a.maxWidth:1/0,s=Ge.isBoolean(a.resizable)?a.resizable:(null==n?void 0:n.referColumn.resizable)??e.columnPresetResizable,d=Ge.isNonEmptyObject(a.settings)?{checkbox:!1!==a.settings.checkbox,disabled:!0===a.settings.disabled}:{checkbox:!0,disabled:!1},c={key:a.key||(Ge.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex),title:a.title,childKeys:[],parentKey:n?n.key:null,parentKeys:n?[...n.parentKeys,n.key]:[],referColumn:{key:a.key||(Ge.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex),title:a.title,parentKey:n?n.key:"",dataIndex:a.dataIndex,children:[],align:a.align??(null==n?void 0:n.referColumn.align)??"left",fixed:a.fixed??(null==n?void 0:n.referColumn.fixed)??!1,width:a.width,minWidth:t,maxWidth:i,settings:d,resizable:t<i&&!0===s,ellipsis:a.ellipsis??(null==n?void 0:n.referColumn.ellipsis)??!1,tooltip:a.tooltip??(null==n?void 0:n.referColumn.tooltip)??!1,colIndex:o+r,rowIndex:n?n.referColumn.rowIndex+1:0,colOffset:o+r,rowOffset:n?n.referColumn.rowIndex+1:0,colMaxSpan:1,rowMaxSpan:n?n.referColumn.rowMaxSpan+1:1,colSpan:Ge.isFiniteNumber(a.colSpan)?a.colSpan:NaN,rowSpan:Ge.isFiniteNumber(a.rowSpan)?a.rowSpan:NaN,sorter:!0===(a.sorter??(null==n?void 0:n.referColumn.sorter)),sortered:!1,sorterField:a.sorterField??(Ge.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex),sorterValue:"",expandIcon:a.expandIcon??(null==n?void 0:n.referColumn.expandIcon),sorterValueChange:a.sorterValueChange??(null==n?void 0:n.referColumn.sorterValueChange),customHeaderCellRender:a.customHeaderCellRender??(null==n?void 0:n.referColumn.customHeaderCellRender),customBodyerCellRender:a.customBodyerCellRender??(null==n?void 0:n.referColumn.customBodyerCellRender),customFooterCellRender:a.customFooterCellRender??(null==n?void 0:n.referColumn.customFooterCellRender)},cacheColumn:a,parentColumn:n||null,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:r,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:r}:{1:r}};if(l.push(c),Ge.isNonEmptyArray(a.children)){const e=ae.normalizeTreeColumns(a.children,[],c),t=Math.max(...e.map((e=>e.referColumn.rowMaxSpan)),c.referColumn.rowMaxSpan),l=e.reduce(((e,t)=>e+t.referColumn.colMaxSpan),0)||1,n=[...e.map((e=>e.key)),...e.map((e=>e.childKeys)).flat()],r=e.some((e=>e.referColumn.resizable));c.referColumn.children=e.map((e=>e.referColumn)),c.referColumn.rowMaxSpan=t,c.referColumn.colMaxSpan=l,c.referColumn.resizable=r,c.treeChildren=e,c.childKeys=n,o+=l-1}}return l},normalizeTreeSources(t,l=[],n,r){for(const[a,i]of t.entries()){let t="",s="";t=Ge.isFunction(e.rowKey)?e.rowKey(i):t,t=Ge.isNonEmptyString(e.rowKey)?e.rowKey:t,t=Ge.isNonEmptyString(t)?t.trim():"",s=Ge.isFunction(e.treeKey)?e.treeKey(i):s,s=Ge.isNonEmptyString(e.treeKey)?e.treeKey:s,s=Ge.isNonEmptyString(s)?s.trim():"",r||(r={line:-1}),r.line>=-1&&(r.line+=1);const d=K.value.find((e=>{const l=e.rowKeyField===t,n=Ge.isNonEmptyString(e.key)||Ge.isFiniteNumber(e.key);return l&&n?e.key===i[t]:ae.getValue(e.referRecord)===ae.getValue(i)})),c={key:t&&(i[t]||0===i[t])?i[t]:r.line,parentKey:n?n.key:null,childKeys:[],parentKeys:n?[...n.parentKeys,n.key]:[],referRecord:i,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:a,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:a}:{1:a},rowGlobalIndex:r.line,rowTreeKeyField:s,rowKeyField:t,rowHeight:d?d.rowHeight:o.minHeight,rowIndex:-1};if(l.push(c),Ge.isNonEmptyArray(i[c.rowTreeKeyField])){const e=ae.normalizeTreeSources(i[c.rowTreeKeyField],[],c,r),t=[...e.map((e=>e.key)),...e.map((e=>e.childKeys)).flat()];c.treeChildren=e,c.childKeys=t}_.value.includes(c.key)||_.value.push(c.key)}return l},normalizeTreeSettings(e,t){t=t||g.value;for(const l of e){const e={key:l.key,title:l.title,children:[],disabled:l.referColumn.settings.disabled,column:l.referColumn};if(h.value.includes(l.key)||h.value.push(l.key),y.value.includes(l.key)||l.referColumn.settings.checkbox&&y.value.push(l.key),Ge.isNonEmptyArray(l.treeChildren)){ae.normalizeTreeSettings(l.treeChildren,e.children);let t=!1,n=!1;if(t=t||l.treeChildren.some((e=>y.value.includes(e.key))),n=n||l.treeChildren.some((e=>y.value.includes(e.key)&&e.referColumn.settings.disabled)),n=n||l.treeChildren.every((e=>e.referColumn.settings.disabled)),!t||n){const e=l.cacheColumn.settings=Ge.isObject(l.cacheColumn.settings)?l.cacheColumn.settings:{};e.checkbox=t,e.disabled=n}e.disabled=n,l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!y.value.includes(l.key)&&(y.value=[...y.value,l.key]),t||!y.value.includes(l.key)||(y.value=y.value.filter((e=>e!==l.key)))}t.push(e)}return t},normalizeListSources(t,l=[]){for(const e of t)l.push(e),Ge.isNonEmptyArray(e.treeChildren)&&ae.normalizeListSources(e.treeChildren,l);for(const n of l)e.defaultSelectAllRows&&"Checkbox"===e.selectedRowMode&&!Q.value.includes(n.key)&&Q.value.push(n.key),e.defaultExpandAllRows&&!J.value.includes(n.key)&&J.value.push(n.key);return l},normalizeListColumns(e,t){for(const l of e){const e=l.referColumn.colOffset,n=l.referColumn.rowOffset;t[n]=t[n]||[],t[n][e]=t[n][e]||l.referColumn,Ge.isNonEmptyArray(l.treeChildren)&&ae.normalizeListColumns(l.treeChildren,t)}return t},normalizeDataColumns(e=[]){const t=[];for(const l of e)for(const e of l)e&&e.rowIndex===e.rowMaxSpan-1&&(t[e.colOffset]=e);return t},normalizeListSummary:(e=[])=>e.map((e=>e)),normalizeInitColumns(t=[]){for(const[l,n]of t.entries())ae.isOwnProperty(x.value,[l])||(Ge.isFunction(e.customHeaderRowAttrs)&&(x.value[l]=e.customHeaderRowAttrs({columns:n,rowIndex:l})),void 0===x.value[l]&&(x.value[l]={}));for(const l of t.flat()){if(!l)continue;const t=l.rowIndex,n=l.colIndex,o=ae.isOwnProperty(T.value,[t,n]),r=ae.isOwnProperty(P.value,[t,n]);if(!o||!r){if(T.value[t]=T.value[t]||[],P.value[t]=P.value[t]||[],R.value[t]=R.value[t]||[],T.value[t][n]=void 0,P.value[t][n]=void 0,R.value[t][n]=void 0,Ge.isFunction(e.customHeaderCellRender)){const o=ae.getValue(e.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n})),r=!F(o)&&Ge.isObject(o)&&Ge.isObject(o.attrs)&&o.attrs||void 0,a=!F(o)&&Ge.isObject(o)&&Ge.isObject(o.props)&&o.props||void 0,i=F(o)?o:Ge.isObject(o)&&o.children||void 0;T.value[t][n]=void 0===r?T.value[t][n]:r,P.value[t][n]=void 0===a?P.value[t][n]:a,R.value[t][n]=void 0===i?R.value[t][n]:i}if(Ge.isFunction(l.customHeaderCellRender)){const e=l.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n}),o=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,r=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,a=F(e)?e:Ge.isObject(e)&&e.children||void 0;T.value[t][n]=void 0===o?T.value[t][n]:o,P.value[t][n]=void 0===r?P.value[t][n]:r,R.value[t][n]=void 0===a?R.value[t][n]:a}void 0===T.value[t][n]&&(T.value[t][n]={}),void 0===R.value[t][n]&&(R.value[t][n]=l.title)}}return t},normalizeInitSources(t){for(const l of t){const t=ae.isOwnProperty(L.value,[l.rowGlobalIndex]),n=ae.isOwnProperty(M.value,[l.rowGlobalIndex]);if(t&&n)continue;const o=l.referRecord,r=l.rowGroupIndex,a=l.rowGroupLevel,i=l.rowGroupIndex,s=l.rowGroupIndexs,d=l.rowGlobalIndex;Ge.isFunction(e.customBodyerRowAttrs)&&(L.value[d]=e.customBodyerRowAttrs({record:o,rowIndex:r,groupIndex:i,groupLevel:a,groupIndexs:s,globalIndex:d})),Ge.isFunction(e.customBodyerRowStates)&&(M.value[d]=e.customBodyerRowStates({record:o,rowIndex:r,groupIndex:i,groupLevel:a,groupIndexs:s,globalIndex:d})),void 0===L.value[d]&&(L.value[d]={}),void 0===M.value[d]&&(M.value[d]={})}for(const l of b.value){const n=l,o=n.key,r=n.colIndex,a=n.dataIndex;for(const l of t){const t=l.referRecord,i=l.rowGroupIndex,s=l.rowGroupLevel,d=l.rowGroupIndex,c=l.rowGroupIndexs,u=l.rowGlobalIndex,p=ae.isOwnProperty(H.value,[u,o]),f=ae.isOwnProperty(j.value,[u,o]);if(p&&f)continue;let b;H.value[u]=H.value[u]||[],j.value[u]=j.value[u]||[],Y.value[u]=Y.value[u]||[],H.value[u][o]=void 0,j.value[u][o]=void 0,Y.value[u][o]=void 0;let h=0;if(b=Ge.isArray(a)&&Ge.isObject(t)?t[a[h++]]:b,b=Ge.isString(a)&&Ge.isObject(t)?t[a]:b,Ge.isNonEmptyArray(a))for(;h<a.length;){if(!Ge.isArray(b)||!Ge.isObject(b)){b=void 0;break}b=b[n.dataIndex[h++]]}if(Ge.isFunction(e.customBodyerCellRender)){const l=e.customBodyerCellRender({value:b,record:t,rowIndex:i,groupIndex:d,groupLevel:s,groupIndexs:c,globalIndex:u,column:n,colIndex:r}),a=!F(l)&&Ge.isObject(l)&&Ge.isObject(l.attrs)&&l.attrs||void 0,p=!F(l)&&Ge.isObject(l)&&Ge.isObject(l.props)&&l.props||void 0,f=F(l)?l:Ge.isObject(l)&&l.children||void 0;H.value[u][o]=void 0===a?H.value[u][o]:a,j.value[u][o]=void 0===p?j.value[u][o]:p,Y.value[u][o]=void 0===f?Y.value[u][o]:f}if(Ge.isFunction(n.customBodyerCellRender)){const e=n.customBodyerCellRender({value:b,record:t,rowIndex:i,groupIndex:d,groupLevel:s,groupIndexs:c,globalIndex:u,column:n,colIndex:r}),l=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,a=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,p=F(e)?e:Ge.isObject(e)&&e.children||void 0;H.value[u][o]=void 0===l?H.value[u][o]:l,j.value[u][o]=void 0===a?j.value[u][o]:a,Y.value[u][o]=void 0===p?Y.value[u][o]:p}void 0===H.value[u][o]&&(H.value[u][o]={}),void 0===j.value[u][o]&&(j.value[u][o]={}),void 0===Y.value[u][o]&&(Y.value[u][o]=b)}}},normalizeInitSummary(t){const l=re.filterPageSources.value.filter((e=>1===e.rowGroupLevel)).map((e=>e.referRecord)),n=le.paginate;for(const[o,r]of t.entries())ae.isOwnProperty(V.value,[o])||(Ge.isFunction(e.customFooterRowAttrs)&&(V.value[o]=e.customFooterRowAttrs({record:r,rowIndex:o,sources:l,paginate:n})),void 0===V.value[o]&&(V.value[o]={}));for(const o of b.value){const r=o,a=r.key,i=r.colIndex,s=r.dataIndex;for(const[o,d]of t.entries()){const t=ae.isOwnProperty(q.value,[o,a]),c=ae.isOwnProperty(G.value,[o,a]);if(t&&c)continue;let u;q.value[o]=q.value[o]||[],G.value[o]=G.value[o]||[],X.value[o]=X.value[o]||[],q.value[o][a]=void 0,G.value[o][a]=void 0,X.value[o][a]=void 0;let p=0;if(u=Ge.isArray(s)&&Ge.isObject(d)?d[s[p++]]:u,u=Ge.isString(s)?d[s]:u,Ge.isNonEmptyArray(s))for(;p<s.length;){if(!Ge.isArray(u)||!Ge.isObject(u)){u=void 0;break}u=u[r.dataIndex[p++]]}if(Ge.isFunction(e.customFooterCellRender)){const t=e.customFooterCellRender({value:u,record:d,rowIndex:o,column:r,colIndex:i,sources:l,paginate:n}),s=!F(t)&&Ge.isObject(t)&&Ge.isObject(t.attrs)&&t.attrs||void 0,c=!F(t)&&Ge.isObject(t)&&Ge.isObject(t.props)&&t.props||void 0,p=F(t)?t:Ge.isObject(t)&&t.children||void 0;q.value[o][a]=void 0===s?q.value[o][a]:s,G.value[o][a]=void 0===c?G.value[o][a]:c,X.value[o][a]=void 0===p?X.value[o][a]:p}if(Ge.isFunction(r.customFooterCellRender)){const e=r.customFooterCellRender({value:u,record:d,rowIndex:o,column:r,colIndex:i,sources:l,paginate:n}),t=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.attrs)&&e.attrs||void 0,s=!F(e)&&Ge.isObject(e)&&Ge.isObject(e.props)&&e.props||void 0,c=F(e)?e:Ge.isObject(e)&&e.children||void 0;q.value[o][a]=void 0===t?q.value[o][a]:t,G.value[o][a]=void 0===s?G.value[o][a]:s,X.value[o][a]=void 0===c?X.value[o][a]:c}void 0===q.value[o][a]&&(q.value[o][a]={}),void 0===G.value[o][a]&&(G.value[o][a]={}),void 0===X.value[o][a]&&(X.value[o][a]=u)}}},updatePropColumns(l){i.value=ae.restoreColumns(l),ae.isColumnsChanged(e.columns,l)&&t.emit("update:columns",ae.restoreColumns(l))},updatePropSources(l){d.value=ae.restoreSources(l),ae.isSourcesChanged(e.sources,l)&&t.emit("update:sources",ae.restoreSources(l))},updatePropSummarys(l){c.value=[...l],e.summarys.length===l.length&&l.every(((t,l)=>t===e.summarys[l]))||t.emit("update:summarys",[...l])},updatePropPaginate(l){Ge.deepEqual(e.paginate,l)||t.emit("update:paginate",Object.assign(e.paginate,l))},updateSetupSelectedRowKeys(e){(e=Array.from(new Set(e))).every((e=>Q.value.includes(e)))&&Q.value.every((t=>e.includes(t)))||(Q.value=e),ae.cleanSelectedRowKeys()},updatePropSelectedRowKeys(l){(l=Array.from(new Set(l))).every((t=>e.selectedRowKeys.includes(t)))&&e.selectedRowKeys.every((e=>l.includes(e)))||t.emit("update:selectedRowKeys",l)},updateSetupExpandedRowKeys(e){(e=Array.from(new Set(e))).every((e=>J.value.includes(e)))&&J.value.every((t=>e.includes(t)))||(J.value=e),ae.cleanExpandedRowKeys()},updatePropExpandedRowKeys(l){(l=Array.from(new Set(l))).every((t=>e.expandedRowKeys.includes(t)))&&e.expandedRowKeys.every((e=>l.includes(e)))||t.emit("update:expandedRowKeys",l)},cleanSelectedRowKeys(){"Radio"===e.selectedRowMode&&Q.value.length>1&&(Q.value=Q.value.filter((t=>!0===e.preserveSelectedRowKeys||_.value.includes(t))).filter(((e,t)=>t<1))),!0===e.preserveSelectedRowKeys||Q.value.every((e=>_.value.includes(e)))||(Q.value=Q.value.filter((e=>_.value.includes(e))),ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))},cleanExpandedRowKeys(){!0===e.preserveExpandedRowKeys||J.value.every((e=>_.value.includes(e)))||(J.value=J.value.filter((e=>_.value.includes(e))),ce.expand([...J.value],J.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))},forceUpdate(e){!0===e&&(_.value=[],Q.value=[],J.value=[],x.value=[],T.value=[],P.value=[],R.value=[],h.value=[],g.value=[],y.value=[],_.value=[],L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[],V.value=[],G.value=[],q.value=[],X.value=[]),Z.value=!1,x.value=[],T.value=[],P.value=[],R.value=[],h.value=[],g.value=[],p.value=ae.normalizeTreeColumns(i.value,[]),f.value=ae.normalizeListColumns(p.value,[]),b.value=ae.normalizeDataColumns(f.value),ae.normalizeTreeSettings(p.value),ae.normalizeInitColumns(f.value),_.value=[],L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[],K.value=ae.normalizeTreeSources(d.value,[]),O.value=ae.normalizeListSources(K.value,[]),ae.normalizeInitSources(O.value),V.value=[],G.value=[],q.value=[],X.value=[],$.value=ae.normalizeListSummary(c.value),ae.normalizeInitSummary($.value),ae.cleanSelectedRowKeys(),ae.cleanExpandedRowKeys()},forceClear(e){!0===e&&(_.value=[],Q.value=[],J.value=[],x.value=[],T.value=[],P.value=[],R.value=[],h.value=[],g.value=[],y.value=[],_.value=[],L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[],V.value=[],G.value=[],q.value=[],X.value=[]),Z.value=!1,x.value=[],T.value=[],P.value=[],R.value=[],h.value=[],g.value=[],p.value=ae.normalizeTreeColumns(i.value,[]),f.value=ae.normalizeListColumns(p.value,[]),b.value=ae.normalizeDataColumns(f.value),ae.normalizeTreeSettings(p.value),ae.normalizeInitColumns(f.value),_.value=[],L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[],K.value=ae.normalizeTreeSources([],[]),O.value=ae.normalizeListSources(K.value,[]),ae.normalizeInitSources(O.value),V.value=[],G.value=[],q.value=[],X.value=[],$.value=ae.normalizeListSummary(c.value),ae.normalizeInitSummary($.value),ae.cleanSelectedRowKeys(),ae.cleanExpandedRowKeys()}},ie={intersectionObserver:new IntersectionObserver((()=>{})),mutationObserver:new MutationObserver((()=>{})),resizeObserver:new ResizeObserver((()=>{se.updateColumnRender()}))},se={documentMouseMove(e){if(te.resizer.activate){const t=te.resizer.queues,l=te.resizer.point,n=e.clientX-l,o={queues:t,range:Math.abs(n)};t.sort(((e,t)=>o.range>0?Math.abs(e.maxWidth-e.width)-Math.abs(t.maxWidth-t.width):o.range<0?Math.abs(e.minWidth-e.width)-Math.abs(t.minWidth-t.width):0));for(const[e,r]of t.entries()){const l=Math.abs(o.range/(t.length-e)),a=Math.abs(n>0?r.maxWidth-r.width:n<0?r.minWidth-r.width:0);n<=0&&(r.column.width=r.width-~~Math.min(l,a)),n>0&&(r.column.width=r.width+~~Math.min(l,a)),o.range=o.range-Math.min(l,a)}z((()=>se.updateTheadContainer()))}if(te.dragger.activate){const t=te.dragger.element,l=te.dragger.rowIndex||0,n=te.dragger.colIndex||0,o=te.refTableWrapper.value,r=o.getBoundingClientRect(),a=o.querySelector(".s-table-thead").getBoundingClientRect(),i=e.clientX<=a.left||e.clientX>=a.right,s=e.clientY<=a.top||e.clientY>=a.bottom,d=document.elementsFromPoint(e.clientX,e.clientY).find((e=>e.classList.contains("s-table-thead-th"))),c=ae.findParentColumn(re.filterListColumns.value,l,n);let u=+((null==d?void 0:d.getAttribute("row-index"))||0),p=+((null==d?void 0:d.getAttribute("col-index"))||0),f=ae.findParentColumn(re.filterListColumns.value,u,p);for(;f&&u>l;)u=f.rowIndex,p=f.colIndex,f=ae.findParentColumn(re.filterListColumns.value,u,p);if(te.dragger.top=te.wrapperScrollTop.value+e.clientY-r.top,te.dragger.left=te.wrapperScrollLeft.value+e.clientX-r.left,te.dragger.allow=!i&&!s&&c===f,te.dragger.visible=!0,te.dragger.allow&&p!==n||(te.cursor.visible=!1,te.cursor.colIndex=0,te.cursor.rowIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0),te.dragger.allow&&p!==n){const e=o.querySelector(`.s-table-thead-th[row-index="${u}"][col-index="${p}"]`).getBoundingClientRect(),l=t.getBoundingClientRect(),i=Math.min(l.top,e.top)||0,s=te.wrapperScrollTop.value+a.bottom-r.top,d=te.wrapperScrollLeft.value+e.right-r.left,c=te.wrapperScrollLeft.value+e.left-r.left,f=te.wrapperScrollTop.value+i-r.top;te.cursor.visible=!0,te.cursor.colIndex=p,te.cursor.rowIndex=u,te.cursor.height=s-f,te.cursor.width=2,te.cursor.left=p>n?d-3:c,te.cursor.top=f}}},documentMouseup(e){if(te.resizer.activate){for(const e of te.resizer.queues){const t=e.column.rowIndex,l=e.column.colIndex,n=ae.findTreeColumns(p.value,t,l);n.referColumn.width=e.column.width,n.cacheColumn.width=e.column.width}te.resizer.point=0,te.resizer.queues=[],te.resizer.activate=!1,z((()=>se.updateWrapperContainer())),document.body.classList.remove("user-select-none"),document.body.classList.remove("cursor-column-resizable")}if(te.dragger.activate){const e=te.cursor.visible,t={rowIndex:te.dragger.rowIndex,colIndex:te.dragger.colIndex},l={rowIndex:te.cursor.rowIndex,colIndex:te.cursor.colIndex};if(te.dragger.top=0,te.dragger.left=0,te.dragger.value="",te.dragger.allow=!1,te.dragger.element=null,te.dragger.colIndex=0,te.dragger.rowIndex=0,te.dragger.activate=!1,te.dragger.visible=!1,te.cursor.visible=!1,te.cursor.rowIndex=0,te.cursor.colIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0,e){const e=ae.recloneColumns(p.value),n=ae.dragerColumns(e,t,l);ae.updatePropColumns(n)}z((()=>se.updateWrapperContainer())),document.body.classList.remove("cursor-column-draggable"),document.body.classList.remove("user-select-none")}},updateScrollToFirstRange(){const e=te.refTableNoder.value,t=te.resizerContainer.value;if(e instanceof HTMLElement&&t instanceof HTMLElement){if(!1!==oe.scroll.value.scrollToFirstXOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.left<n.left&&(t.scrollLeft=t.scrollLeft+(l.left-n.left),t.scrollLeft=t.scrollLeft-(oe.scroll.value.scrollToFirstOffsetX||0),t.scrollLeft=oe.scroll.value.scrollToFirstTargetX>=0?oe.scroll.value.scrollToFirstTargetX:t.scrollLeft)}if(!1!==oe.scroll.value.scrollToFirstYOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.top<n.top&&(t.scrollTop=t.scrollTop+(l.top-n.top),t.scrollTop=t.scrollTop-(oe.scroll.value.scrollToFirstOffsetY||0),t.scrollTop=oe.scroll.value.scrollToFirstTargetY>=0?oe.scroll.value.scrollToFirstTargetY:t.scrollTop)}}},updateResizerContainer(){const e=Ge.isFunction(oe.scroll.value.getScrollResizeContainer)?oe.scroll.value.getScrollResizeContainer():null;if(e instanceof HTMLElement||(te.resizerContainer.value=null,te.resizerScrollTop.value=0,te.resizerScrollLeft.value=0,te.resizerScrollRight.value=0,te.resizerScrollBottom.value=0,te.resizerScrollClientWidth.value=0,te.resizerScrollClientHeight.value=0),e instanceof HTMLElement){const t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;te.resizerContainer.value=e,te.resizerScrollTop.value=r||0,te.resizerScrollLeft.value=o||0,te.resizerScrollRight.value=n-(o+t.width)||0,te.resizerScrollBottom.value=l-(r+t.height)||0,te.resizerScrollClientWidth.value=t.width,te.resizerScrollClientHeight.value=t.height}},updateWrapperContainer(){if(te.refTableWrapper.value){const e=te.refTableWrapper.value,t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;te.wrapperScrollTop.value=r||0,te.wrapperScrollLeft.value=o||0,te.wrapperScrollRight.value=n-(o+t.width)||0,te.wrapperScrollBottom.value=l-(r+t.height)||0,te.wrapperScrollClientWidth.value=t.width,te.wrapperScrollClientHeight.value=t.height}},updateWindowContainer(){te.windowInnerWidth.value=window.innerWidth,te.windowInnerHeight.value=window.innerHeight},updateTheadContainer(){var e;if(te.refTableWrapper.value&&te.tableTheadSizes.value.length===re.filterDataColumns.value.length)for(const[t,l]of re.filterDataColumns.value.entries()){const n=l.rowSpan,o=l.colSpan,r=l.rowIndex,a=l.colIndex,i=l.rowOffset,s=l.colOffset,d=l.minWidth||0,c=l.maxWidth||1/0,u=null==(e=te.refTableWrapper.value)?void 0:e.querySelector(`.s-nested-table > colgroup > col[col-index="${a}"]`);te.tableTheadSizes.value[t].rowSpan=n,te.tableTheadSizes.value[t].colSpan=o,te.tableTheadSizes.value[t].rowIndex=r,te.tableTheadSizes.value[t].colIndex=a,te.tableTheadSizes.value[t].rowOffset=i,te.tableTheadSizes.value[t].colOffset=s,te.tableTheadSizes.value[t].minWidth=d,te.tableTheadSizes.value[t].maxWidth=c,te.tableTheadSizes.value[t].width=(null==u?void 0:u.offsetWidth)||0,te.tableTheadSizes.value[t].height=(null==u?void 0:u.offsetHeight)||0}te.refTableWrapper.value&&te.tableTheadSizes.value.length!==re.filterDataColumns.value.length&&(te.tableTheadSizes.value=re.filterDataColumns.value.map((e=>{var t;const l=e.rowSpan,n=e.colSpan,o=e.rowIndex,r=e.colIndex,a=e.rowOffset,i=e.colOffset,s=e.minWidth||0,d=e.maxWidth||1/0,c=null==(t=te.refTableWrapper.value)?void 0:t.querySelector(`.s-nested-table > colgroup > col[col-index="${r}"]`);return{rowSpan:l,colSpan:n,rowIndex:o,colIndex:r,rowOffset:a,colOffset:i,minWidth:s,maxWidth:d,width:(null==c?void 0:c.offsetWidth)||0,height:(null==c?void 0:c.offsetHeight)||0}})))},updateColCheckRender(){const e={updateColSettings:t=>{for(const l of t){const t=y.value.includes(l.key),n=l.referColumn.settings.disabled;l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!n&&Ge.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),t&&!n||(Ge.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),Ge.isObject(l.cacheColumn.settings)||(l.cacheColumn.settings={checkbox:t,disabled:n})),Ge.isArray(l.treeChildren)&&e.updateColSettings(l.treeChildren)}}};e.updateColSettings(p.value),se.updateColumnRender()},updateColGroupRender(){te.refTableWrapper.value&&(Array.from(te.refTableWrapper.value.querySelectorAll("table > colgroup > col")).forEach((e=>{const t=e.style.maxWidth?parseInt(e.style.maxWidth):1/0,l=e.style.minWidth?parseInt(e.style.minWidth):0,n=e.getBoundingClientRect().width;(n<l||n>t)&&(e.style.width=`${n<l?l:n>t?t:n}px`)})),z((()=>se.updateTheadContainer())))},updateColumnRender(){se.updateResizerContainer(),se.updateWrapperContainer(),se.updateColGroupRender()}},de={computeTableGroupStyle(e){const t=Ge.isFiniteNumber(parseInt(`${e.width}`))?parseInt(`${e.width}`):"auto",l=Ge.isFiniteNumber(parseInt(`${e.minWidth}`))?parseInt(`${e.minWidth}`):0,n=Ge.isFiniteNumber(parseInt(`${e.maxWidth}`))?parseInt(`${e.maxWidth}`):1/0,o={width:"auto",minWidth:"0px",maxWidth:"none"};return/^\+?\d+\.?\d*(px)?$/.test(`${t}`)&&(o.width=parseInt(`${t}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)<parseInt(`${n}`)?parseInt(`${o.width}`)+"px":parseInt(`${n}`)+"px"),o.maxWidth=parseInt(`${n}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)>parseInt(`${l}`)?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),o.minWidth=parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&(o.width=l!==n?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${o.width}`)&&(o.width=parseInt(`${o.width}`)>=0?parseInt(`${o.width}`)+"px":"auto"),o},computeTableChildStyle(e,t,l){const n={},o="thead"===l,r="tfoot"===l,a=te.tableTheadSizes.value,i=re.hasSelection.value?"small"===oe.size.value?32:"middle"===oe.size.value?36:38:0,s=re.fixedLeftIndex.value>-1&&t.colOffset<=re.fixedLeftIndex.value&&(!r||oe.sticky.value.leftFooter),d=re.fixedRightIndex.value>-1&&t.colOffset>=re.fixedRightIndex.value&&(!r||oe.sticky.value.rightFooter),c=re.overflowScrollRight.value,u=re.overflowScrollLeft.value;if(/^\+?\d+\.?\d*(px)?$/.test(`${e.minWidth}`)&&Object.assign(n,{minWidth:parseInt(`${e.minWidth}`)+"px"}),/^\+?\d+\.?\d*(px)?$/.test(`${e.maxWidth}`)&&Object.assign(n,{maxWidth:parseInt(`${e.maxWidth}`)+"px"}),"string"==typeof e.align&&Object.assign(n,{"text-align":e.align||"left"}),!0===s){const e=!r||t.colOffset>0?i:0,l=a.reduce(((e,l,n)=>n<t.colOffset?e+l.width:e),0),s="2px "+(o?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .15)";Object.assign(n,{"z-index":5,position:"sticky","box-shadow":u&&(o||t.colOffset+t.colSpan-1===re.fixedLeftIndex.value)?s:"none",left:(l+e>0?e+l-1:e)+"px"})}if(!0===d){const e=[...a].reverse(),l=e.reduce(((l,n,o)=>o<e.length-t.colOffset-1?l+n.width:l),0),r="-2px "+(o?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .15)";Object.assign(n,{position:"sticky","box-shadow":c&&(o||t.colOffset===re.fixedRightIndex.value)?r:"none","z-index":e.length+5-t.colOffset,right:(l>0?l-1:0)+"px"})}return n},computeTableChildAttrs:(e={},t)=>"tbody"===t||"tfoot"===t?ae.getValue(e):{},computeTableChildProps(e={},t){if("tbody"===t||"tfoot"===t){const t={...ae.getValue(e)},l={style:{}};return"string"==typeof t.align&&Object.assign(l.style,{"text-align":t.align||"left"}),l}return{}}},ce={pageChange:(e,l)=>{const n=l===le.paginate.pageSize;n&&t.emit("pageChange",e,l),n&&le.update({pageNo:e,pageSize:l}),n&&ne.reload(),n||t.emit("pageChange",1,l),n||le.update({pageNo:1,pageSize:l}),n||ne.refresh()},pageSizeChange:(e,l)=>{l===le.paginate.pageSize&&t.emit("pageSizeChange",e,l),l!==le.paginate.pageSize&&t.emit("pageSizeChange",1,l)},expand:(e,l)=>{t.emit("expand",e,l)},select:(e,l)=>{t.emit("select",e,l)},sorter:e=>{t.emit("sorter",e),ne.refresh()}};I([()=>e.columns,()=>e.sources,()=>e.summarys],(([t,l,n],[o,r,a])=>{const s=t!==o&&ae.isColumnsChanged(i.value,p.value),u=l!==r&&ae.isSourcesChanged(d.value,K.value),y=n!==a&&ae.isSummaryChanged(c.value,$.value),m=u&&ae.isSourcesChanged(d.value.slice(0,K.value.length),K.value);s&&(x.value=[],T.value=[],P.value=[],R.value=[],h.value=[],g.value=[],i.value=[...e.columns],p.value=ae.normalizeTreeColumns(i.value,[]),f.value=ae.normalizeListColumns(p.value,[]),b.value=ae.normalizeDataColumns(f.value),ae.normalizeTreeSettings(p.value),ae.normalizeInitColumns(f.value)),m&&(L.value=[],M.value=[],j.value=[],H.value=[],Y.value=[]),u&&(_.value=[],d.value=[...e.sources],K.value=ae.normalizeTreeSources(d.value,[]),O.value=ae.normalizeListSources(K.value,[]),ae.normalizeInitSources(O.value),ae.cleanSelectedRowKeys(),ae.cleanExpandedRowKeys()),y&&(V.value=[],G.value=[],q.value=[],X.value=[],c.value=[...e.summarys],$.value=ae.normalizeListSummary(c.value),ae.normalizeInitSummary($.value))}),n),I((()=>e.loading),(e=>{Z.value=e}),l),I((()=>e.paginate),(e=>{le.update(e)}),l),I((()=>e.selectedRowMode),(()=>{Q.value=[]}),l),I((()=>e.preserveSelectedRowKeys),(()=>{Q.value=Q.value.filter((e=>_.value.includes(e)))}),l),I((()=>e.preserveExpandedRowKeys),(()=>{J.value=J.value.filter((e=>_.value.includes(e)))}),l),I((()=>[...e.selectedRowKeys]),(()=>{ae.updateSetupSelectedRowKeys(e.selectedRowKeys)}),l),I((()=>[...e.expandedRowKeys]),(()=>{ae.updateSetupExpandedRowKeys(e.expandedRowKeys)}),l),I((()=>oe.size.value),(()=>{se.updateColGroupRender()}),n),I((()=>y.value),(()=>{se.updateColCheckRender()}),n),I((()=>re.filterDataColumns.value),(()=>{se.updateColGroupRender()}),n),I((()=>Q.value),(()=>{ae.updatePropSelectedRowKeys(Q.value)}),n),I((()=>J.value),(()=>{ae.updatePropExpandedRowKeys(J.value)}),n),I((()=>le.paginate),(()=>{ae.updatePropPaginate(le.paginate)}),n),I((()=>p.value),(()=>{ae.updatePropColumns(p.value)}),n),I((()=>K.value),(()=>{ae.updatePropSources(K.value)}),n),I((()=>$.value),(()=>{ae.updatePropSummarys($.value)}),n),I((()=>Z.value),(()=>{t.emit("update:loading",Z.value)}),n),C((()=>{!1!==e.immediate&&ne.refresh(),se.updateResizerContainer(),se.updateWrapperContainer(),se.updateColGroupRender(),document.addEventListener("mouseup",se.documentMouseup),document.addEventListener("mousemove",se.documentMouseMove),window.addEventListener("resize",se.updateWindowContainer),ie.resizeObserver.observe(te.refTableWrapper.value),z((()=>{let t=te.refTableWrapper.value;if(!Ge.isFunction(e.scroll.getScrollResizeContainer)){for(;t instanceof HTMLElement&&t.parentElement instanceof HTMLElement&&"auto"!==window.getComputedStyle(t).overflow;)t=t.parentElement;t instanceof HTMLElement&&(oe.scroll.value.getScrollResizeContainer=()=>t,te.getResizerContainer=()=>t)}if(Ge.isFunction(oe.scroll.value.getScrollResizeContainer)){const e=oe.scroll.value.getScrollResizeContainer(),l=e instanceof HTMLElement?e:null;t=l}t instanceof HTMLElement&&(t.addEventListener("scroll",se.updateResizerContainer,{passive:!0}),ie.resizeObserver.observe(t),se.updateResizerContainer())}))})),t.expose({reload:ne.reload,refresh:ne.refresh,select:ae.updateSetupSelectedRowKeys,expand:ae.updateSetupExpandedRowKeys,update:ae.forceUpdate,clear:ae.forceClear});const ue=t=>{const l=[],n=[],o=[...Q.value],r=!1!==e.rowSelectedStrictly;if(b.value.length<=0)return;if("Checkbox"===e.selectedRowMode){const e=O.value.filter((()=>!0)),t=[...e].reverse();for(const o of e){const e=o.key,t=o.childKeys,a=o.rowGlobalIndex,i=ae.getValue(M.value[a]),s=!1!==ae.getValue(null==i?void 0:i.selectable);!s||n.includes(e)||l.includes(e)||l.push(e),s||n.includes(e)||(!r&&t.forEach((e=>n.includes(e)||n.push(e))),n.push(e))}if(!r)for(const o of t){const e=o.key,t=o.childKeys;t.length>0&&t.every((e=>n.includes(e)))&&(l.includes(e)&&l.splice(0,l.length,...l.filter((t=>t!==e))),n.includes(e)||n.push(e))}}const a={"s-border-table":re.hasBorder.value,"s-header-table":re.hasHeader.value,"s-bodyer-table":re.hasBodyer.value,"s-footer-table":re.hasFooter.value},i={tableLayout:["fixed","auto"].includes(e.tableLayout)?e.tableLayout:f.value.length>1?"auto":"fixed"},s={width:re.tableBodyWidth.value,maxHeight:re.tableBodyHeight.value,minWidth:"auto"===re.tableBodyWidth.value||["fit-content","max-content"].includes(re.tableBodyWidth.value)?"100%":"0px",overflow:re.tableBodyOverflow.value??("100%"!==re.tableBodyWidth.value||"auto"!==re.tableBodyHeight.value?"auto":"visible")};return w("div",{ref:te.refTableWrapper,class:"s-nested-table-wrapper",style:s,onScrollPassive:se.updateWrapperContainer,onMousedown:e=>{if(e.target instanceof HTMLElement){if(!te.resizer.activate&&e.target.classList.contains("s-table-thead-functional-resizable")){const t=e.clientX,l=e.target,n=te.refTableWrapper.value,o=l.closest(".s-table-thead-th"),r=+o.getAttribute("row-index"),a=+o.getAttribute("col-index"),i=[...re.filterDataColumns.value],s=[...re.filterListColumns.value],d=r>=0&&a>=0&&ae.findListColumns(s,r,a);if(d)for(let e=i.length-1;e>=0;e--){const l=i[e].rowSpan,o=i[e].colSpan,r=i[e].colOffset,a=r<d.colOffset,s=r+o>d.colOffset+d.colSpan,c=i.filter(((t,l)=>l>=e&&l<e+o)).some((e=>e.resizable));if(l>0&&o>0&&!a&&!s&&c){let l=0;for(;l<o;){const t=i[e+l],o=n.querySelector(`.s-nested-table > colgroup > col[col-index="${t.colIndex}"]`).getBoundingClientRect();t.resizable&&te.resizer.queues.push({width:o.width,minWidth:Ge.isFiniteNumber(t.minWidth)&&t.minWidth>0?t.minWidth:0,maxWidth:Ge.isFiniteNumber(t.maxWidth)&&t.maxWidth>0?t.maxWidth:Number.MAX_SAFE_INTEGER,column:t}),l++}te.resizer.point=t,te.resizer.activate=!0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-resizable");break}}return e.preventDefault(),void e.stopPropagation()}if(te.dragger.visible||!e.target.classList.contains("s-table-thead-draggable-th"));else{const t=+(e.target.getAttribute("col-index")||0),l=+(e.target.getAttribute("row-index")||0),n=ae.findListColumns(re.filterListColumns.value,l,t),o=te.refTableWrapper.value.getBoundingClientRect();if(n){const r=n.key,a=te.wrapperScrollTop.value+e.clientY-o.top,i=te.wrapperScrollLeft.value+e.clientX-o.left,s=ae.getValue(R.value[l][t]);te.dragger.top=a,te.dragger.left=i,te.dragger.allow=!0,te.dragger.value=Ge.isPrimitive(s)?`${s}`:r,te.dragger.element=e.target,te.dragger.colIndex=t,te.dragger.rowIndex=l,te.dragger.activate=!0,te.dragger.visible=!1,te.cursor.visible=!1,te.cursor.rowIndex=0,te.cursor.colIndex=0,te.cursor.height=0,te.cursor.width=0,te.cursor.left=0,te.cursor.top=0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-draggable")}}}}},[w("table",{ref:te.refTableNoder,class:["s-nested-table",a],style:i},[(()=>{const e="small"===oe.size.value?32:"middle"===oe.size.value?36:38,t=!0===re.hasSelection.value;return w("colgroup",null,[t&&w("col",{"col-index":-1,style:{width:`${e}px`,minWidth:`${e}px`,maxWidth:`${e}px`}},null),S(re.filterDataColumns).value.map((e=>w("col",{"col-index":e.colIndex,style:de.computeTableGroupStyle(e)},null)))])})(),(()=>{const n={position:"relative","z-index":50},r=oe.sticky.value.topHeader;if(re.isFixedTop.value||!0===r||Ge.isFiniteNumber(r)){const e=/^\+?\d+\.?\d*$/.test(`${r}`)?r:0;Object.assign(n,{position:"sticky",top:e+"px","z-index":50}),re.overflowScrollTop.value&&Object.assign(n,{"box-shadow":"0 1px 1px 0 rgba(0, 0, 0, .15)"})}return w("thead",{ref:te.refTableTheader,class:["s-table-thead",{"s-border-table":[].concat(e.border).includes("thead")}],style:n},[S(re.filterListColumns).value.map(((n,r)=>w("tr",k(ae.getValue(x.value[r]),{style:{position:"relative","z-index":f.value.length-r},class:"s-table-thead-tr","row-index":r}),[(()=>{if(!re.hasSelection.value)return;if(r>0)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tHeaderThStyle};if(re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),"Checkbox"!==e.selectedRowMode)return w("th",{style:t,rowspan:re.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},null);const n=l.length>0&&l.some((e=>Q.value.includes(e))),a=l.length>0&&l.every((e=>Q.value.includes(e)));return w("th",{style:t,rowspan:re.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},[w(xt,{type:e.selectedRowMode,size:oe.size.value,indeterminate:!a&&n,disabled:0===l.length,checked:a,onCheck:e=>{e||(Q.value.splice(0,Q.value.length,...o.filter((e=>!l.includes(e)))),ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),e&&(Q.value.splice(0,Q.value.length,...Array.from(new Set([...l,...o]))),ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)}))))}},null)])})(),n.map((l=>{if(l&&l.rowSpan>0&&l.colSpan>0){const n=l.sorter,o=l.rowSpan,r=l.rowIndex,a=l.colIndex,i=l.rowOffset,s=l.sorterField,d=l.sorterValue,c=re.filterDataColumns.value.map((e=>e.rowMaxSpan)),p=n&&i+o===Math.max(...c,0),f=ae.getValue(R.value[r][a]),b=!ae.isVueNode(f)&&Ge.isFunction(t.slots.headerCell)?ae.getVNodes(B(t.slots,"headerCell",{title:f,column:l,rowIndex:r,colIndex:a})):f,h=t=>{const n=t.field,o=t.value,r=ae.getValue(u);if(l.sorterField=n,l.sorterValue=o,!0!==e.columnSorterMultiple){o&&(r.splice(0,r.length),r.push({field:n,value:o})),o||r.splice(0,r.length),Ge.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r});for(const e of re.filterDataColumns.value)e.sorterField!==n&&""!==e.sorterValue&&(e.sorterValue="");ce.sorter(r)}!0===e.columnSorterMultiple&&(o&&(r.splice(0,r.length,...r.filter((e=>e.field!==n))),r.push({field:n,value:o})),o||r.splice(0,r.length,...r.filter((e=>e.field!==n))),Ge.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r}),ce.sorter(r)),u.value=r};return w("th",k({colspan:l.colSpan,rowspan:l.rowSpan},ae.getValue(T.value[r][a]),{style:{...de.computeTableChildStyle(l,l,"thead"),...e.tHeaderThStyle},class:["s-table-thead-th",{"s-table-thead-leafed-th":l.rowIndex===l.rowMaxSpan-1,"s-table-thead-draggable-th":!0===e.columnPresetDraggable,"s-table-thead-sortable-th":p}],"col-index":l.colIndex,"row-index":l.rowIndex,"col-offset":l.colOffset,"row-offset":l.rowOffset}),[w(Xe,{open:!0===l.tooltip&&void 0,tooltip:!0===l.tooltip||!0===l.ellipsis,ellipsis:!0===l.tooltip||!0===l.ellipsis},{default:()=>[b??f]}),w("div",{class:"s-table-thead-th-functional"},[p?w(It,{field:s,value:d,onChange:h},null):null,l.resizable?w("span",{class:"s-table-thead-functional-resizable"},null):null])])}}))])))])})(),(()=>{if(!re.hasBodyer.value)return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[w("tr",{class:"s-table-tbody-tr"},[w("td",{class:"s-table-tbody-td",style:{...e.tBodyerTdStyle},colspan:re.hasSelection.value?re.filterDataColumns.value.length+1:re.filterDataColumns.value.length},[w(At,null,null)])])]);const a=S(b).value,i=S(re.filterDataColumns).value,s=S(re.filterPageSources).value,d=S(re.filterRangeSources).value,c=S(oe.persistSourceRanges).value,u={},p={},f={};for(const[t,l]of d.entries()){const n=l.rowGroupIndex,o=l.rowGlobalIndex,r=u[o]||new Map,s=p[o]||new Set,b=f[o]||new Set;u[o]=r,p[o]=s,f[o]=b;for(let l=0;l<a.length;l++){let s=0,p=0,f=0,b=0,h=!0;const g=a[l],y=i.find((e=>e.colIndex===g.colIndex))||g,m=ae.getValue(H.value[o][y.key]),v=ae.getValue(j.value[o][y.key]),x=ae.getValue(Y.value[o][y.key]),w=!1!==e.cellMegreNormalize,k=r.get(l);if(h=!1!==(null==v?void 0:v.cellSpan)&&i.some((e=>e.colIndex===l)),s=Ge.isFiniteNumber(null==v?void 0:v.colSpan)?v.colSpan:Ge.isFiniteNumber(y.colSpan)?y.colSpan:1,p=Ge.isFiniteNumber(null==v?void 0:v.rowSpan)?v.rowSpan:1,p=Ge.isFiniteNumber(null==k?void 0:k.rowSpan)?k.rowSpan:p,s=Ge.isFiniteNumber(null==k?void 0:k.colSpan)?k.colSpan:s,b=p-1,f=s-1,!0===w){let e=0;if(f>0)for(let t=1;t<=f;t++)u[o].set(l+t,{index:l+t,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(b>0)for(let n=1;n<=b;n++){const o=d[t+n],r=null==o?void 0:o.rowGlobalIndex;if(!r)break;u[r]=u[r]||new Map,u[r].set(l,{index:l,colCount:s-1,colSpan:s,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1}),e++}if(b>0&&f>0)for(let n=1;n<=b;n++){const e=d[t+n],o=null==e?void 0:e.rowGlobalIndex;if(!o)break;for(let t=1;t<=f;t++){const e=l+t;(u[o]=u[o]||new Map).set(e,{index:e,rowCount:-1,rowSpan:0,colCount:-1,colSpan:s,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}}b-e>0&&(p=p-(b-e)>0?p-(b-e):1,b=0)}if(!1===c&&(p=1,s=1,b=0,f=0),Ge.isNonEmptyArray(c)){let e=!1;for(const t of c)if(n>=t[0]||n<=t[1]){e=!0;break}p=e?p:1,s=e?s:1,b=e?b:0,f=e?f:0}r.set(l,{index:l,rowSpan:p,colSpan:s,colCount:f,rowCount:b,cellAttrs:m,cellProps:v,cellValue:x,cellRender:h})}}return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[(()=>{const s=[],c=[];for(const e of d){const l=e.rowIndex,n=e.rowGroupLevel,o=e.rowGroupIndex,r=e.rowGroupIndexs,a=e.rowGlobalIndex,i=e.referRecord,d=e.parentKey;s.push({count:e.treeChildren.length||0,level:n,parentKey:d}),c.push({vnode:ae.getVNodes(B(t.slots,"expander",{record:i,rowIndex:l,groupIndex:o,groupLevel:n,groupIndexs:r,globalIndex:a})),level:n,parentKey:d})}return d.map(((d,b)=>{let h=0,g=!0;const y=d.key,x=d.rowIndex,S=d.childKeys,C=d.parentKeys,N=d.rowGroupLevel,T=d.rowGroupIndex,I=d.rowGroupIndexs,A=d.rowGlobalIndex,z=d.treeChildren,P=d.referRecord,R=d.rowKeyField,E=u[A],K=p[A],F=f[A],W=s.some((e=>!!e.count)),j=c.some((e=>!!e.vnode)),H=P[R]||A,Y=c[b].vnode,$=ae.getValue(M.value[A]),V=!1!==ae.getValue(null==$?void 0:$.expandable),G=t=>{if(!g)return;if(!W&&!j)return;if(i.find((e=>!1!==e.expandIcon))!==t)return;const l=oe.size.value,n="default"===l?16:8,o=N-1>0?N-1:0,r=(e.selectIndentSize>0?e.selectIndentSize:"default"===l?16:14)*o+n;if(!Y&&0===z.length)return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},null);if(J.value.includes(H)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":V}],onClick:e=>{if(V){const e=J.value.length,t=J.value.filter((e=>!S.includes(e)&&e!==H));J.value.splice(0,e,...t),ce.expand([...J.value],J.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}e.stopPropagation()}},[w(m,{class:"s-table-tbody-expand-icon"},null)])])}if(!J.value.includes(H)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":V}],onClick:e=>{V&&(J.value.push(H),ce.expand([...J.value],J.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),e.stopPropagation()}},[w(v,{class:"s-table-tbody-expand-icon"},null)])])}},U=(t,l)=>{if(!g)return l;if(!W&&!j)return l;if(i.find((e=>!1!==e.expandIcon))!==t)return l;const n=oe.size.value,o="default"===n?26:22,r=N-1>0?N-1:0,a=(e.selectIndentSize>0?e.selectIndentSize:"default"===n?16:14)*r+o;return w("div",{class:"s-table-tbody-valuer-container",style:{marginLeft:a+"px"}},[(g=!1)||l])};return w(D,null,[(()=>{const s=()=>{if(!re.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5});const a=r?[]:S.filter((e=>l.includes(e))),i=a.length>0&&a.some((e=>Q.value.includes(e))),s=a.length>0?a.every((e=>Q.value.includes(e))):Q.value.includes(y);return w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-selection-td"],"col-index":-1,"col-offset":-1,"row-global-index":A,"row-group-index":T,"row-group-level":N,"row-index":x},[w(xt,{type:e.selectedRowMode,size:oe.size.value,indeterminate:!s&&i,disabled:n.includes(y),checked:s,onCheck:t=>{if("Radio"!==e.selectedRowMode||1===Q.value.length&&Q.value[0]===y||(Q.value.splice(0,Q.value.length,y),ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),"Checkbox"!==e.selectedRowMode||t||(r||Q.value.splice(0,Q.value.length,...o.filter((e=>e!==y&&!(null==C?void 0:C.includes(e))&&!S.includes(e)||n.includes(e)))),r&&Q.value.splice(0,Q.value.length,...o.filter((e=>e!==y||n.includes(e)))),ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),"Checkbox"===e.selectedRowMode&&t){r||Q.value.splice(0,Q.value.length,...o,...S.filter((e=>!n.includes(e))),y),r&&Q.value.splice(0,Q.value.length,...o,y);const e=[...O.value.filter((()=>!0))].reverse();for(const t of e){const e=t.key,o=t.childKeys.filter((e=>l.includes(e)));n.includes(e)||Q.value.includes(e)||o.length>0&&o.every((e=>Q.value.includes(e)))&&Q.value.push(e)}ce.select([...Q.value],Q.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}}},null)])},c=()=>a.map(((l,n)=>{const o=ae.takeCellMegre({index:n,colIndex:l.colIndex,rowIndex:d.rowIndex,cachers:E,spikers:K,empters:F}),r=o.cacher.cellRender,a=o.cacher.cellValue,s=o.cacher.cellProps,c=o.cacher.cellAttrs,u=o.cacher.rowSpan,p=o.cacher.colSpan;if(r&&p>=1&&(h+=p),r&&u>=1&&p>=1){let o;const r=i.find((e=>e.colIndex===l.colIndex)),d={value:a,record:P,rowIndex:x,groupIndex:T,groupLevel:N,groupIndexs:I,globalIndex:A,column:r,colIndex:n},f={colOffset:h-p,colSpan:p},b=F.has(n)?null:!ae.isVueNode(a)&&Ge.isFunction(t.slots.bodyerCell)?ae.getVNodes(B(t.slots,"bodyerCell",d))??a:a;return w("td",k({rowspan:u,colspan:p,style:{...de.computeTableChildStyle(r,f,"tbody"),...e.tBodyerTdStyle}},de.computeTableChildAttrs(c,"tbody"),de.computeTableChildProps(s,"tbody"),{class:"s-table-tbody-td","col-index":r.colIndex,"col-offset":r.colOffset,"row-global-index":A,"row-group-index":T,"row-group-level":N,"row-index":x}),[G(r),w(Xe,{open:!!(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)&&void 0,tooltip:(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)||(Ge.isBoolean(null==s?void 0:s.ellipsis)?null==s?void 0:s.ellipsis:!0===r.ellipsis),ellipsis:(Ge.isBoolean(null==s?void 0:s.tooltip)?null==s?void 0:s.tooltip:!0===r.tooltip)||(Ge.isBoolean(null==s?void 0:s.ellipsis)?null==s?void 0:s.ellipsis:!0===r.ellipsis)},zt(o=U(r,b))?o:{default:()=>[o]})])}})),u=!0===e.rowExpandedByClick,p=z.length>0||!!Y;if(!u||!p)return w("tr",k(ae.getValue(L.value[A]),{"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,class:["s-table-tbody-tr"]}),[s(),c()]);if(u&&p){const e={click:e=>{const t=J.value.includes(H),l=!1!==V;if(l&&!t&&(J.value.push(H),ce.expand([...J.value],J.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))),l&&t){const e=J.value.length,t=J.value.filter((e=>!S.includes(e)&&e!==H));J.value.splice(0,e,...t),ce.expand([...J.value],J.value.map((e=>{var t;return ae.getValue((null==(t=O.value.find((t=>t.key===e)))?void 0:t.referRecord)||null)})))}e.stopPropagation()}};return w("tr",k(ae.getValue(L.value[A]),{class:["s-table-tbody-tr","s-table-tbody-click-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,onClick:e.click}),[s(),c()])}})(),(()=>{if(J.value.includes(H)&&!(z.length>0)&&(Y||(J.value=J.value.filter((e=>e!==H))),Y)){const t=!0===re.hasSelection.value,l="default"===oe.size.value?26:22,n="small"===oe.size.value?32:"middle"===oe.size.value?36:38,o=t?n+l:l,r={position:"relative","z-index":8,...e.expandTdStyle},a={display:"flex","flex-flow":"column nowrap","justify-content":"flex-start","align-items":"flex-start",width:"100%",height:"100%","padding-left":(e.expandIndentSize>0?e.expandIndentSize:o)+"px"};return w("tr",{class:["s-table-tbody-tr","s-table-tbody-expand-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex},[w("td",{colspan:re.hasSelection.value?re.filterDataColumns.value.length+1:re.filterDataColumns.value.length,class:["s-table-tbody-td","s-table-tbody-expand-td"],"row-global-index":A,"row-group-index":T,"row-group-level":N,"row-index":x,style:r},[w("div",{style:a},[Y])])])}})()])}))})(),(()=>{const t=s.length,l=oe.bodyMinRows.value;if(!(l<=0||t>=l))return Array.from({length:l-t},(()=>{let t=0;return w("tr",{class:["s-table-tbody-tr","s-table-tbody-empty-tr"]},[(()=>{if(!re.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[oe.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};return re.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-empty-td","s-table-tbody-selection-td"]},null)})(),a.map((l=>{const n=i.find((e=>e.colIndex===l.colIndex));if(n){const l={colOffset:t++,colSpan:1};return w("td",{style:{...de.computeTableChildStyle(n,l,"tbody"),...e.tBodyerTdStyle},class:["s-table-tbody-td","s-table-tbody-empty-td"]},null)}}))])}))})()])})(),(()=>{const l={position:"relative","z-index":30},n=oe.sticky.value.bottomFooter;if(!0===n||Ge.isFiniteNumber(n)){const e="default"!==(le.paginate.size||oe.size.value)||le.paginate.simple?45:56,t=!0===le.paginate.visible;Object.assign(l,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n+(t?e:0)}px`:`${t?e:0}px`,"z-index":80})}const o=S(b).value,r=S(re.filterDataColumns).value,a=S(re.filterPageSummarys).value,i={},s={},d={};for(const t of a.keys()){const l=i[t]||new Map,n=s[t]||new Set,a=d[t]||new Set;s[t]=n,d[t]=a,i[t]=l;for(let s=0;s<o.length;s++){let n=0,a=0,d=0,c=0,u=!0;const p=o[s],f=r.find((e=>e.colIndex===p.colIndex))||p,b=ae.getValue(q.value[t][f.key]),h=ae.getValue(G.value[t][f.key]),g=ae.getValue(X.value[t][f.key]),y=!1!==e.cellMegreNormalize,m=l.get(s);if(u=!1!==(null==h?void 0:h.cellSpan)&&r.some((e=>e.colIndex===s)),n=Ge.isFiniteNumber(null==h?void 0:h.colSpan)?h.colSpan:Ge.isFiniteNumber(f.colSpan)?f.colSpan:1,a=Ge.isFiniteNumber(null==h?void 0:h.rowSpan)?h.rowSpan:1,a=Ge.isFiniteNumber(null==m?void 0:m.rowSpan)?m.rowSpan:a,n=Ge.isFiniteNumber(null==m?void 0:m.colSpan)?m.colSpan:n,c=a-1,d=n-1,!0===y){if(d>0)for(let e=1;e<=d;e++)i[t].set(s+e,{index:s+e,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(c>0)for(let e=1;e<=c;e++)i[t+e]=i[t+e]||new Map,i[t+e].set(s,{index:s,colCount:n-1,colSpan:n,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1});if(c>0&&d>0)for(let e=1;e<=c;e++)for(let l=1;l<=d;l++){const o=s+l,r=t+e;(i[r]=i[r]||new Map).set(o,{index:o,rowCount:-1,rowSpan:0,colCount:-1,colSpan:n,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}c=0}l.set(s,{index:s,rowSpan:a,colSpan:n,colCount:d,rowCount:c,cellAttrs:b,cellProps:h,cellValue:g,cellRender:u})}}return w("tfoot",{class:["s-table-tfoot",{"s-border-table":[].concat(e.border).includes("tfoot")}],style:l},[a.map(((l,n)=>{let a=0,c=re.hasSelection.value?1:0;const u=i[n],p=s[n],f=d[n];return w("tr",k(ae.getValue(V.value[n]),{class:"s-table-tfoot-tr","row-index":n}),[o.map(((o,i)=>{const s=ae.takeCellMegre({index:i,colIndex:o.colIndex,rowIndex:n,cachers:u,spikers:p,empters:f}),d=s.cacher.cellRender,b=s.cacher.cellValue,h=s.cacher.cellProps,g=s.cacher.cellAttrs,y=s.cacher.rowSpan,m=s.cacher.colSpan;if(d&&m>=1&&(a+=m),d&&y>=1&&m>=1){const s=re.filterPageSources.value.filter((e=>1===e.rowGroupLevel)),d=r.find((e=>e.colIndex===o.colIndex)),u=s.map((e=>e.referRecord)),p=le.paginate,v={value:b,record:l,column:d,rowIndex:n,colIndex:i,paginate:p,sources:u},x={colOffset:a-m,colSpan:m},S=f.has(i)?null:!ae.isVueNode(b)&&Ge.isFunction(t.slots.footerCell)?ae.getVNodes(B(t.slots,"footerCell",v))??b:b;return w("td",k({rowspan:y,colspan:m+(c>0?c--:0),style:{...de.computeTableChildStyle(d,x,"tfoot"),...e.tFooterTdStyle}},de.computeTableChildAttrs(g,"tfoot"),de.computeTableChildProps(h,"tfoot"),{class:"s-table-tfoot-td","col-index":d.colIndex,"col-offset":d.colOffset,"row-index":n}),[w(Xe,{open:!!(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)&&void 0,tooltip:(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)||(Ge.isBoolean(null==h?void 0:h.ellipsis)?null==h?void 0:h.ellipsis:!0===d.ellipsis),ellipsis:(Ge.isBoolean(null==h?void 0:h.tooltip)?null==h?void 0:h.tooltip:!0===d.tooltip)||(Ge.isBoolean(null==h?void 0:h.ellipsis)?null==h?void 0:h.ellipsis:!0===d.ellipsis)},zt(S)?S:{default:()=>[S]})])}}))])}))])})()]),(()=>{if(!le.paginate.visible)return;const t={position:"relative",zIndex:1e3,...e.paginateStyle},l=oe.sticky.value.bottomFooter,n=le.paginate.fixed??l;return(!0===n||Ge.isFiniteNumber(n))&&Object.assign(t,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n}px`:0,left:0}),w(wt,k(le.paginate,{size:"default"===oe.size.value?"default":"small",onPageSizeChange:ce.pageSizeChange,onPageChange:ce.pageChange,style:t}),null)})(),(()=>{if(!0===oe.sticky.value.bottomScrollbar)return w(kt,re.scrollbar.value,null)})(),te.dragger.visible?w(Nt,{top:te.dragger.top,left:te.dragger.left,value:te.dragger.value,allow:te.dragger.allow,rowIndex:te.dragger.rowIndex,colIndex:te.dragger.colIndex,container:te.refTableWrapper.value},null):w(D,null,null),te.cursor.visible?w(Tt,{top:te.cursor.top,left:te.cursor.left,width:te.cursor.width,height:te.cursor.height},null):w(D,null,null)])};return()=>(t=>{const l={width:["fit-content","max-content"].includes(re.tableBodyWidth.value)&&"visible"===re.tableBodyOverflow.value?"fit-content":"100%",minWidth:["fit-content","max-content"].includes(re.tableBodyWidth.value)&&"visible"===re.tableBodyOverflow.value?"100%":"0"},n={"--table-padding-vertical":ee.value.padding+"px","--table-padding-horizontal":ee.value.padding+"px","--table-padding-vertical-middle":ee.value.paddingSM+"px","--table-padding-horizontal-middle":ee.value.paddingXS+"px","--table-padding-vertical-small":ee.value.paddingXS+"px","--table-padding-horizontal-small":ee.value.paddingXS+"px","--table-primary-color":ee.value.colorPrimary,"--table-background-color":ee.value.colorBgContainer,"--table-border-color":ee.value.colorBorderSecondary,"--table-thead-color":new s(ee.value.colorFillAlter).onBackground(ee.value.colorBgContainer).toHexString()};return w("section",{ref:te.refTableContainer,style:{...l,...n},class:["s-table-container",`s-${oe.size.value}-table-container`]},[w("div",{class:["s-table-spining-container",{spining:Z}]},[(t=>{if(!e.columnPresetSettings)return w(D,null,null);const l=ae.getValue(h),n=S(l.filter((e=>f.value.flat().some((t=>(null==t?void 0:t.key)===e&&(t.settings.checkbox||!t.settings.disabled)))))),o=S(l.filter((()=>!0))),r={},a=f.value.length>1,i=!0===e.columnPresetDraggable,s=re.tableBodyOverflow.value??("100%"!==re.tableBodyWidth.value||"auto"!==re.tableBodyHeight.value?"auto":"visible"),d=oe.sticky.value.topHeader,c=re.isFixedTop.value;return"auto"!==s&&"hidden"!==s&&(c||!0===d||Ge.isFiniteNumber(d))&&Object.assign(r,{position:"sticky",top:/^\+?\d+\.?\d*$/.test(`${d}`)?`${d}px`:0}),w(St,{allTreeKeys:n.value,"onUpdate:allTreeKeys":e=>n.value=e,checkedKeys:y.value,"onUpdate:checkedKeys":e=>y.value=e,expandedKeys:o.value,"onUpdate:expandedKeys":e=>o.value=e,treeData:g.value,dropHandler:e=>{var t,l;const n=e.appendNodes,o=e.reloadNodes,r=e.removeNodes;if((null==n?void 0:n.length)>0||(null==r?void 0:r.length)>0)return!1;if(1!==(null==o?void 0:o.length)||(null==(t=o[0].oldChildNodes)?void 0:t.length)!==(null==(l=o[0].newChildNodes)?void 0:l.length))return!1;const a=o[0].parentNode,i=null==a?void 0:a.column.rowIndex,s=null==a?void 0:a.column.colIndex,d=o[0].newChildNodes||[],c=ae.recloneColumns(p.value),u=a?ae.findTreeColumns(c,i,s):null,f=u?u.treeChildren:c,b=[...f];for(const[p,h]of d.entries())f[p]=b.find((e=>e.referColumn.rowIndex===h.column.rowIndex&&e.referColumn.colIndex===h.column.colIndex));return ae.updatePropColumns(c),!1},multiline:a,draggable:i,style:r},null)})(),ue(t),(t=>{if(!0===e.loadinger&&!0===Z.value)return w(Ct,{optionser:te},null)})()])])})(t)},slots:{},methods:{}}),Rt=e=>e,Et=e=>S(e),Kt=e=>S(e),Ot=e=>S(e),Ft=e=>S(e),Lt=N({getPrefixCls:(e,t)=>t||(e?`s-pro-${e}`:"s-pro"),locale:e=>e||""}),Mt=Symbol("RouteContext"),Wt=()=>((e=Symbol(),t)=>$(e,t||{}))(Mt,Lt);function jt(e){return e.map((e=>{var t,l;const n={...e};return n.name&&!0!==(null==(t=n.meta)?void 0:t.hideInMenu)?Ge.isNonEmptyArray(n.children)&&!0!==(null==(l=n.meta)?void 0:l.hideChildInMenu)&&n.children.some((e=>{var t;return e&&e.name&&!0!==(null==(t=e.meta)?void 0:t.hideInMenu)}))?{...n,children:jt(n.children)}:(Reflect.has(n,"children")&&delete n.children,n):null})).filter((e=>e))}const Ht={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,maxWidth:1999,matchMedia:"(min-width: 1600px) and (max-width: 1999px)"},xxxl:{minWidth:2e3,matchMedia:"(min-width: 2000px)"}};Ze(".s-pro-global-header {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  color: #000000e0;\n  background: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  position: relative;\n}\n.s-pro-global-header-layout-mix {\n  background-color: inherit;\n}\n.s-pro-global-header-logo {\n  position: relative;\n  overflow: hidden;\n}\n.s-pro-global-header > * {\n  height: 100%;\n}\n");Ze(".s-pro-top-nav-header {\n  width: 100%;\n  height: 100%;\n  color: #ffffff;\n  position: relative;\n  box-shadow: 0 1px 2px 0 rgba(0, 21, 41, 0.12);\n  transition: background 0.3s, width 0.2s;\n}\n.s-pro-top-nav-header.light {\n  color: inherit;\n  background-color: #ffffff;\n}\n.s-pro-top-nav-header-main {\n  display: flex;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n.s-pro-top-nav-header-main-left {\n  display: flex;\n}\n.s-pro-top-nav-header-menu {\n  flex: 1 1 auto;\n  min-width: 0;\n  height: 100%;\n}\n.s-pro-top-nav-header-menu .s-pro-menu.s-pro-menu-horizontal {\n  height: 100%;\n  border: none;\n}\n.s-pro-top-nav-header-logo {\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n");Ze(".s-pro-layout-sider {\n  position: relative;\n  border-right: 0;\n  z-index: 20;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(37, 37, 37, 0.05);\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.05);\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo {\n  display: flex;\n  align-items: center;\n  transition: padding 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  position: relative;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo h1 {\n  display: inline-block;\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 600;\n  vertical-align: middle;\n  animation: pro-layout-title-hide 0.3s;\n}\n.s-pro-layout-sider .s-pro-layout-sider-menu {\n  min-height: 100%;\n  position: relative;\n  border-right: none;\n  z-index: 10;\n}\n.s-pro-layout-sider .s-pro-layout-sider-children {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.s-pro-layout-sider.s-pro-layout-sider.s-pro-layout-sider-fixed {\n  height: 100vh;\n  overflow: auto;\n  overflow-x: hidden;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 0;\n}\n@keyframes pro-layout-title-hide {\n  0% {\n    display: none;\n    opacity: 0;\n  }\n  80% {\n    display: none;\n    opacity: 0;\n  }\n  100% {\n    display: unset;\n    opacity: 1;\n  }\n}\n.s-pro-sider-light {\n  background-color: #ffffff;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n}\n.s-pro-sider-light ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-menu-light.s-pro-menu-inline {\n  background-color: #ffffff;\n}\n.s-pro-menu-light.s-pro-menu-inline .s-pro-menu-sub.s-pro-menu-inline {\n  background-color: transparent;\n}\n");const Dt={theme:n().def("light"),layout:n().def("side"),headerTheme:n().def("light"),headerHeight:n().def(48),contentWidth:n().def("Fluid"),primaryColor:n().def("#f5222d"),iconfontUrl:n().def(""),iconPrefix:n().def("icon-"),fixedHeader:n().def(!0),fixSiderbar:n().def(!0),splitMenus:n().def(!1)},Bt={...Dt,mode:t().def("inline"),theme:t().def("light"),locale:i().def((e=>e||"")),layout:t().def("side"),menuData:o().def([]),multiple:e().def(!1),prefixCls:t().def("s-pro"),collapsed:e().def(!1),inlineIndent:l().def(16),menuItemRender:n().def((()=>{})),subMenuItemRender:n().def((()=>{})),selectedKeys:n().def(void 0),openKeys:n().def(void 0)},Yt={...Dt,...Bt,siderWidth:l().def(192),headerHeight:l().def(48),collapsedWidth:l().def(48),menuHeaderRender:n().def((()=>{})),menuFooterRender:n().def((()=>{})),menuContentRender:n().def((()=>{})),menuExtraRender:n().def((()=>{})),headerRender:n().def((()=>{})),breakpoint:n().def(void 0),splitMenus:e().def(!1),isMobile:e().def(!1),fixed:e().def(!1),onMenuClick:i().def(void 0),onCollapse:i().def(void 0),onOpenKeys:i().def(void 0),onSelect:i().def(void 0)},$t={...Dt,prefixCls:t().def("s-pro"),splitMenus:e().def(!1),collapsed:e().def(!1),isMobile:e().def(!1),menuData:o().def((()=>[])),headerTheme:t().def("light"),rightContentRender:n().def((()=>{})),subMenuItemRender:n().def((()=>{})),menuHeaderRender:n().def((()=>{})),menuItemRender:n().def((()=>{})),onCollapse:i().def(void 0),onOpenKeys:i().def(void 0),onSelect:i().def(void 0)},Vt={...Dt,...$t,hasSiderMenu:e().def(!1),headerRender:n().def((()=>{})),collapsedWidth:l().def(48),siderWidth:l().def(192)},Gt={...Dt,...Bt,...Yt,...$t,...Vt,hasSider:e().def(void 0),contentStyle:n().def(null),headerRender:n().def((()=>{})),locale:i().def((e=>e||"")),theme:t().def("light")};Ze(".s-pro-lazy-menu-icon {\n  display: block;\n  width: 14px;\n  height: 14px;\n  font-size: 14px;\n  line-height: 14px;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n");const Ut=e=>{const t=e.icon,l=e.prefixCls||"s-pro",n=e.iconPrefix||"icon-",o=e.iconfontUrl||"";return Ge.isNonEmptyString(t)&&Ge.isNonEmptyString(o)&&t.startsWith(n)?w(qe,{class:e.class||{},style:e.style||{},iconfontUrl:o,iconPrefix:n,type:t},null):Ge.isNonEmptyString(t)&&/^https?:\/\/[\s\S]+/i.test(t)?w("span",{role:"img",class:"anticon"},[w("img",{src:t,alt:"icon",class:`${l}-lazy-menu-icon`},null)]):Ge.isNonEmptyString(t)&&Ue(t)?w(qe,k(e,{type:t}),null):F(t)?t:null};function qt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!F(e)}const Xt=x({name:"BaseMenu",inheritAttrs:!1,props:{...Dt,...Bt},emits:{click:e=>!0,"update:openKeys":e=>!0,"update:selectedKeys":e=>!0},setup(e,{emit:t,attrs:l}){const n=Wt().value.getPrefixCls,o=e=>e.map((e=>r(e))).filter((e=>e)),r=t=>{const l={...t.meta},n=(t=>{const l={...t.meta},n={title:null,icon:null},o={to:{name:t.name,...t.meta}},r={};if(/^https?:\/\/[^\s\S]+/i.test(t.path)&&Object.assign(r,{...t.meta,href:t.path}),l.target&&Object.assign(r,{...t.meta,href:t.path,target:l.target}),!l.icon){const t=e.locale,a=e.prefixCls,i=l.target?"a":V("router-link"),s=Ge.isFunction(t)?t(l.title):l.title;n.title=w(i,k(r,o,{class:`${a}-menu-item`}),{default:()=>[w("span",null,[s])]})}if(l.icon){const t=e.locale,a=e.prefixCls,i=e.iconPrefix,s=e.iconfontUrl,d=l.target?"a":V("router-link"),c=Ge.isFunction(t)?t(l.title):l.title;n.icon=w(Ut,{icon:l.icon,iconPrefix:i,iconfontUrl:s},null),n.title=w(d,k(r,o,{class:`${a}-menu-item`}),{default:()=>[n.icon,w("span",{class:`${a}-menu-item-title`},[c])]})}return n})(t),r={title:l.title,icon:null},a=n.icon,i=n.title,s=e.locale,d=e.prefixCls,c=e.iconPrefix,u=e.iconfontUrl,p=e.menuItemRender,f=e.subMenuItemRender;if(Ge.isNonEmptyArray(t.children)&&!l.hideInMenu&&!l.hideChildrenInMenu){let e;if(Ge.isFunction(f))return f({item:t,children:o(t.children)});Ge.isFunction(s)&&(r.title=s(l.title)),l.icon||(r.title=w("span",{class:`${d}-menu-item`},[r.title])),l.icon&&(r.title=w("span",{class:`${d}-menu-item`},[w("span",{class:`${d}-menu-item-title`},[r.title])]));const n="group"===l.type,a=n?null:w(Ut,{icon:l.icon,iconPrefix:c,iconfontUrl:u},null),i=r.title,p=n?ve.ItemGroup:ve.SubMenu;return w(p,{key:t.path,icon:a,title:i,popupClassName:n?void 0:`${d}-menu-popup`},qt(e=o(t.children))?e:{default:()=>[e]})}return Ge.isFunction(p)?p({item:t,title:i,icon:a}):w(ve.Item,{disabled:l.disabled,danger:l.danger,key:t.path},qt(i)?i:{default:()=>[i]})},a=e=>{/^https?:\/\/[^\s\S]+/i.test(e.key)||t("update:selectedKeys",e.selectedKeys)},i=e=>{t("update:openKeys",e)},s=e=>{t("click",e)};return()=>{let t;return w(ve,{key:"Menu",mode:e.mode,class:l.class,style:l.style,theme:e.theme,prefixCls:n("menu"),inlineIndent:e.inlineIndent||16,selectedKeys:e.selectedKeys||[],openKeys:e.openKeys||[],onOpenChange:i,onSelect:a,onClick:s},qt(t=o(e.menuData))?t:{default:()=>[t]})}}}),Qt=x({name:"SiderMenu",inheritAttrs:!1,props:{...Dt,...Bt,...Yt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Wt(),n=l.value.getPrefixCls,o=l.value.getPrefixCls("layout-sider"),r=e=>{f.value?t("select",[l.value.selectedKeys[0],...e]):t("select",e)},a=e=>{t("openKeys",e)},i=l=>{e.isMobile||t("collapse",l)},s=(...e)=>{t("menuClick",...e)},d=W((()=>e.collapsed?e.collapsedWidth:e.siderWidth)),c=W((()=>"mix"===e.layout&&"realDark"!==e.theme?"light":"realDark"!==e.theme?e.theme:"dark")),u=W((()=>e.locale||l.value.locale)),p=W((()=>f.value?l.value.flatMenuData:l.value.menuData)),f=W((()=>"mix"===e.layout&&e.splitMenus)),b=W((()=>{if("mix"===e.layout&&!e.isMobile)return`${e.headerHeight}px`})),h=W((()=>({[o]:!0,[`${o}-fixed`]:e.fixSiderbar,[`${o}-${c.value}`]:!0,[`${o}-layout-${e.layout}`]:e.layout&&!e.isMobile}))),g=()=>{const t=w(Xt,k({mode:"inline",style:"width: 100%; background-color: transparent; border: none;",class:`${o}-menu`,prefixCls:n("menu"),theme:c.value,locale:u.value,menuData:p.value,selectedKeys:e.selectedKeys,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,iconfontUrl:e.iconfontUrl,iconPrefix:e.iconPrefix,collapsed:e.collapsed,openKeys:e.openKeys,onClick:s},{"onUpdate:selectedKeys":r,"onUpdate:openKeys":a}),null);return Ge.isFunction(e.menuContentRender)?w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[e.menuContentRender({...e},t)||t]):w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[t])},y=()=>{if((e.isMobile||"mix"!==e.layout)&&Ge.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-logo`},[t])}},m=()=>{if(Ge.isFunction(e.menuExtraRender)){const t=e.menuExtraRender({...e});if(t)return w("div",{class:`${o}-extra`},[t])}},v=()=>{if(Ge.isFunction(e.menuFooterRender))return w("div",{class:`${o}-footer`},[e.menuFooterRender({...e})])},x=()=>{if(e.fixSiderbar)return w("div",{style:{flex:`0 0 ${d.value}px`,width:`${d.value}px`,maxWidth:`${d.value}px`,minWidth:`${d.value}px`,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",overflow:"hidden"}},null)};return()=>w(D,null,[x(),w(ye.Sider,{style:{overflow:"hidden",backgroundColor:"light"!==c.value?"#001529 !important":"#ffffff !important",paddingTop:b.value},trigger:null,collapsible:!0,width:d.value,theme:c.value,class:h.value,prefixCls:n("layout-sider"),collapsed:e.collapsed,breakpoint:e.breakpoint,collapsedWidth:e.collapsedWidth,onCollapse:i},{default:()=>[y(),m(),g(),v()]})])}}),Jt=x({name:"SiderMenuWrapper",inheritAttrs:!1,props:{...Dt,...Bt,...Yt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Wt().value.getPrefixCls,n=e=>{t("select",e)},o=e=>{t("openKeys",e)},r=(...e)=>{t("menuClick",...e)},a=l=>{e.isMobile||t("collapse",l)};return()=>e.isMobile?w(me,{mask:!0,closable:!1,maskClosable:!0,placement:"left",open:!e.collapsed,width:e.siderWidth,style:{padding:0,height:"100vh"},onClose:()=>t("collapse",!0),rootClassName:l("sider-menu-drawer"),bodyStyle:{display:"flex",height:"100vh",padding:"0px 0px",flexDirection:"row"}},{default:()=>[w(Qt,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:a,splitMenus:!1},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)]}):w(Qt,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,splitMenus:e.splitMenus,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:a},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)}}),_t=x({name:"TopNavHeaderRightContent",inheritAttrs:!1,props:{...Dt,...Bt,...Yt,...$t},setup(e){const t=Wt().value.getPrefixCls,l=()=>{if(Ge.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>w("div",{class:t("top-nav-header-right-content"),style:{flex:"0 0 auto",height:"100%"}},[l()])}}),Zt=x({name:"TopNavHeader",inheritAttrs:!1,props:{...Dt,...Bt,...Yt,...$t},emits:{openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Wt(),n=l.value.getPrefixCls,o=n("top-nav-header"),r=W((()=>({[o]:!0,light:"light"===e.theme}))),a=W((()=>({[`${o}-main`]:!0,wide:"Fixed"===e.contentWidth}))),i=()=>{if(Ge.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-main-left`},[w("div",{class:`${o}-logo`},[t])])}},s=()=>{const o=W((()=>"realDark"!==e.theme?e.theme:"dark")),r=W((()=>e.locale||l.value.locale));return w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[w(Xt,k({mode:e.mode,theme:o.value,locale:r.value,style:{"line-height":`${e.headerHeight}px`,"background-color":"transparent",border:"none"},class:{"s-pro-top-nav-menu":"horizontal"===e.mode},prefixCls:n("top-nav-header-menu"),menuData:e.menuData,collapsed:e.collapsed,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,selectedKeys:e.selectedKeys,openKeys:e.openKeys},{"onUpdate:selectedKeys":e=>{t("select",e)},"onUpdate:openKeys":e=>{t("openKeys",e)}}),null)])},d=()=>{if(e.rightContentRender)return w(_t,e,null)};return()=>w("div",{class:r.value},[w("div",{class:a.value},[i(),s(),d()])])}}),el=x({name:"GlobalHeader",inheritAttrs:!1,props:{...Dt,...Bt,...$t},setup(e,t){const l=(0,Wt().value.getPrefixCls)("global-header"),n=W((()=>{if(!Ge.isArray(e.menuData))return[];return jt(e.menuData.map((e=>({...e,children:void 0}))))})),o=W((()=>"realDark"!==e.theme?e.theme:"dark")),r=W((()=>({[l]:!0,[`${l}-layout-${e.layout}`]:e.layout&&"dark"===e.headerTheme}))),a=()=>{if(Ge.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>{return!e.isMobile&&e.splitMenus&&"mix"===e.layout?w(Zt,k(e,{mode:"horizontal",theme:o.value,menuData:n.value}),null):w("div",{class:r.value},[w("div",{style:"flex: 1 1 auto"},[null==(i=null==t?void 0:(l=t.slots).default)?void 0:i.call(l)]),a()]);var l,i}}});Ze(".s-pro-basicLayout {\n  display: flex;\n  width: 100%;\n  min-height: 100%;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider {\n  display: flex;\n  width: 0;\n  flex: 1 1 auto;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout,\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout-content {\n  width: auto;\n}\n.s-pro-basicLayout .s-pro-basicLayout-content {\n  position: relative;\n  padding: 0;\n  margin: 0;\n}\n.s-pro-basicLayout .s-pro-layout-header.s-pro-layout-fixed-header {\n  position: fixed;\n  z-index: 19;\n  right: 0;\n  top: 0;\n  transition: all 0.2s, background 0s;\n}\n");const tl=(e,t,l="default")=>void 0===t[l]?e[l]:t[l];const ll=x({name:"ProLayoutHeader",inheritAttrs:!1,props:{...Dt,...Bt,...$t,...Vt},setup(e,{emit:t}){const l=Wt(),n=W((()=>l.value.getPrefixCls("layout-header"))),o=W((()=>r.value&&e.hasSiderMenu&&!e.isMobile&&"top"!==e.layout)),r=W((()=>e.fixedHeader||l.value.fixedHeader||"mix"===e.layout)),a=W((()=>({[`${n.value.slice(0,-7)}-fixed-header`]:r.value,[`${n.value}-top-menu`]:"top"===e.layout}))),i=W((()=>Ge.isArray(l.value.menuData)?jt(l.value.menuData):[])),s=W((()=>"realDark"!==e.theme?e.theme:"dark")),d=W((()=>"mix"!==e.layout&&o.value?`calc(100% - ${e.collapsed?e.collapsedWidth:e.siderWidth}px)`:"100%")),c=()=>{if(r.value)return w(ye.Header,{style:{height:`${e.headerHeight}px`,lineHeight:`${e.headerHeight}px`,background:"transparent"}},null)},u=()=>{let t;return w(ye.Header,{prefixCls:n.value,class:a.value,style:{width:d.value,height:`${e.headerHeight}px`,margin:0,padding:0,lineHeight:`${e.headerHeight}px`,backgroundColor:"#001529 !important",zIndex:"mix"===e.layout?100:19,right:r.value?0:void 0}},"function"==typeof(l=t=(()=>{let t=null;return e.isMobile||"top"!==e.layout||(t=w(Zt,k(e,{mode:"horizontal",theme:s.value,menuData:i.value}),null)),Ge.isFunction(e.headerRender)?e.headerRender({...e},t):t})())||"[object Object]"===Object.prototype.toString.call(l)&&!F(l)?t:{default:()=>[t]});var l};return()=>w(D,null,[c(),u()])}}),nl=x({name:"ProBasicLayout",inheritAttrs:!1,props:{...Dt,...Bt,...Yt,...$t,...Vt,...Gt},emits:{"update:selectedKeys":e=>!0,"update:openKeys":e=>!0,menuClick:(...e)=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{attrs:t,slots:l,emit:n}){const o=(()=>{const e=S("md");return Object.keys(Ht).forEach((t=>{const l=Ht[t].matchMedia,n=window.matchMedia(l);n.onchange=l=>{l.matches&&(e.value=t)},n.matches&&(e.value=t)})),e})(),r=W((()=>"mix"===e.layout||"side"===e.layout)),a=W((()=>"sm"===o.value||"xs"===o.value)),i=W((()=>e.collapsed?e.collapsedWidth:e.siderWidth)),s=W((()=>!0===r.value&&!0===d.value)),d=W((()=>"mix"===e.layout&&!0===e.splitMenus)),c=W((()=>`${e.prefixCls}-basicLayout`)),u=W((()=>`${e.prefixCls}-layout`)),p=W((()=>s.value&&Ge.isArray(e.selectedKeys)?function(e,t){if(void 0!==t){const l=e.find((e=>e.path===t));return(null==l?void 0:l.children)||[]}return[]}(e.menuData,e.selectedKeys[0]):[])),f=W((()=>({...Lt,locale:e.locale,menuData:e.menuData,openKeys:e.openKeys||[],selectedKeys:e.selectedKeys||[],contentWidth:e.contentWidth,headerHeight:e.headerHeight,fixSiderbar:e.fixSiderbar,fixedHeader:e.fixedHeader,hasSide:r.value,isMobile:a.value,siderWidth:i.value,flatMenuData:p.value,flatMenu:s.value,hasHeader:!0})));Y(Mt,f);const b=(...e)=>{n("menuClick",...e)},h=e=>{n("update:openKeys",e),n("openKeys",e)},g=e=>{n("update:selectedKeys",e),n("select",e)};return()=>{const n=tl(l,e,"rightContentRender"),r=tl(l,e,"subMenuItemRender"),i=tl(l,e,"menuContentRender"),s=tl(l,e,"menuHeaderRender"),d=tl(l,e,"menuFooterRender"),p=tl(l,e,"menuExtraRender"),y=tl(l,e,"menuItemRender"),m=tl(l,e,"headerRender"),v=W((()=>({[`${e.prefixCls}-screen-${o.value}`]:o.value,[`${c.value}-top-menu`]:"top"===e.layout,[`${c.value}-fix-siderbar`]:e.fixSiderbar,[`${c.value}-${e.layout}`]:e.layout,[`${c.value}`]:!0}))),x=W((()=>({[`${c.value}-content`]:!0,[`${c.value}-has-header`]:!0}))),k=()=>{const t={...e,isMobile:a.value,hasSiderMenu:"top"!==e.layout,rightContentRender:n,subMenuItemRender:r,menuContentRender:i,menuHeaderRender:s,menuExtraRender:p,menuItemRender:y,headerRender:m,onOpenKeys:h,onSelect:g};return w(ll,t,null)},S=()=>{if("top"!==e.layout||a.value){const t={...e,isMobile:a.value,menuContentRender:i,subMenuItemRender:r,menuHeaderRender:s,menuFooterRender:d,menuExtraRender:p,menuItemRender:y,onMenuClick:b,onOpenKeys:h,onSelect:g};return w(Jt,t,null)}};return w("div",{class:v.value},[w(ye,{prefixCls:u.value,style:{minHeight:"100%",...t.style||{}}},{default:()=>[S(),w("div",{style:"display: flex; flex: 1 1 auto; flex-direction: column; min-width: 0; position: relative;"},[k(),w(ye.Content,{style:e.contentStyle,class:x.value,prefixCls:f.value.getPrefixCls("layout-content"),hasSider:e.hasSider},{default:()=>{var e;return[null==(e=l.default)?void 0:e.call(l)]}})])]})])}}});Ze(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const ol=x({name:"SEditCellSelectIcon",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:e().def(!0),check:e().def(!0),synced:e().def(!1),opened:e().def(!1),status:e().def(!1),tooltip:r().def((()=>({enable:!0,ellipsis:!1}))),disabled:e().def(!1),options:o().def(void 0),showArrow:e().def(!0),allowClear:e().def(!1),showSearch:e().def(!0),fieldNames:r().def((()=>({label:"label",value:"value",options:"options"}))),placeholder:t().def(),optionLabelProp:t().def(),optionFilterProp:t().def(),cellStyle:r().def((()=>({})))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(u,null,null),style:{...e.cellStyle.check},onClick:l=>(l=>{e.opened||(s.editable=!1),t("confirm",A(s)),l.stopPropagation()})(l)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(p,null,null),style:e.cellStyle.edit},null):null,r=()=>{var l;if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(_e,{value:s.value,"onUpdate:value":e=>s.value=e,size:null==(l=i.componentSize)?void 0:l.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,mode:"tags",multiple:!1,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",A(s))),onFocus:e=>(e=>{t("focus",A(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",A(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const r=e.text,d=e.fieldNames.label||"label",c=e.fieldNames.value||"value",u=e.fieldNames.options||"options",p="string"==typeof r||"number"==typeof r?Ge.takeTextByKey(e.options,r,d,c,u)||e.text:void 0;return w(Xe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",A(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.options,a="string"==typeof t||"number"==typeof t,i=l.editableCellText?l.editableCellText({text:e.text,...A(s)}):null,d=a&&Ge.takeTextByKey(e.options,t,n,o,r)||e.text,c=i??(Ue(d)?w("span",null,[w(qe,{type:d,style:"margin-right: 5px;"},null),H(" "),d]):d),u=e.empty;return c||0===c?c:u},i=U(),s=N({value:e.text,editable:!1});return T((()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)})),I((()=>e.text),(()=>!e.disabled&&e.synced&&(s.value=e.text))),I((()=>e.status),(()=>!e.disabled&&!1===e.status&&(s.editable=!1))),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])},slots:{}});var rl={install(e){e.component("SEditCellInput",et),e.component("SEditCellSelect",tt),e.component("SEditCellTextarea",lt),e.component("SEditCellSelectIcon",ol),e.component("SEditCellTreeSelect",nt),e.component("SEditCellDatePicker",ot),e.component("SIconSelect",_e),e.component("SEllipsis",Xe),e.component("STable",Pt),e.component("STree",bt),e.component("SForm",pt),e.component("SIcon",qe)}};export{el as G,nl as P,yt as a,mt as b,jt as c,Ot as d,Ft as e,Et as f,Kt as g,Rt as h,rl as i,st as j,dt as k,ct as l,gt as m,ut as n,ht as t};
