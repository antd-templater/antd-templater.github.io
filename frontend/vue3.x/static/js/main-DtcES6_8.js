function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["static/js/views-all-DFTPQmI0.js","static/js/antd-design-all-oo9Tphy2.js","static/js/vendors-all-h_b8HQfl.js","static/js/vue-all-BT_XfqFG.js","static/js/antd-design-icons-vue-DGpSSGYL.js","static/js/antd-design-icons-svg-BFmZCdBW.js","static/js/date-all-BZDSu7DZ.js","static/css/antd-design-all-CKJ8obpB.css","static/js/bootstrap-Y478nqEJ.js","static/js/storage-all-CXnX7kz7.js","static/js/layout-all-DOkyDeMZ.js","static/js/antd-template-lib-BHshSahd.js","static/css/layout-all-CHpOjPZY.css","static/js/fetch-all-A-PGBAVm.js","static/css/views-all-Bu3BDgE6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{Y as e,n as s,Z as a,$ as t,p as o,K as i}from"./antd-design-all-oo9Tphy2.js";import{u as r,i as n,_ as l,A as c,j as m,k as u,n as d,c as p,o as _,M as h,D as g,P as v}from"./bootstrap-Y478nqEJ.js";import{d as y,e as L,n as w,w as f,$ as b,a0 as E,S as j,u as P,U as R,f as O,a1 as T,a2 as x,a3 as A,I as k,a4 as I}from"./vue-all-BT_XfqFG.js";import{d as V}from"./date-all-BZDSu7DZ.js";import{a as D}from"./antd-template-lib-BHshSahd.js";import{U as M,_ as q,a as S,b as U,c as z,d as C,e as B}from"./layout-all-DOkyDeMZ.js";import"./mock-all-U-wCG59_.js";import{O as $}from"./vendors-all-h_b8HQfl.js";const F=y({__name:"App",setup(t){const o=r(),i=L((()=>o.componentSize)),n=L((()=>o.language===e.locale?e:s));return w((()=>{a.config({theme:o.themeColor}),o.isMobile?document.body.classList.add("is-mobile"):document.body.classList.remove("is-mobile"),o.isMixMenu?document.body.classList.add("is-mixmenu"):document.body.classList.remove("is-mixmenu"),o.isTopMenu?document.body.classList.add("is-topmenu"):document.body.classList.remove("is-topmenu"),o.isSideMenu?document.body.classList.add("is-sidemenu"):document.body.classList.remove("is-sidemenu"),o.multiTab?document.body.classList.add("is-multi-tab"):document.body.classList.remove("is-multi-tab"),o.keepAlive?document.body.classList.add("is-keep-alive"):document.body.classList.remove("is-keep-alive"),o.themeWeak?document.body.classList.add("is-theme-weak"):document.body.classList.remove("is-theme-weak"),V.locale(o.language)})),f((()=>o.domTitle),(e=>{document.title=e.trim()}),{immediate:!0}),(e,s)=>{const t=R("RouterView"),o=a;return b(),E(o,{locale:P(n),componentSize:P(i)},{default:j((()=>[O(t)])),_:1},8,["locale","componentSize"])}}}),K=n.constantRoutes;K.push({path:"/index",name:"index",redirect:"/system/OrganizeManage"},{path:"/auth",redirect:"/auth/Login",component:M,children:[{path:"Login",name:"Login",component:()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.L))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),meta:{title:"系统登录"}}]});const W=T({routes:K,history:c?x(m):A(m),scrollBehavior:(e,s,a)=>{const t=r(),o=t.multiTab,i=t.keepAlive,n=!1!==e.meta.allowCache;return o&&i&&n&&a?a:{top:0,left:0}}}),Y={...u(Object.assign({"/src/views/auth/Login.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.L))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/error/PageError403.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.P))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/error/PageError404.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.a))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/error/PageError500.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/system/OrganizeManage.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.g))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/system/ResourceManage.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.R))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/system/RoleManage.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.q))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"/src/views/system/UserManage.vue":()=>l((()=>import("./views-all-DFTPQmI0.js").then((e=>e.u))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))})),...d(Object.assign({"/src/layout/BasicLayout.tsx":q,"/src/layout/BlankLayout.tsx":S,"/src/layout/PageFrame.tsx":U,"/src/layout/PageView.tsx":z,"/src/layout/RouteView.tsx":C,"/src/layout/UserLayout.tsx":B}))};t.configure({showSpinner:!1});const Z="/auth/Login",G=["/auth/Login"];W.beforeEach((async(e,s,a)=>{t.start();const i=p(),r=_(),n=i.token,l=i.logined;if(n){if(e.path===Z)return void a({path:$(e.query.redirect)&&e.query.redirect||"/index"});if(!l){try{await i.loginUserInfo({}),await r.generateRouter({},Y);const t=k(r.dynamicRoutes),o=s.query.redirect||e.path,n="string"==typeof o?decodeURIComponent(o):"";for(const e of t)W.addRoute(e);e.path===n?a({...e,replace:!0}):a({path:n})}catch{await new Promise((e=>{o.error({duration:.8,message:"系统通知",description:"获取用户信息失败，请重新登录!",onClose:()=>i.logout().then(e).catch(e)})})),a({path:Z,query:{redirect:e.fullPath}})}return}return a()}return e&&e.name?G.includes(e.path)?a():(await new Promise((e=>{o.error({duration:.8,message:"系统通知",description:"token 已过期, 请重新登录!",onClose:()=>i.logout().then(e).catch(e)})})),void a({path:Z,query:{redirect:e.fullPath}})):a({path:Z})})),W.afterEach((e=>{let s="";for(const a of e.matched){const e="/"!==a.path,t="string"==typeof a.meta.title&&a.meta.title.trim();e&&t&&(s=s?s+" - "+t:t)}r().toggleDomTitle(s),t.done()})),o.config({duration:1}),i.config({duration:1}),I(F).use(D).use(h).use(g).use(v).use(W).mount("#app");export{W as R};
