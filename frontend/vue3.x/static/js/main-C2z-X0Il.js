function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["static/js/views-all-rPy7hquX.js","static/js/vue-all-BkT7LybC.js","static/js/antdv-all-DwqtpcNy.js","static/js/vendors-all-4ZE5R_n7.js","static/js/darker-all-Bt1qyAmd.js","static/js/ant-design-icons-vue-C0jt0gvd.js","static/js/ant-design-colors-Bo5Pdg6O.js","static/js/ant-design-icons-svg-Bm1WGjl9.js","static/js/lodash-all-DYCDw5t1.js","static/js/ant-design-localer-DMYC9M_L.js","static/js/date-all-RxM2jsNH.js","static/js/bootstrap-DFf6tgZZ.js","static/js/storage-all-DawZEMnl.js","static/js/layout-all-EEMPDs8f.js","static/js/antd-template-library-WTYRR0PU.js","static/css/layout-all-CNCtDxdB.css","static/js/fetch-all-A-PGBAVm.js","static/css/views-all-hk2_XKMz.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{e,l as s}from"./ant-design-localer-DMYC9M_L.js";import{O as o,o as a,G as t}from"./antdv-all-DwqtpcNy.js";import{u as r,i,_ as n,A as c,j as l,k as d,n as m,c as u,o as p,D as h,P as y}from"./bootstrap-DFf6tgZZ.js";import{d as _,l as v,w as g,_ as L,$ as w,a0 as b,u as f,z as E,c as j,a1 as R,a2 as P,a3 as k,t as O,a4 as A}from"./vue-all-BkT7LybC.js";import{d as T}from"./date-all-RxM2jsNH.js";import{i as x}from"./antd-template-library-WTYRR0PU.js";import{U as C,_ as M,a as D,b as I,c as V,d as S,e as q}from"./layout-all-EEMPDs8f.js";import"./mock-all-DehNbHPf.js";import{o as z,C as U}from"./vendors-all-4ZE5R_n7.js";const B=_({__name:"App",setup(a){const t=r(),i=v((()=>t.componentSize)),n=v((()=>t.language===e.locale?e:s)),c=v((()=>({token:{borderRadius:4,colorLink:t.primaryColor,colorLinkHover:t.primaryColor,colorLinkActive:t.primaryColor,colorPrimary:t.primaryColor,colorWarning:t.warningColor,colorSuccess:t.successColor,colorError:t.errorColor,colorInfo:t.infoColor}})));return g((()=>{t.isMacOS?document.body.classList.add("is-mac-os"):document.body.classList.remove("is-mac-os"),t.isMobile?document.body.classList.add("is-mobile"):document.body.classList.remove("is-mobile"),t.isMixMenu?document.body.classList.add("is-mix-menu"):document.body.classList.remove("is-mix-menu"),t.isTopMenu?document.body.classList.add("is-top-menu"):document.body.classList.remove("is-top-menu"),t.isSideMenu?document.body.classList.add("is-side-menu"):document.body.classList.remove("is-side-menu"),t.isRealDark?document.body.classList.add("is-real-dark"):document.body.classList.remove("is-real-dark"),t.isWindowOS?document.body.classList.add("is-window-os"):document.body.classList.remove("is-window-os"),t.themeWeak?document.body.classList.add("is-theme-weak"):document.body.classList.remove("is-theme-weak"),t.keepAlive?document.body.classList.add("is-keep-alive"):document.body.classList.remove("is-keep-alive"),t.multiTab?document.body.classList.add("is-multi-tab"):document.body.classList.remove("is-multi-tab"),o.config({theme:t.themeColor}),T.locale(t.language)})),(e,s)=>{const a=E("RouterView"),t=o;return L(),w(t,{theme:f(c),locale:f(n),componentSize:f(i)},{default:b((()=>[j(a)])),_:1},8,["theme","locale","componentSize"])}}}),W=i.constantRoutes;W.push({path:"/index",name:"index",redirect:"/system/OrganizeManage"},{path:"/auth",redirect:"/auth/Login",component:C,children:[{path:"Login",name:"Login",component:()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.L))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),meta:{title:"系统登录"}}]});const F=R({routes:W,history:c?P(l):k(l),scrollBehavior:(e,s,o)=>{const a=r(),t=a.multiTab,i=a.keepAlive,n=!1!==e.meta.allowCache;return t&&i&&n&&o?o:{top:0,left:0}}}),G={...d(Object.assign({"/src/views/auth/Login.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.L))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/error/PageError403.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.P))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/error/PageError404.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.a))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/error/PageError500.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/system/OrganizeManage.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.g))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/system/ResourceManage.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.R))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/system/RoleManage.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.q))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),"/src/views/system/UserManage.vue":()=>n((()=>import("./views-all-rPy7hquX.js").then((e=>e.u))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))})),...m(Object.assign({"/src/layout/BasicLayout.tsx":M,"/src/layout/BlankLayout.tsx":D,"/src/layout/PageFrame.tsx":I,"/src/layout/PageView.tsx":V,"/src/layout/RouteView.tsx":S,"/src/layout/UserLayout.tsx":q}))};z.configure({showSpinner:!1});const H="/auth/Login",$=["/auth/Login"];F.beforeEach((async(e,s,o)=>{z.start();const t=u(),r=p(),i=t.token,n=t.logined;if(i){if(e.path===H)return void o({path:U(e.query.redirect)&&e.query.redirect||"/index"});if(!n){try{await t.loginUserInfo({}),await r.generateRouter({},G);const a=O(r.dynamicRoutes),i=s.query.redirect||e.path,n="string"==typeof i?decodeURIComponent(i):"";for(const e of a)F.addRoute(e);e.path===n?o({...e,replace:!0}):o({path:n})}catch{await new Promise((e=>{a.error({duration:.8,message:"系统通知",description:"获取用户信息失败，请重新登录!",onClose:()=>t.logout().then(e).catch(e)})})),o({path:H,query:{redirect:e.fullPath}})}return}return o()}return e&&e.name?$.includes(e.path)?o():(await new Promise((e=>{a.error({duration:.8,message:"系统通知",description:"token 已过期, 请重新登录!",onClose:()=>t.logout().then(e).catch(e)})})),void o({path:H,query:{redirect:e.fullPath}})):o({path:H})})),F.afterEach((e=>{let s="";for(const r of e.matched){const e="/"!==r.path,o="string"==typeof r.meta.title&&r.meta.title.trim();e&&o&&(s=s?s+" - "+o:o)}const o=r(),a=o.themeMode,t=o.toggleDomTitle;(0,o.toggleThemeMode)(a),t(s),z.done()})),a.config({duration:1}),t.config({duration:1}),A(B).use(x).use(h).use(y).use(F).mount("#app");export{F as R};
